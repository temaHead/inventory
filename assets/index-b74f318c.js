function U_(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function V_(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var yu={},B_={get exports(){return yu},set exports(e){yu=e}},Nl={},D={},z_={get exports(){return D},set exports(e){D=e}},Q={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ns=Symbol.for("react.element"),q_=Symbol.for("react.portal"),K_=Symbol.for("react.fragment"),W_=Symbol.for("react.strict_mode"),H_=Symbol.for("react.profiler"),Q_=Symbol.for("react.provider"),G_=Symbol.for("react.context"),Y_=Symbol.for("react.forward_ref"),X_=Symbol.for("react.suspense"),J_=Symbol.for("react.memo"),Z_=Symbol.for("react.lazy"),Gv=Symbol.iterator;function eI(e){return e===null||typeof e!="object"?null:(e=Gv&&e[Gv]||e["@@iterator"],typeof e=="function"?e:null)}var t0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},n0=Object.assign,r0={};function Io(e,t,n){this.props=e,this.context=t,this.refs=r0,this.updater=n||t0}Io.prototype.isReactComponent={};Io.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Io.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function i0(){}i0.prototype=Io.prototype;function Nd(e,t,n){this.props=e,this.context=t,this.refs=r0,this.updater=n||t0}var xd=Nd.prototype=new i0;xd.constructor=Nd;n0(xd,Io.prototype);xd.isPureReactComponent=!0;var Yv=Array.isArray,o0=Object.prototype.hasOwnProperty,Pd={current:null},u0={key:!0,ref:!0,__self:!0,__source:!0};function s0(e,t,n){var r,i={},o=null,u=null;if(t!=null)for(r in t.ref!==void 0&&(u=t.ref),t.key!==void 0&&(o=""+t.key),t)o0.call(t,r)&&!u0.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var a=Array(s),l=0;l<s;l++)a[l]=arguments[l+2];i.children=a}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:ns,type:e,key:o,ref:u,props:i,_owner:Pd.current}}function tI(e,t){return{$$typeof:ns,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Dd(e){return typeof e=="object"&&e!==null&&e.$$typeof===ns}function nI(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Xv=/\/+/g;function Hc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?nI(""+e.key):t.toString(36)}function ra(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var u=!1;if(e===null)u=!0;else switch(o){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case ns:case q_:u=!0}}if(u)return u=e,i=i(u),e=r===""?"."+Hc(u,0):r,Yv(i)?(n="",e!=null&&(n=e.replace(Xv,"$&/")+"/"),ra(i,t,n,"",function(l){return l})):i!=null&&(Dd(i)&&(i=tI(i,n+(!i.key||u&&u.key===i.key?"":(""+i.key).replace(Xv,"$&/")+"/")+e)),t.push(i)),1;if(u=0,r=r===""?".":r+":",Yv(e))for(var s=0;s<e.length;s++){o=e[s];var a=r+Hc(o,s);u+=ra(o,t,n,a,i)}else if(a=eI(e),typeof a=="function")for(e=a.call(e),s=0;!(o=e.next()).done;)o=o.value,a=r+Hc(o,s++),u+=ra(o,t,n,a,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function Ds(e,t,n){if(e==null)return e;var r=[],i=0;return ra(e,r,"","",function(o){return t.call(n,o,i++)}),r}function rI(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var dt={current:null},ia={transition:null},iI={ReactCurrentDispatcher:dt,ReactCurrentBatchConfig:ia,ReactCurrentOwner:Pd};Q.Children={map:Ds,forEach:function(e,t,n){Ds(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ds(e,function(){t++}),t},toArray:function(e){return Ds(e,function(t){return t})||[]},only:function(e){if(!Dd(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Q.Component=Io;Q.Fragment=K_;Q.Profiler=H_;Q.PureComponent=Nd;Q.StrictMode=W_;Q.Suspense=X_;Q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=iI;Q.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=n0({},e.props),i=e.key,o=e.ref,u=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,u=Pd.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(a in t)o0.call(t,a)&&!u0.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&s!==void 0?s[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){s=Array(a);for(var l=0;l<a;l++)s[l]=arguments[l+2];r.children=s}return{$$typeof:ns,type:e.type,key:i,ref:o,props:r,_owner:u}};Q.createContext=function(e){return e={$$typeof:G_,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Q_,_context:e},e.Consumer=e};Q.createElement=s0;Q.createFactory=function(e){var t=s0.bind(null,e);return t.type=e,t};Q.createRef=function(){return{current:null}};Q.forwardRef=function(e){return{$$typeof:Y_,render:e}};Q.isValidElement=Dd;Q.lazy=function(e){return{$$typeof:Z_,_payload:{_status:-1,_result:e},_init:rI}};Q.memo=function(e,t){return{$$typeof:J_,type:e,compare:t===void 0?null:t}};Q.startTransition=function(e){var t=ia.transition;ia.transition={};try{e()}finally{ia.transition=t}};Q.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Q.useCallback=function(e,t){return dt.current.useCallback(e,t)};Q.useContext=function(e){return dt.current.useContext(e)};Q.useDebugValue=function(){};Q.useDeferredValue=function(e){return dt.current.useDeferredValue(e)};Q.useEffect=function(e,t){return dt.current.useEffect(e,t)};Q.useId=function(){return dt.current.useId()};Q.useImperativeHandle=function(e,t,n){return dt.current.useImperativeHandle(e,t,n)};Q.useInsertionEffect=function(e,t){return dt.current.useInsertionEffect(e,t)};Q.useLayoutEffect=function(e,t){return dt.current.useLayoutEffect(e,t)};Q.useMemo=function(e,t){return dt.current.useMemo(e,t)};Q.useReducer=function(e,t,n){return dt.current.useReducer(e,t,n)};Q.useRef=function(e){return dt.current.useRef(e)};Q.useState=function(e){return dt.current.useState(e)};Q.useSyncExternalStore=function(e,t,n){return dt.current.useSyncExternalStore(e,t,n)};Q.useTransition=function(){return dt.current.useTransition()};Q.version="18.2.0";(function(e){e.exports=Q})(z_);const a0=V_(D),Wf=U_({__proto__:null,default:a0},[D]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oI=D,uI=Symbol.for("react.element"),sI=Symbol.for("react.fragment"),aI=Object.prototype.hasOwnProperty,lI=oI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,cI={key:!0,ref:!0,__self:!0,__source:!0};function l0(e,t,n){var r,i={},o=null,u=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(u=t.ref);for(r in t)aI.call(t,r)&&!cI.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:uI,type:e,key:o,ref:u,props:i,_owner:lI.current}}Nl.Fragment=sI;Nl.jsx=l0;Nl.jsxs=l0;(function(e){e.exports=Nl})(B_);const Qc=yu.Fragment,j=yu.jsx,et=yu.jsxs;var Hf={},_a={},fI={get exports(){return _a},set exports(e){_a=e}},Mt={},Qf={},hI={get exports(){return Qf},set exports(e){Qf=e}},c0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(L,q){var K=L.length;L.push(q);e:for(;0<K;){var we=K-1>>>1,Re=L[we];if(0<i(Re,q))L[we]=q,L[K]=Re,K=we;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var q=L[0],K=L.pop();if(K!==q){L[0]=K;e:for(var we=0,Re=L.length,xs=Re>>>1;we<xs;){var Pr=2*(we+1)-1,Wc=L[Pr],Dr=Pr+1,Ps=L[Dr];if(0>i(Wc,K))Dr<Re&&0>i(Ps,Wc)?(L[we]=Ps,L[Dr]=K,we=Dr):(L[we]=Wc,L[Pr]=K,we=Pr);else if(Dr<Re&&0>i(Ps,K))L[we]=Ps,L[Dr]=K,we=Dr;else break e}}return q}function i(L,q){var K=L.sortIndex-q.sortIndex;return K!==0?K:L.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();e.unstable_now=function(){return u.now()-s}}var a=[],l=[],c=1,f=null,h=3,d=!1,v=!1,m=!1,w=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(L){for(var q=n(l);q!==null;){if(q.callback===null)r(l);else if(q.startTime<=L)r(l),q.sortIndex=q.expirationTime,t(a,q);else break;q=n(l)}}function S(L){if(m=!1,g(L),!v)if(n(a)!==null)v=!0,qc(_);else{var q=n(l);q!==null&&Kc(S,q.startTime-L)}}function _(L,q){v=!1,m&&(m=!1,y($),$=-1),d=!0;var K=h;try{for(g(q),f=n(a);f!==null&&(!(f.expirationTime>q)||L&&!Ee());){var we=f.callback;if(typeof we=="function"){f.callback=null,h=f.priorityLevel;var Re=we(f.expirationTime<=q);q=e.unstable_now(),typeof Re=="function"?f.callback=Re:f===n(a)&&r(a),g(q)}else r(a);f=n(a)}if(f!==null)var xs=!0;else{var Pr=n(l);Pr!==null&&Kc(S,Pr.startTime-q),xs=!1}return xs}finally{f=null,h=K,d=!1}}var b=!1,P=null,$=-1,G=5,V=-1;function Ee(){return!(e.unstable_now()-V<G)}function Mo(){if(P!==null){var L=e.unstable_now();V=L;var q=!0;try{q=P(!0,L)}finally{q?Fo():(b=!1,P=null)}}else b=!1}var Fo;if(typeof p=="function")Fo=function(){p(Mo)};else if(typeof MessageChannel<"u"){var Qv=new MessageChannel,j_=Qv.port2;Qv.port1.onmessage=Mo,Fo=function(){j_.postMessage(null)}}else Fo=function(){w(Mo,0)};function qc(L){P=L,b||(b=!0,Fo())}function Kc(L,q){$=w(function(){L(e.unstable_now())},q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_continueExecution=function(){v||d||(v=!0,qc(_))},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(L){switch(h){case 1:case 2:case 3:var q=3;break;default:q=h}var K=h;h=q;try{return L()}finally{h=K}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(L,q){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var K=h;h=L;try{return q()}finally{h=K}},e.unstable_scheduleCallback=function(L,q,K){var we=e.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?we+K:we):K=we,L){case 1:var Re=-1;break;case 2:Re=250;break;case 5:Re=1073741823;break;case 4:Re=1e4;break;default:Re=5e3}return Re=K+Re,L={id:c++,callback:q,priorityLevel:L,startTime:K,expirationTime:Re,sortIndex:-1},K>we?(L.sortIndex=K,t(l,L),n(a)===null&&L===n(l)&&(m?(y($),$=-1):m=!0,Kc(S,K-we))):(L.sortIndex=Re,t(a,L),v||d||(v=!0,qc(_))),L},e.unstable_shouldYield=Ee,e.unstable_wrapCallback=function(L){var q=h;return function(){var K=h;h=q;try{return L.apply(this,arguments)}finally{h=K}}}})(c0);(function(e){e.exports=c0})(hI);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f0=D,Ot=Qf;function N(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var h0=new Set,mu={};function ci(e,t){Yi(e,t),Yi(e+"Capture",t)}function Yi(e,t){for(mu[e]=t,e=0;e<t.length;e++)h0.add(t[e])}var An=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gf=Object.prototype.hasOwnProperty,dI=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Jv={},Zv={};function pI(e){return Gf.call(Zv,e)?!0:Gf.call(Jv,e)?!1:dI.test(e)?Zv[e]=!0:(Jv[e]=!0,!1)}function vI(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function yI(e,t,n,r){if(t===null||typeof t>"u"||vI(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function pt(e,t,n,r,i,o,u){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=u}var Ke={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ke[e]=new pt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ke[t]=new pt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ke[e]=new pt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ke[e]=new pt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ke[e]=new pt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ke[e]=new pt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ke[e]=new pt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ke[e]=new pt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ke[e]=new pt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ad=/[\-:]([a-z])/g;function Rd(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ad,Rd);Ke[t]=new pt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ad,Rd);Ke[t]=new pt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ad,Rd);Ke[t]=new pt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ke[e]=new pt(e,1,!1,e.toLowerCase(),null,!1,!1)});Ke.xlinkHref=new pt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ke[e]=new pt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Od(e,t,n,r){var i=Ke.hasOwnProperty(t)?Ke[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(yI(t,n,i,r)&&(n=null),r||i===null?pI(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Fn=f0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,As=Symbol.for("react.element"),ki=Symbol.for("react.portal"),Ni=Symbol.for("react.fragment"),Ld=Symbol.for("react.strict_mode"),Yf=Symbol.for("react.profiler"),d0=Symbol.for("react.provider"),p0=Symbol.for("react.context"),$d=Symbol.for("react.forward_ref"),Xf=Symbol.for("react.suspense"),Jf=Symbol.for("react.suspense_list"),Md=Symbol.for("react.memo"),qn=Symbol.for("react.lazy"),v0=Symbol.for("react.offscreen"),ey=Symbol.iterator;function jo(e){return e===null||typeof e!="object"?null:(e=ey&&e[ey]||e["@@iterator"],typeof e=="function"?e:null)}var ve=Object.assign,Gc;function Go(e){if(Gc===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Gc=t&&t[1]||""}return`
`+Gc+e}var Yc=!1;function Xc(e,t){if(!e||Yc)return"";Yc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),o=r.stack.split(`
`),u=i.length-1,s=o.length-1;1<=u&&0<=s&&i[u]!==o[s];)s--;for(;1<=u&&0<=s;u--,s--)if(i[u]!==o[s]){if(u!==1||s!==1)do if(u--,s--,0>s||i[u]!==o[s]){var a=`
`+i[u].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=u&&0<=s);break}}}finally{Yc=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Go(e):""}function mI(e){switch(e.tag){case 5:return Go(e.type);case 16:return Go("Lazy");case 13:return Go("Suspense");case 19:return Go("SuspenseList");case 0:case 2:case 15:return e=Xc(e.type,!1),e;case 11:return e=Xc(e.type.render,!1),e;case 1:return e=Xc(e.type,!0),e;default:return""}}function Zf(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ni:return"Fragment";case ki:return"Portal";case Yf:return"Profiler";case Ld:return"StrictMode";case Xf:return"Suspense";case Jf:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case p0:return(e.displayName||"Context")+".Consumer";case d0:return(e._context.displayName||"Context")+".Provider";case $d:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Md:return t=e.displayName||null,t!==null?t:Zf(e.type)||"Memo";case qn:t=e._payload,e=e._init;try{return Zf(e(t))}catch{}}return null}function gI(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Zf(t);case 8:return t===Ld?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function yr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function y0(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function wI(e){var t=y0(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(u){r=""+u,o.call(this,u)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(u){r=""+u},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Rs(e){e._valueTracker||(e._valueTracker=wI(e))}function m0(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=y0(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ia(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function eh(e,t){var n=t.checked;return ve({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ty(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=yr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function g0(e,t){t=t.checked,t!=null&&Od(e,"checked",t,!1)}function th(e,t){g0(e,t);var n=yr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?nh(e,t.type,n):t.hasOwnProperty("defaultValue")&&nh(e,t.type,yr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ny(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function nh(e,t,n){(t!=="number"||Ia(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Yo=Array.isArray;function Vi(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+yr(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function rh(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(N(91));return ve({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ry(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(N(92));if(Yo(n)){if(1<n.length)throw Error(N(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:yr(n)}}function w0(e,t){var n=yr(t.value),r=yr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function iy(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function S0(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ih(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?S0(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Os,E0=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Os=Os||document.createElement("div"),Os.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Os.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function gu(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var nu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},SI=["Webkit","ms","Moz","O"];Object.keys(nu).forEach(function(e){SI.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),nu[t]=nu[e]})});function _0(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||nu.hasOwnProperty(e)&&nu[e]?(""+t).trim():t+"px"}function I0(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=_0(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var EI=ve({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function oh(e,t){if(t){if(EI[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(N(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(N(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(N(61))}if(t.style!=null&&typeof t.style!="object")throw Error(N(62))}}function uh(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sh=null;function Fd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ah=null,Bi=null,zi=null;function oy(e){if(e=os(e)){if(typeof ah!="function")throw Error(N(280));var t=e.stateNode;t&&(t=Rl(t),ah(e.stateNode,e.type,t))}}function T0(e){Bi?zi?zi.push(e):zi=[e]:Bi=e}function C0(){if(Bi){var e=Bi,t=zi;if(zi=Bi=null,oy(e),t)for(e=0;e<t.length;e++)oy(t[e])}}function b0(e,t){return e(t)}function k0(){}var Jc=!1;function N0(e,t,n){if(Jc)return e(t,n);Jc=!0;try{return b0(e,t,n)}finally{Jc=!1,(Bi!==null||zi!==null)&&(k0(),C0())}}function wu(e,t){var n=e.stateNode;if(n===null)return null;var r=Rl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(N(231,t,typeof n));return n}var lh=!1;if(An)try{var Uo={};Object.defineProperty(Uo,"passive",{get:function(){lh=!0}}),window.addEventListener("test",Uo,Uo),window.removeEventListener("test",Uo,Uo)}catch{lh=!1}function _I(e,t,n,r,i,o,u,s,a){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var ru=!1,Ta=null,Ca=!1,ch=null,II={onError:function(e){ru=!0,Ta=e}};function TI(e,t,n,r,i,o,u,s,a){ru=!1,Ta=null,_I.apply(II,arguments)}function CI(e,t,n,r,i,o,u,s,a){if(TI.apply(this,arguments),ru){if(ru){var l=Ta;ru=!1,Ta=null}else throw Error(N(198));Ca||(Ca=!0,ch=l)}}function fi(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function x0(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function uy(e){if(fi(e)!==e)throw Error(N(188))}function bI(e){var t=e.alternate;if(!t){if(t=fi(e),t===null)throw Error(N(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return uy(i),e;if(o===r)return uy(i),t;o=o.sibling}throw Error(N(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(N(189))}}if(n.alternate!==r)throw Error(N(190))}if(n.tag!==3)throw Error(N(188));return n.stateNode.current===n?e:t}function P0(e){return e=bI(e),e!==null?D0(e):null}function D0(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=D0(e);if(t!==null)return t;e=e.sibling}return null}var A0=Ot.unstable_scheduleCallback,sy=Ot.unstable_cancelCallback,kI=Ot.unstable_shouldYield,NI=Ot.unstable_requestPaint,Se=Ot.unstable_now,xI=Ot.unstable_getCurrentPriorityLevel,jd=Ot.unstable_ImmediatePriority,R0=Ot.unstable_UserBlockingPriority,ba=Ot.unstable_NormalPriority,PI=Ot.unstable_LowPriority,O0=Ot.unstable_IdlePriority,xl=null,pn=null;function DI(e){if(pn&&typeof pn.onCommitFiberRoot=="function")try{pn.onCommitFiberRoot(xl,e,void 0,(e.current.flags&128)===128)}catch{}}var en=Math.clz32?Math.clz32:OI,AI=Math.log,RI=Math.LN2;function OI(e){return e>>>=0,e===0?32:31-(AI(e)/RI|0)|0}var Ls=64,$s=4194304;function Xo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ka(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,u=n&268435455;if(u!==0){var s=u&~i;s!==0?r=Xo(s):(o&=u,o!==0&&(r=Xo(o)))}else u=n&~i,u!==0?r=Xo(u):o!==0&&(r=Xo(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-en(t),i=1<<n,r|=e[n],t&=~i;return r}function LI(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $I(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var u=31-en(o),s=1<<u,a=i[u];a===-1?(!(s&n)||s&r)&&(i[u]=LI(s,t)):a<=t&&(e.expiredLanes|=s),o&=~s}}function fh(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function L0(){var e=Ls;return Ls<<=1,!(Ls&4194240)&&(Ls=64),e}function Zc(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function rs(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-en(t),e[t]=n}function MI(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-en(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function Ud(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-en(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var te=0;function $0(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var M0,Vd,F0,j0,U0,hh=!1,Ms=[],rr=null,ir=null,or=null,Su=new Map,Eu=new Map,Hn=[],FI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ay(e,t){switch(e){case"focusin":case"focusout":rr=null;break;case"dragenter":case"dragleave":ir=null;break;case"mouseover":case"mouseout":or=null;break;case"pointerover":case"pointerout":Su.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Eu.delete(t.pointerId)}}function Vo(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=os(t),t!==null&&Vd(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function jI(e,t,n,r,i){switch(t){case"focusin":return rr=Vo(rr,e,t,n,r,i),!0;case"dragenter":return ir=Vo(ir,e,t,n,r,i),!0;case"mouseover":return or=Vo(or,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Su.set(o,Vo(Su.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Eu.set(o,Vo(Eu.get(o)||null,e,t,n,r,i)),!0}return!1}function V0(e){var t=jr(e.target);if(t!==null){var n=fi(t);if(n!==null){if(t=n.tag,t===13){if(t=x0(n),t!==null){e.blockedOn=t,U0(e.priority,function(){F0(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function oa(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=dh(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);sh=r,n.target.dispatchEvent(r),sh=null}else return t=os(n),t!==null&&Vd(t),e.blockedOn=n,!1;t.shift()}return!0}function ly(e,t,n){oa(e)&&n.delete(t)}function UI(){hh=!1,rr!==null&&oa(rr)&&(rr=null),ir!==null&&oa(ir)&&(ir=null),or!==null&&oa(or)&&(or=null),Su.forEach(ly),Eu.forEach(ly)}function Bo(e,t){e.blockedOn===t&&(e.blockedOn=null,hh||(hh=!0,Ot.unstable_scheduleCallback(Ot.unstable_NormalPriority,UI)))}function _u(e){function t(i){return Bo(i,e)}if(0<Ms.length){Bo(Ms[0],e);for(var n=1;n<Ms.length;n++){var r=Ms[n];r.blockedOn===e&&(r.blockedOn=null)}}for(rr!==null&&Bo(rr,e),ir!==null&&Bo(ir,e),or!==null&&Bo(or,e),Su.forEach(t),Eu.forEach(t),n=0;n<Hn.length;n++)r=Hn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Hn.length&&(n=Hn[0],n.blockedOn===null);)V0(n),n.blockedOn===null&&Hn.shift()}var qi=Fn.ReactCurrentBatchConfig,Na=!0;function VI(e,t,n,r){var i=te,o=qi.transition;qi.transition=null;try{te=1,Bd(e,t,n,r)}finally{te=i,qi.transition=o}}function BI(e,t,n,r){var i=te,o=qi.transition;qi.transition=null;try{te=4,Bd(e,t,n,r)}finally{te=i,qi.transition=o}}function Bd(e,t,n,r){if(Na){var i=dh(e,t,n,r);if(i===null)cf(e,t,r,xa,n),ay(e,r);else if(jI(i,e,t,n,r))r.stopPropagation();else if(ay(e,r),t&4&&-1<FI.indexOf(e)){for(;i!==null;){var o=os(i);if(o!==null&&M0(o),o=dh(e,t,n,r),o===null&&cf(e,t,r,xa,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else cf(e,t,r,null,n)}}var xa=null;function dh(e,t,n,r){if(xa=null,e=Fd(r),e=jr(e),e!==null)if(t=fi(e),t===null)e=null;else if(n=t.tag,n===13){if(e=x0(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return xa=e,null}function B0(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(xI()){case jd:return 1;case R0:return 4;case ba:case PI:return 16;case O0:return 536870912;default:return 16}default:return 16}}var er=null,zd=null,ua=null;function z0(){if(ua)return ua;var e,t=zd,n=t.length,r,i="value"in er?er.value:er.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var u=n-e;for(r=1;r<=u&&t[n-r]===i[o-r];r++);return ua=i.slice(e,1<r?1-r:void 0)}function sa(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Fs(){return!0}function cy(){return!1}function Ft(e){function t(n,r,i,o,u){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=u,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Fs:cy,this.isPropagationStopped=cy,this}return ve(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Fs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Fs)},persist:function(){},isPersistent:Fs}),t}var To={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qd=Ft(To),is=ve({},To,{view:0,detail:0}),zI=Ft(is),ef,tf,zo,Pl=ve({},is,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==zo&&(zo&&e.type==="mousemove"?(ef=e.screenX-zo.screenX,tf=e.screenY-zo.screenY):tf=ef=0,zo=e),ef)},movementY:function(e){return"movementY"in e?e.movementY:tf}}),fy=Ft(Pl),qI=ve({},Pl,{dataTransfer:0}),KI=Ft(qI),WI=ve({},is,{relatedTarget:0}),nf=Ft(WI),HI=ve({},To,{animationName:0,elapsedTime:0,pseudoElement:0}),QI=Ft(HI),GI=ve({},To,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),YI=Ft(GI),XI=ve({},To,{data:0}),hy=Ft(XI),JI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ZI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},eT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tT(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=eT[e])?!!t[e]:!1}function Kd(){return tT}var nT=ve({},is,{key:function(e){if(e.key){var t=JI[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=sa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ZI[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kd,charCode:function(e){return e.type==="keypress"?sa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?sa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),rT=Ft(nT),iT=ve({},Pl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dy=Ft(iT),oT=ve({},is,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kd}),uT=Ft(oT),sT=ve({},To,{propertyName:0,elapsedTime:0,pseudoElement:0}),aT=Ft(sT),lT=ve({},Pl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),cT=Ft(lT),fT=[9,13,27,32],Wd=An&&"CompositionEvent"in window,iu=null;An&&"documentMode"in document&&(iu=document.documentMode);var hT=An&&"TextEvent"in window&&!iu,q0=An&&(!Wd||iu&&8<iu&&11>=iu),py=String.fromCharCode(32),vy=!1;function K0(e,t){switch(e){case"keyup":return fT.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function W0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var xi=!1;function dT(e,t){switch(e){case"compositionend":return W0(t);case"keypress":return t.which!==32?null:(vy=!0,py);case"textInput":return e=t.data,e===py&&vy?null:e;default:return null}}function pT(e,t){if(xi)return e==="compositionend"||!Wd&&K0(e,t)?(e=z0(),ua=zd=er=null,xi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return q0&&t.locale!=="ko"?null:t.data;default:return null}}var vT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!vT[e.type]:t==="textarea"}function H0(e,t,n,r){T0(r),t=Pa(t,"onChange"),0<t.length&&(n=new qd("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ou=null,Iu=null;function yT(e){i1(e,0)}function Dl(e){var t=Ai(e);if(m0(t))return e}function mT(e,t){if(e==="change")return t}var Q0=!1;if(An){var rf;if(An){var of="oninput"in document;if(!of){var my=document.createElement("div");my.setAttribute("oninput","return;"),of=typeof my.oninput=="function"}rf=of}else rf=!1;Q0=rf&&(!document.documentMode||9<document.documentMode)}function gy(){ou&&(ou.detachEvent("onpropertychange",G0),Iu=ou=null)}function G0(e){if(e.propertyName==="value"&&Dl(Iu)){var t=[];H0(t,Iu,e,Fd(e)),N0(yT,t)}}function gT(e,t,n){e==="focusin"?(gy(),ou=t,Iu=n,ou.attachEvent("onpropertychange",G0)):e==="focusout"&&gy()}function wT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Dl(Iu)}function ST(e,t){if(e==="click")return Dl(t)}function ET(e,t){if(e==="input"||e==="change")return Dl(t)}function _T(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var un=typeof Object.is=="function"?Object.is:_T;function Tu(e,t){if(un(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Gf.call(t,i)||!un(e[i],t[i]))return!1}return!0}function wy(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Sy(e,t){var n=wy(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=wy(n)}}function Y0(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Y0(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function X0(){for(var e=window,t=Ia();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ia(e.document)}return t}function Hd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function IT(e){var t=X0(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Y0(n.ownerDocument.documentElement,n)){if(r!==null&&Hd(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=Sy(n,o);var u=Sy(n,r);i&&u&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==u.node||e.focusOffset!==u.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(u.node,u.offset)):(t.setEnd(u.node,u.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var TT=An&&"documentMode"in document&&11>=document.documentMode,Pi=null,ph=null,uu=null,vh=!1;function Ey(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;vh||Pi==null||Pi!==Ia(r)||(r=Pi,"selectionStart"in r&&Hd(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),uu&&Tu(uu,r)||(uu=r,r=Pa(ph,"onSelect"),0<r.length&&(t=new qd("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Pi)))}function js(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Di={animationend:js("Animation","AnimationEnd"),animationiteration:js("Animation","AnimationIteration"),animationstart:js("Animation","AnimationStart"),transitionend:js("Transition","TransitionEnd")},uf={},J0={};An&&(J0=document.createElement("div").style,"AnimationEvent"in window||(delete Di.animationend.animation,delete Di.animationiteration.animation,delete Di.animationstart.animation),"TransitionEvent"in window||delete Di.transitionend.transition);function Al(e){if(uf[e])return uf[e];if(!Di[e])return e;var t=Di[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in J0)return uf[e]=t[n];return e}var Z0=Al("animationend"),e1=Al("animationiteration"),t1=Al("animationstart"),n1=Al("transitionend"),r1=new Map,_y="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _r(e,t){r1.set(e,t),ci(t,[e])}for(var sf=0;sf<_y.length;sf++){var af=_y[sf],CT=af.toLowerCase(),bT=af[0].toUpperCase()+af.slice(1);_r(CT,"on"+bT)}_r(Z0,"onAnimationEnd");_r(e1,"onAnimationIteration");_r(t1,"onAnimationStart");_r("dblclick","onDoubleClick");_r("focusin","onFocus");_r("focusout","onBlur");_r(n1,"onTransitionEnd");Yi("onMouseEnter",["mouseout","mouseover"]);Yi("onMouseLeave",["mouseout","mouseover"]);Yi("onPointerEnter",["pointerout","pointerover"]);Yi("onPointerLeave",["pointerout","pointerover"]);ci("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ci("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ci("onBeforeInput",["compositionend","keypress","textInput","paste"]);ci("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ci("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ci("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kT=new Set("cancel close invalid load scroll toggle".split(" ").concat(Jo));function Iy(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,CI(r,t,void 0,e),e.currentTarget=null}function i1(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var u=r.length-1;0<=u;u--){var s=r[u],a=s.instance,l=s.currentTarget;if(s=s.listener,a!==o&&i.isPropagationStopped())break e;Iy(i,s,l),o=a}else for(u=0;u<r.length;u++){if(s=r[u],a=s.instance,l=s.currentTarget,s=s.listener,a!==o&&i.isPropagationStopped())break e;Iy(i,s,l),o=a}}}if(Ca)throw e=ch,Ca=!1,ch=null,e}function ue(e,t){var n=t[Sh];n===void 0&&(n=t[Sh]=new Set);var r=e+"__bubble";n.has(r)||(o1(t,e,2,!1),n.add(r))}function lf(e,t,n){var r=0;t&&(r|=4),o1(n,e,r,t)}var Us="_reactListening"+Math.random().toString(36).slice(2);function Cu(e){if(!e[Us]){e[Us]=!0,h0.forEach(function(n){n!=="selectionchange"&&(kT.has(n)||lf(n,!1,e),lf(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Us]||(t[Us]=!0,lf("selectionchange",!1,t))}}function o1(e,t,n,r){switch(B0(t)){case 1:var i=VI;break;case 4:i=BI;break;default:i=Bd}n=i.bind(null,t,n,e),i=void 0,!lh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function cf(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var u=r.tag;if(u===3||u===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(u===4)for(u=r.return;u!==null;){var a=u.tag;if((a===3||a===4)&&(a=u.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;u=u.return}for(;s!==null;){if(u=jr(s),u===null)return;if(a=u.tag,a===5||a===6){r=o=u;continue e}s=s.parentNode}}r=r.return}N0(function(){var l=o,c=Fd(n),f=[];e:{var h=r1.get(e);if(h!==void 0){var d=qd,v=e;switch(e){case"keypress":if(sa(n)===0)break e;case"keydown":case"keyup":d=rT;break;case"focusin":v="focus",d=nf;break;case"focusout":v="blur",d=nf;break;case"beforeblur":case"afterblur":d=nf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=fy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=KI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=uT;break;case Z0:case e1:case t1:d=QI;break;case n1:d=aT;break;case"scroll":d=zI;break;case"wheel":d=cT;break;case"copy":case"cut":case"paste":d=YI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=dy}var m=(t&4)!==0,w=!m&&e==="scroll",y=m?h!==null?h+"Capture":null:h;m=[];for(var p=l,g;p!==null;){g=p;var S=g.stateNode;if(g.tag===5&&S!==null&&(g=S,y!==null&&(S=wu(p,y),S!=null&&m.push(bu(p,S,g)))),w)break;p=p.return}0<m.length&&(h=new d(h,v,null,n,c),f.push({event:h,listeners:m}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",d=e==="mouseout"||e==="pointerout",h&&n!==sh&&(v=n.relatedTarget||n.fromElement)&&(jr(v)||v[Rn]))break e;if((d||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,d?(v=n.relatedTarget||n.toElement,d=l,v=v?jr(v):null,v!==null&&(w=fi(v),v!==w||v.tag!==5&&v.tag!==6)&&(v=null)):(d=null,v=l),d!==v)){if(m=fy,S="onMouseLeave",y="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(m=dy,S="onPointerLeave",y="onPointerEnter",p="pointer"),w=d==null?h:Ai(d),g=v==null?h:Ai(v),h=new m(S,p+"leave",d,n,c),h.target=w,h.relatedTarget=g,S=null,jr(c)===l&&(m=new m(y,p+"enter",v,n,c),m.target=g,m.relatedTarget=w,S=m),w=S,d&&v)t:{for(m=d,y=v,p=0,g=m;g;g=Ei(g))p++;for(g=0,S=y;S;S=Ei(S))g++;for(;0<p-g;)m=Ei(m),p--;for(;0<g-p;)y=Ei(y),g--;for(;p--;){if(m===y||y!==null&&m===y.alternate)break t;m=Ei(m),y=Ei(y)}m=null}else m=null;d!==null&&Ty(f,h,d,m,!1),v!==null&&w!==null&&Ty(f,w,v,m,!0)}}e:{if(h=l?Ai(l):window,d=h.nodeName&&h.nodeName.toLowerCase(),d==="select"||d==="input"&&h.type==="file")var _=mT;else if(yy(h))if(Q0)_=ET;else{_=wT;var b=gT}else(d=h.nodeName)&&d.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(_=ST);if(_&&(_=_(e,l))){H0(f,_,n,c);break e}b&&b(e,h,l),e==="focusout"&&(b=h._wrapperState)&&b.controlled&&h.type==="number"&&nh(h,"number",h.value)}switch(b=l?Ai(l):window,e){case"focusin":(yy(b)||b.contentEditable==="true")&&(Pi=b,ph=l,uu=null);break;case"focusout":uu=ph=Pi=null;break;case"mousedown":vh=!0;break;case"contextmenu":case"mouseup":case"dragend":vh=!1,Ey(f,n,c);break;case"selectionchange":if(TT)break;case"keydown":case"keyup":Ey(f,n,c)}var P;if(Wd)e:{switch(e){case"compositionstart":var $="onCompositionStart";break e;case"compositionend":$="onCompositionEnd";break e;case"compositionupdate":$="onCompositionUpdate";break e}$=void 0}else xi?K0(e,n)&&($="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&($="onCompositionStart");$&&(q0&&n.locale!=="ko"&&(xi||$!=="onCompositionStart"?$==="onCompositionEnd"&&xi&&(P=z0()):(er=c,zd="value"in er?er.value:er.textContent,xi=!0)),b=Pa(l,$),0<b.length&&($=new hy($,e,null,n,c),f.push({event:$,listeners:b}),P?$.data=P:(P=W0(n),P!==null&&($.data=P)))),(P=hT?dT(e,n):pT(e,n))&&(l=Pa(l,"onBeforeInput"),0<l.length&&(c=new hy("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:l}),c.data=P))}i1(f,t)})}function bu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Pa(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=wu(e,n),o!=null&&r.unshift(bu(e,o,i)),o=wu(e,t),o!=null&&r.push(bu(e,o,i))),e=e.return}return r}function Ei(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ty(e,t,n,r,i){for(var o=t._reactName,u=[];n!==null&&n!==r;){var s=n,a=s.alternate,l=s.stateNode;if(a!==null&&a===r)break;s.tag===5&&l!==null&&(s=l,i?(a=wu(n,o),a!=null&&u.unshift(bu(n,a,s))):i||(a=wu(n,o),a!=null&&u.push(bu(n,a,s)))),n=n.return}u.length!==0&&e.push({event:t,listeners:u})}var NT=/\r\n?/g,xT=/\u0000|\uFFFD/g;function Cy(e){return(typeof e=="string"?e:""+e).replace(NT,`
`).replace(xT,"")}function Vs(e,t,n){if(t=Cy(t),Cy(e)!==t&&n)throw Error(N(425))}function Da(){}var yh=null,mh=null;function gh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var wh=typeof setTimeout=="function"?setTimeout:void 0,PT=typeof clearTimeout=="function"?clearTimeout:void 0,by=typeof Promise=="function"?Promise:void 0,DT=typeof queueMicrotask=="function"?queueMicrotask:typeof by<"u"?function(e){return by.resolve(null).then(e).catch(AT)}:wh;function AT(e){setTimeout(function(){throw e})}function ff(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),_u(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);_u(t)}function ur(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ky(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Co=Math.random().toString(36).slice(2),hn="__reactFiber$"+Co,ku="__reactProps$"+Co,Rn="__reactContainer$"+Co,Sh="__reactEvents$"+Co,RT="__reactListeners$"+Co,OT="__reactHandles$"+Co;function jr(e){var t=e[hn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Rn]||n[hn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ky(e);e!==null;){if(n=e[hn])return n;e=ky(e)}return t}e=n,n=e.parentNode}return null}function os(e){return e=e[hn]||e[Rn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ai(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(N(33))}function Rl(e){return e[ku]||null}var Eh=[],Ri=-1;function Ir(e){return{current:e}}function ae(e){0>Ri||(e.current=Eh[Ri],Eh[Ri]=null,Ri--)}function ie(e,t){Ri++,Eh[Ri]=e.current,e.current=t}var mr={},rt=Ir(mr),gt=Ir(!1),Xr=mr;function Xi(e,t){var n=e.type.contextTypes;if(!n)return mr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function wt(e){return e=e.childContextTypes,e!=null}function Aa(){ae(gt),ae(rt)}function Ny(e,t,n){if(rt.current!==mr)throw Error(N(168));ie(rt,t),ie(gt,n)}function u1(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(N(108,gI(e)||"Unknown",i));return ve({},n,r)}function Ra(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||mr,Xr=rt.current,ie(rt,e),ie(gt,gt.current),!0}function xy(e,t,n){var r=e.stateNode;if(!r)throw Error(N(169));n?(e=u1(e,t,Xr),r.__reactInternalMemoizedMergedChildContext=e,ae(gt),ae(rt),ie(rt,e)):ae(gt),ie(gt,n)}var In=null,Ol=!1,hf=!1;function s1(e){In===null?In=[e]:In.push(e)}function LT(e){Ol=!0,s1(e)}function Tr(){if(!hf&&In!==null){hf=!0;var e=0,t=te;try{var n=In;for(te=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}In=null,Ol=!1}catch(i){throw In!==null&&(In=In.slice(e+1)),A0(jd,Tr),i}finally{te=t,hf=!1}}return null}var Oi=[],Li=0,Oa=null,La=0,Ut=[],Vt=0,Jr=null,Tn=1,Cn="";function Or(e,t){Oi[Li++]=La,Oi[Li++]=Oa,Oa=e,La=t}function a1(e,t,n){Ut[Vt++]=Tn,Ut[Vt++]=Cn,Ut[Vt++]=Jr,Jr=e;var r=Tn;e=Cn;var i=32-en(r)-1;r&=~(1<<i),n+=1;var o=32-en(t)+i;if(30<o){var u=i-i%5;o=(r&(1<<u)-1).toString(32),r>>=u,i-=u,Tn=1<<32-en(t)+i|n<<i|r,Cn=o+e}else Tn=1<<o|n<<i|r,Cn=e}function Qd(e){e.return!==null&&(Or(e,1),a1(e,1,0))}function Gd(e){for(;e===Oa;)Oa=Oi[--Li],Oi[Li]=null,La=Oi[--Li],Oi[Li]=null;for(;e===Jr;)Jr=Ut[--Vt],Ut[Vt]=null,Cn=Ut[--Vt],Ut[Vt]=null,Tn=Ut[--Vt],Ut[Vt]=null}var At=null,xt=null,ce=!1,Jt=null;function l1(e,t){var n=Bt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Py(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,At=e,xt=ur(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,At=e,xt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Jr!==null?{id:Tn,overflow:Cn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Bt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,At=e,xt=null,!0):!1;default:return!1}}function _h(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ih(e){if(ce){var t=xt;if(t){var n=t;if(!Py(e,t)){if(_h(e))throw Error(N(418));t=ur(n.nextSibling);var r=At;t&&Py(e,t)?l1(r,n):(e.flags=e.flags&-4097|2,ce=!1,At=e)}}else{if(_h(e))throw Error(N(418));e.flags=e.flags&-4097|2,ce=!1,At=e}}}function Dy(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;At=e}function Bs(e){if(e!==At)return!1;if(!ce)return Dy(e),ce=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!gh(e.type,e.memoizedProps)),t&&(t=xt)){if(_h(e))throw c1(),Error(N(418));for(;t;)l1(e,t),t=ur(t.nextSibling)}if(Dy(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(N(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){xt=ur(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}xt=null}}else xt=At?ur(e.stateNode.nextSibling):null;return!0}function c1(){for(var e=xt;e;)e=ur(e.nextSibling)}function Ji(){xt=At=null,ce=!1}function Yd(e){Jt===null?Jt=[e]:Jt.push(e)}var $T=Fn.ReactCurrentBatchConfig;function Yt(e,t){if(e&&e.defaultProps){t=ve({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var $a=Ir(null),Ma=null,$i=null,Xd=null;function Jd(){Xd=$i=Ma=null}function Zd(e){var t=$a.current;ae($a),e._currentValue=t}function Th(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ki(e,t){Ma=e,Xd=$i=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(yt=!0),e.firstContext=null)}function qt(e){var t=e._currentValue;if(Xd!==e)if(e={context:e,memoizedValue:t,next:null},$i===null){if(Ma===null)throw Error(N(308));$i=e,Ma.dependencies={lanes:0,firstContext:e}}else $i=$i.next=e;return t}var Ur=null;function ep(e){Ur===null?Ur=[e]:Ur.push(e)}function f1(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,ep(t)):(n.next=i.next,i.next=n),t.interleaved=n,On(e,r)}function On(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Kn=!1;function tp(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function h1(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Nn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function sr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,X&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,On(e,n)}return i=r.interleaved,i===null?(t.next=t,ep(r)):(t.next=i.next,i.next=t),r.interleaved=t,On(e,n)}function aa(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ud(e,n)}}function Ay(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var u={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=u:o=o.next=u,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fa(e,t,n,r){var i=e.updateQueue;Kn=!1;var o=i.firstBaseUpdate,u=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var a=s,l=a.next;a.next=null,u===null?o=l:u.next=l,u=a;var c=e.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==u&&(s===null?c.firstBaseUpdate=l:s.next=l,c.lastBaseUpdate=a))}if(o!==null){var f=i.baseState;u=0,c=l=a=null,s=o;do{var h=s.lane,d=s.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var v=e,m=s;switch(h=t,d=n,m.tag){case 1:if(v=m.payload,typeof v=="function"){f=v.call(d,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=m.payload,h=typeof v=="function"?v.call(d,f,h):v,h==null)break e;f=ve({},f,h);break e;case 2:Kn=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else d={eventTime:d,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(l=c=d,a=f):c=c.next=d,u|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(c===null&&(a=f),i.baseState=a,i.firstBaseUpdate=l,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do u|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);ei|=u,e.lanes=u,e.memoizedState=f}}function Ry(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(N(191,i));i.call(r)}}}var d1=new f0.Component().refs;function Ch(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ve({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ll={isMounted:function(e){return(e=e._reactInternals)?fi(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ht(),i=lr(e),o=Nn(r,i);o.payload=t,n!=null&&(o.callback=n),t=sr(e,o,i),t!==null&&(tn(t,e,i,r),aa(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ht(),i=lr(e),o=Nn(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=sr(e,o,i),t!==null&&(tn(t,e,i,r),aa(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ht(),r=lr(e),i=Nn(n,r);i.tag=2,t!=null&&(i.callback=t),t=sr(e,i,r),t!==null&&(tn(t,e,r,n),aa(t,e,r))}};function Oy(e,t,n,r,i,o,u){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,u):t.prototype&&t.prototype.isPureReactComponent?!Tu(n,r)||!Tu(i,o):!0}function p1(e,t,n){var r=!1,i=mr,o=t.contextType;return typeof o=="object"&&o!==null?o=qt(o):(i=wt(t)?Xr:rt.current,r=t.contextTypes,o=(r=r!=null)?Xi(e,i):mr),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ll,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Ly(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ll.enqueueReplaceState(t,t.state,null)}function bh(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=d1,tp(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=qt(o):(o=wt(t)?Xr:rt.current,i.context=Xi(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Ch(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Ll.enqueueReplaceState(i,i.state,null),Fa(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function qo(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(N(309));var r=n.stateNode}if(!r)throw Error(N(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(u){var s=i.refs;s===d1&&(s=i.refs={}),u===null?delete s[o]:s[o]=u},t._stringRef=o,t)}if(typeof e!="string")throw Error(N(284));if(!n._owner)throw Error(N(290,e))}return e}function zs(e,t){throw e=Object.prototype.toString.call(t),Error(N(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function $y(e){var t=e._init;return t(e._payload)}function v1(e){function t(y,p){if(e){var g=y.deletions;g===null?(y.deletions=[p],y.flags|=16):g.push(p)}}function n(y,p){if(!e)return null;for(;p!==null;)t(y,p),p=p.sibling;return null}function r(y,p){for(y=new Map;p!==null;)p.key!==null?y.set(p.key,p):y.set(p.index,p),p=p.sibling;return y}function i(y,p){return y=cr(y,p),y.index=0,y.sibling=null,y}function o(y,p,g){return y.index=g,e?(g=y.alternate,g!==null?(g=g.index,g<p?(y.flags|=2,p):g):(y.flags|=2,p)):(y.flags|=1048576,p)}function u(y){return e&&y.alternate===null&&(y.flags|=2),y}function s(y,p,g,S){return p===null||p.tag!==6?(p=wf(g,y.mode,S),p.return=y,p):(p=i(p,g),p.return=y,p)}function a(y,p,g,S){var _=g.type;return _===Ni?c(y,p,g.props.children,S,g.key):p!==null&&(p.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===qn&&$y(_)===p.type)?(S=i(p,g.props),S.ref=qo(y,p,g),S.return=y,S):(S=pa(g.type,g.key,g.props,null,y.mode,S),S.ref=qo(y,p,g),S.return=y,S)}function l(y,p,g,S){return p===null||p.tag!==4||p.stateNode.containerInfo!==g.containerInfo||p.stateNode.implementation!==g.implementation?(p=Sf(g,y.mode,S),p.return=y,p):(p=i(p,g.children||[]),p.return=y,p)}function c(y,p,g,S,_){return p===null||p.tag!==7?(p=Hr(g,y.mode,S,_),p.return=y,p):(p=i(p,g),p.return=y,p)}function f(y,p,g){if(typeof p=="string"&&p!==""||typeof p=="number")return p=wf(""+p,y.mode,g),p.return=y,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case As:return g=pa(p.type,p.key,p.props,null,y.mode,g),g.ref=qo(y,null,p),g.return=y,g;case ki:return p=Sf(p,y.mode,g),p.return=y,p;case qn:var S=p._init;return f(y,S(p._payload),g)}if(Yo(p)||jo(p))return p=Hr(p,y.mode,g,null),p.return=y,p;zs(y,p)}return null}function h(y,p,g,S){var _=p!==null?p.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return _!==null?null:s(y,p,""+g,S);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case As:return g.key===_?a(y,p,g,S):null;case ki:return g.key===_?l(y,p,g,S):null;case qn:return _=g._init,h(y,p,_(g._payload),S)}if(Yo(g)||jo(g))return _!==null?null:c(y,p,g,S,null);zs(y,g)}return null}function d(y,p,g,S,_){if(typeof S=="string"&&S!==""||typeof S=="number")return y=y.get(g)||null,s(p,y,""+S,_);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case As:return y=y.get(S.key===null?g:S.key)||null,a(p,y,S,_);case ki:return y=y.get(S.key===null?g:S.key)||null,l(p,y,S,_);case qn:var b=S._init;return d(y,p,g,b(S._payload),_)}if(Yo(S)||jo(S))return y=y.get(g)||null,c(p,y,S,_,null);zs(p,S)}return null}function v(y,p,g,S){for(var _=null,b=null,P=p,$=p=0,G=null;P!==null&&$<g.length;$++){P.index>$?(G=P,P=null):G=P.sibling;var V=h(y,P,g[$],S);if(V===null){P===null&&(P=G);break}e&&P&&V.alternate===null&&t(y,P),p=o(V,p,$),b===null?_=V:b.sibling=V,b=V,P=G}if($===g.length)return n(y,P),ce&&Or(y,$),_;if(P===null){for(;$<g.length;$++)P=f(y,g[$],S),P!==null&&(p=o(P,p,$),b===null?_=P:b.sibling=P,b=P);return ce&&Or(y,$),_}for(P=r(y,P);$<g.length;$++)G=d(P,y,$,g[$],S),G!==null&&(e&&G.alternate!==null&&P.delete(G.key===null?$:G.key),p=o(G,p,$),b===null?_=G:b.sibling=G,b=G);return e&&P.forEach(function(Ee){return t(y,Ee)}),ce&&Or(y,$),_}function m(y,p,g,S){var _=jo(g);if(typeof _!="function")throw Error(N(150));if(g=_.call(g),g==null)throw Error(N(151));for(var b=_=null,P=p,$=p=0,G=null,V=g.next();P!==null&&!V.done;$++,V=g.next()){P.index>$?(G=P,P=null):G=P.sibling;var Ee=h(y,P,V.value,S);if(Ee===null){P===null&&(P=G);break}e&&P&&Ee.alternate===null&&t(y,P),p=o(Ee,p,$),b===null?_=Ee:b.sibling=Ee,b=Ee,P=G}if(V.done)return n(y,P),ce&&Or(y,$),_;if(P===null){for(;!V.done;$++,V=g.next())V=f(y,V.value,S),V!==null&&(p=o(V,p,$),b===null?_=V:b.sibling=V,b=V);return ce&&Or(y,$),_}for(P=r(y,P);!V.done;$++,V=g.next())V=d(P,y,$,V.value,S),V!==null&&(e&&V.alternate!==null&&P.delete(V.key===null?$:V.key),p=o(V,p,$),b===null?_=V:b.sibling=V,b=V);return e&&P.forEach(function(Mo){return t(y,Mo)}),ce&&Or(y,$),_}function w(y,p,g,S){if(typeof g=="object"&&g!==null&&g.type===Ni&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case As:e:{for(var _=g.key,b=p;b!==null;){if(b.key===_){if(_=g.type,_===Ni){if(b.tag===7){n(y,b.sibling),p=i(b,g.props.children),p.return=y,y=p;break e}}else if(b.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===qn&&$y(_)===b.type){n(y,b.sibling),p=i(b,g.props),p.ref=qo(y,b,g),p.return=y,y=p;break e}n(y,b);break}else t(y,b);b=b.sibling}g.type===Ni?(p=Hr(g.props.children,y.mode,S,g.key),p.return=y,y=p):(S=pa(g.type,g.key,g.props,null,y.mode,S),S.ref=qo(y,p,g),S.return=y,y=S)}return u(y);case ki:e:{for(b=g.key;p!==null;){if(p.key===b)if(p.tag===4&&p.stateNode.containerInfo===g.containerInfo&&p.stateNode.implementation===g.implementation){n(y,p.sibling),p=i(p,g.children||[]),p.return=y,y=p;break e}else{n(y,p);break}else t(y,p);p=p.sibling}p=Sf(g,y.mode,S),p.return=y,y=p}return u(y);case qn:return b=g._init,w(y,p,b(g._payload),S)}if(Yo(g))return v(y,p,g,S);if(jo(g))return m(y,p,g,S);zs(y,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,p!==null&&p.tag===6?(n(y,p.sibling),p=i(p,g),p.return=y,y=p):(n(y,p),p=wf(g,y.mode,S),p.return=y,y=p),u(y)):n(y,p)}return w}var Zi=v1(!0),y1=v1(!1),us={},vn=Ir(us),Nu=Ir(us),xu=Ir(us);function Vr(e){if(e===us)throw Error(N(174));return e}function np(e,t){switch(ie(xu,t),ie(Nu,e),ie(vn,us),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ih(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ih(t,e)}ae(vn),ie(vn,t)}function eo(){ae(vn),ae(Nu),ae(xu)}function m1(e){Vr(xu.current);var t=Vr(vn.current),n=ih(t,e.type);t!==n&&(ie(Nu,e),ie(vn,n))}function rp(e){Nu.current===e&&(ae(vn),ae(Nu))}var he=Ir(0);function ja(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var df=[];function ip(){for(var e=0;e<df.length;e++)df[e]._workInProgressVersionPrimary=null;df.length=0}var la=Fn.ReactCurrentDispatcher,pf=Fn.ReactCurrentBatchConfig,Zr=0,pe=null,Ne=null,Le=null,Ua=!1,su=!1,Pu=0,MT=0;function He(){throw Error(N(321))}function op(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!un(e[n],t[n]))return!1;return!0}function up(e,t,n,r,i,o){if(Zr=o,pe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,la.current=e===null||e.memoizedState===null?VT:BT,e=n(r,i),su){o=0;do{if(su=!1,Pu=0,25<=o)throw Error(N(301));o+=1,Le=Ne=null,t.updateQueue=null,la.current=zT,e=n(r,i)}while(su)}if(la.current=Va,t=Ne!==null&&Ne.next!==null,Zr=0,Le=Ne=pe=null,Ua=!1,t)throw Error(N(300));return e}function sp(){var e=Pu!==0;return Pu=0,e}function cn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Le===null?pe.memoizedState=Le=e:Le=Le.next=e,Le}function Kt(){if(Ne===null){var e=pe.alternate;e=e!==null?e.memoizedState:null}else e=Ne.next;var t=Le===null?pe.memoizedState:Le.next;if(t!==null)Le=t,Ne=e;else{if(e===null)throw Error(N(310));Ne=e,e={memoizedState:Ne.memoizedState,baseState:Ne.baseState,baseQueue:Ne.baseQueue,queue:Ne.queue,next:null},Le===null?pe.memoizedState=Le=e:Le=Le.next=e}return Le}function Du(e,t){return typeof t=="function"?t(e):t}function vf(e){var t=Kt(),n=t.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=e;var r=Ne,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=u=null,a=null,l=o;do{var c=l.lane;if((Zr&c)===c)a!==null&&(a=a.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var f={lane:c,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};a===null?(s=a=f,u=r):a=a.next=f,pe.lanes|=c,ei|=c}l=l.next}while(l!==null&&l!==o);a===null?u=r:a.next=s,un(r,t.memoizedState)||(yt=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,pe.lanes|=o,ei|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function yf(e){var t=Kt(),n=t.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var u=i=i.next;do o=e(o,u.action),u=u.next;while(u!==i);un(o,t.memoizedState)||(yt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function g1(){}function w1(e,t){var n=pe,r=Kt(),i=t(),o=!un(r.memoizedState,i);if(o&&(r.memoizedState=i,yt=!0),r=r.queue,ap(_1.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||Le!==null&&Le.memoizedState.tag&1){if(n.flags|=2048,Au(9,E1.bind(null,n,r,i,t),void 0,null),$e===null)throw Error(N(349));Zr&30||S1(n,t,i)}return i}function S1(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=pe.updateQueue,t===null?(t={lastEffect:null,stores:null},pe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function E1(e,t,n,r){t.value=n,t.getSnapshot=r,I1(t)&&T1(e)}function _1(e,t,n){return n(function(){I1(t)&&T1(e)})}function I1(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!un(e,n)}catch{return!0}}function T1(e){var t=On(e,1);t!==null&&tn(t,e,1,-1)}function My(e){var t=cn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Du,lastRenderedState:e},t.queue=e,e=e.dispatch=UT.bind(null,pe,e),[t.memoizedState,e]}function Au(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=pe.updateQueue,t===null?(t={lastEffect:null,stores:null},pe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function C1(){return Kt().memoizedState}function ca(e,t,n,r){var i=cn();pe.flags|=e,i.memoizedState=Au(1|t,n,void 0,r===void 0?null:r)}function $l(e,t,n,r){var i=Kt();r=r===void 0?null:r;var o=void 0;if(Ne!==null){var u=Ne.memoizedState;if(o=u.destroy,r!==null&&op(r,u.deps)){i.memoizedState=Au(t,n,o,r);return}}pe.flags|=e,i.memoizedState=Au(1|t,n,o,r)}function Fy(e,t){return ca(8390656,8,e,t)}function ap(e,t){return $l(2048,8,e,t)}function b1(e,t){return $l(4,2,e,t)}function k1(e,t){return $l(4,4,e,t)}function N1(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function x1(e,t,n){return n=n!=null?n.concat([e]):null,$l(4,4,N1.bind(null,t,e),n)}function lp(){}function P1(e,t){var n=Kt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&op(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function D1(e,t){var n=Kt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&op(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function A1(e,t,n){return Zr&21?(un(n,t)||(n=L0(),pe.lanes|=n,ei|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,yt=!0),e.memoizedState=n)}function FT(e,t){var n=te;te=n!==0&&4>n?n:4,e(!0);var r=pf.transition;pf.transition={};try{e(!1),t()}finally{te=n,pf.transition=r}}function R1(){return Kt().memoizedState}function jT(e,t,n){var r=lr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},O1(e))L1(t,n);else if(n=f1(e,t,n,r),n!==null){var i=ht();tn(n,e,r,i),$1(n,t,r)}}function UT(e,t,n){var r=lr(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(O1(e))L1(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var u=t.lastRenderedState,s=o(u,n);if(i.hasEagerState=!0,i.eagerState=s,un(s,u)){var a=t.interleaved;a===null?(i.next=i,ep(t)):(i.next=a.next,a.next=i),t.interleaved=i;return}}catch{}finally{}n=f1(e,t,i,r),n!==null&&(i=ht(),tn(n,e,r,i),$1(n,t,r))}}function O1(e){var t=e.alternate;return e===pe||t!==null&&t===pe}function L1(e,t){su=Ua=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function $1(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ud(e,n)}}var Va={readContext:qt,useCallback:He,useContext:He,useEffect:He,useImperativeHandle:He,useInsertionEffect:He,useLayoutEffect:He,useMemo:He,useReducer:He,useRef:He,useState:He,useDebugValue:He,useDeferredValue:He,useTransition:He,useMutableSource:He,useSyncExternalStore:He,useId:He,unstable_isNewReconciler:!1},VT={readContext:qt,useCallback:function(e,t){return cn().memoizedState=[e,t===void 0?null:t],e},useContext:qt,useEffect:Fy,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ca(4194308,4,N1.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ca(4194308,4,e,t)},useInsertionEffect:function(e,t){return ca(4,2,e,t)},useMemo:function(e,t){var n=cn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=cn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=jT.bind(null,pe,e),[r.memoizedState,e]},useRef:function(e){var t=cn();return e={current:e},t.memoizedState=e},useState:My,useDebugValue:lp,useDeferredValue:function(e){return cn().memoizedState=e},useTransition:function(){var e=My(!1),t=e[0];return e=FT.bind(null,e[1]),cn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=pe,i=cn();if(ce){if(n===void 0)throw Error(N(407));n=n()}else{if(n=t(),$e===null)throw Error(N(349));Zr&30||S1(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Fy(_1.bind(null,r,o,e),[e]),r.flags|=2048,Au(9,E1.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=cn(),t=$e.identifierPrefix;if(ce){var n=Cn,r=Tn;n=(r&~(1<<32-en(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Pu++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=MT++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},BT={readContext:qt,useCallback:P1,useContext:qt,useEffect:ap,useImperativeHandle:x1,useInsertionEffect:b1,useLayoutEffect:k1,useMemo:D1,useReducer:vf,useRef:C1,useState:function(){return vf(Du)},useDebugValue:lp,useDeferredValue:function(e){var t=Kt();return A1(t,Ne.memoizedState,e)},useTransition:function(){var e=vf(Du)[0],t=Kt().memoizedState;return[e,t]},useMutableSource:g1,useSyncExternalStore:w1,useId:R1,unstable_isNewReconciler:!1},zT={readContext:qt,useCallback:P1,useContext:qt,useEffect:ap,useImperativeHandle:x1,useInsertionEffect:b1,useLayoutEffect:k1,useMemo:D1,useReducer:yf,useRef:C1,useState:function(){return yf(Du)},useDebugValue:lp,useDeferredValue:function(e){var t=Kt();return Ne===null?t.memoizedState=e:A1(t,Ne.memoizedState,e)},useTransition:function(){var e=yf(Du)[0],t=Kt().memoizedState;return[e,t]},useMutableSource:g1,useSyncExternalStore:w1,useId:R1,unstable_isNewReconciler:!1};function to(e,t){try{var n="",r=t;do n+=mI(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function mf(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function kh(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var qT=typeof WeakMap=="function"?WeakMap:Map;function M1(e,t,n){n=Nn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){za||(za=!0,Mh=r),kh(e,t)},n}function F1(e,t,n){n=Nn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){kh(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){kh(e,t),typeof r!="function"&&(ar===null?ar=new Set([this]):ar.add(this));var u=t.stack;this.componentDidCatch(t.value,{componentStack:u!==null?u:""})}),n}function jy(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new qT;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=iC.bind(null,e,t,n),t.then(e,e))}function Uy(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Vy(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Nn(-1,1),t.tag=2,sr(n,t,1))),n.lanes|=1),e)}var KT=Fn.ReactCurrentOwner,yt=!1;function ut(e,t,n,r){t.child=e===null?y1(t,null,n,r):Zi(t,e.child,n,r)}function By(e,t,n,r,i){n=n.render;var o=t.ref;return Ki(t,i),r=up(e,t,n,r,o,i),n=sp(),e!==null&&!yt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ln(e,t,i)):(ce&&n&&Qd(t),t.flags|=1,ut(e,t,r,i),t.child)}function zy(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!mp(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,j1(e,t,o,r,i)):(e=pa(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var u=o.memoizedProps;if(n=n.compare,n=n!==null?n:Tu,n(u,r)&&e.ref===t.ref)return Ln(e,t,i)}return t.flags|=1,e=cr(o,r),e.ref=t.ref,e.return=t,t.child=e}function j1(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(Tu(o,r)&&e.ref===t.ref)if(yt=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(yt=!0);else return t.lanes=e.lanes,Ln(e,t,i)}return Nh(e,t,n,r,i)}function U1(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ie(Fi,Ct),Ct|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ie(Fi,Ct),Ct|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,ie(Fi,Ct),Ct|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,ie(Fi,Ct),Ct|=r;return ut(e,t,i,n),t.child}function V1(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Nh(e,t,n,r,i){var o=wt(n)?Xr:rt.current;return o=Xi(t,o),Ki(t,i),n=up(e,t,n,r,o,i),r=sp(),e!==null&&!yt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ln(e,t,i)):(ce&&r&&Qd(t),t.flags|=1,ut(e,t,n,i),t.child)}function qy(e,t,n,r,i){if(wt(n)){var o=!0;Ra(t)}else o=!1;if(Ki(t,i),t.stateNode===null)fa(e,t),p1(t,n,r),bh(t,n,r,i),r=!0;else if(e===null){var u=t.stateNode,s=t.memoizedProps;u.props=s;var a=u.context,l=n.contextType;typeof l=="object"&&l!==null?l=qt(l):(l=wt(n)?Xr:rt.current,l=Xi(t,l));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof u.getSnapshotBeforeUpdate=="function";f||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(s!==r||a!==l)&&Ly(t,u,r,l),Kn=!1;var h=t.memoizedState;u.state=h,Fa(t,r,u,i),a=t.memoizedState,s!==r||h!==a||gt.current||Kn?(typeof c=="function"&&(Ch(t,n,c,r),a=t.memoizedState),(s=Kn||Oy(t,n,s,r,h,a,l))?(f||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),u.props=r,u.state=a,u.context=l,r=s):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{u=t.stateNode,h1(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:Yt(t.type,s),u.props=l,f=t.pendingProps,h=u.context,a=n.contextType,typeof a=="object"&&a!==null?a=qt(a):(a=wt(n)?Xr:rt.current,a=Xi(t,a));var d=n.getDerivedStateFromProps;(c=typeof d=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(s!==f||h!==a)&&Ly(t,u,r,a),Kn=!1,h=t.memoizedState,u.state=h,Fa(t,r,u,i);var v=t.memoizedState;s!==f||h!==v||gt.current||Kn?(typeof d=="function"&&(Ch(t,n,d,r),v=t.memoizedState),(l=Kn||Oy(t,n,l,r,h,v,a)||!1)?(c||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(r,v,a),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(r,v,a)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),u.props=r,u.state=v,u.context=a,r=l):(typeof u.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return xh(e,t,n,r,o,i)}function xh(e,t,n,r,i,o){V1(e,t);var u=(t.flags&128)!==0;if(!r&&!u)return i&&xy(t,n,!1),Ln(e,t,o);r=t.stateNode,KT.current=t;var s=u&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&u?(t.child=Zi(t,e.child,null,o),t.child=Zi(t,null,s,o)):ut(e,t,s,o),t.memoizedState=r.state,i&&xy(t,n,!0),t.child}function B1(e){var t=e.stateNode;t.pendingContext?Ny(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ny(e,t.context,!1),np(e,t.containerInfo)}function Ky(e,t,n,r,i){return Ji(),Yd(i),t.flags|=256,ut(e,t,n,r),t.child}var Ph={dehydrated:null,treeContext:null,retryLane:0};function Dh(e){return{baseLanes:e,cachePool:null,transitions:null}}function z1(e,t,n){var r=t.pendingProps,i=he.current,o=!1,u=(t.flags&128)!==0,s;if((s=u)||(s=e!==null&&e.memoizedState===null?!1:(i&2)!==0),s?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),ie(he,i&1),e===null)return Ih(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(u=r.children,e=r.fallback,o?(r=t.mode,o=t.child,u={mode:"hidden",children:u},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=u):o=jl(u,r,0,null),e=Hr(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Dh(n),t.memoizedState=Ph,e):cp(t,u));if(i=e.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return WT(e,t,u,r,s,i,n);if(o){o=r.fallback,u=t.mode,i=e.child,s=i.sibling;var a={mode:"hidden",children:r.children};return!(u&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=cr(i,a),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=cr(s,o):(o=Hr(o,u,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,u=e.child.memoizedState,u=u===null?Dh(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},o.memoizedState=u,o.childLanes=e.childLanes&~n,t.memoizedState=Ph,r}return o=e.child,e=o.sibling,r=cr(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function cp(e,t){return t=jl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function qs(e,t,n,r){return r!==null&&Yd(r),Zi(t,e.child,null,n),e=cp(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function WT(e,t,n,r,i,o,u){if(n)return t.flags&256?(t.flags&=-257,r=mf(Error(N(422))),qs(e,t,u,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=jl({mode:"visible",children:r.children},i,0,null),o=Hr(o,i,u,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Zi(t,e.child,null,u),t.child.memoizedState=Dh(u),t.memoizedState=Ph,o);if(!(t.mode&1))return qs(e,t,u,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(N(419)),r=mf(o,r,void 0),qs(e,t,u,r)}if(s=(u&e.childLanes)!==0,yt||s){if(r=$e,r!==null){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|u)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,On(e,i),tn(r,e,i,-1))}return yp(),r=mf(Error(N(421))),qs(e,t,u,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=oC.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,xt=ur(i.nextSibling),At=t,ce=!0,Jt=null,e!==null&&(Ut[Vt++]=Tn,Ut[Vt++]=Cn,Ut[Vt++]=Jr,Tn=e.id,Cn=e.overflow,Jr=t),t=cp(t,r.children),t.flags|=4096,t)}function Wy(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Th(e.return,t,n)}function gf(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function q1(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(ut(e,t,r.children,n),r=he.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Wy(e,n,t);else if(e.tag===19)Wy(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ie(he,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&ja(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),gf(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&ja(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}gf(t,!0,n,null,o);break;case"together":gf(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function fa(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ln(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ei|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(N(153));if(t.child!==null){for(e=t.child,n=cr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=cr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function HT(e,t,n){switch(t.tag){case 3:B1(t),Ji();break;case 5:m1(t);break;case 1:wt(t.type)&&Ra(t);break;case 4:np(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ie($a,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ie(he,he.current&1),t.flags|=128,null):n&t.child.childLanes?z1(e,t,n):(ie(he,he.current&1),e=Ln(e,t,n),e!==null?e.sibling:null);ie(he,he.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return q1(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ie(he,he.current),r)break;return null;case 22:case 23:return t.lanes=0,U1(e,t,n)}return Ln(e,t,n)}var K1,Ah,W1,H1;K1=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ah=function(){};W1=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Vr(vn.current);var o=null;switch(n){case"input":i=eh(e,i),r=eh(e,r),o=[];break;case"select":i=ve({},i,{value:void 0}),r=ve({},r,{value:void 0}),o=[];break;case"textarea":i=rh(e,i),r=rh(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Da)}oh(n,r);var u;n=null;for(l in i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var s=i[l];for(u in s)s.hasOwnProperty(u)&&(n||(n={}),n[u]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(mu.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var a=r[l];if(s=i!=null?i[l]:void 0,r.hasOwnProperty(l)&&a!==s&&(a!=null||s!=null))if(l==="style")if(s){for(u in s)!s.hasOwnProperty(u)||a&&a.hasOwnProperty(u)||(n||(n={}),n[u]="");for(u in a)a.hasOwnProperty(u)&&s[u]!==a[u]&&(n||(n={}),n[u]=a[u])}else n||(o||(o=[]),o.push(l,n)),n=a;else l==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,s=s?s.__html:void 0,a!=null&&s!==a&&(o=o||[]).push(l,a)):l==="children"?typeof a!="string"&&typeof a!="number"||(o=o||[]).push(l,""+a):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(mu.hasOwnProperty(l)?(a!=null&&l==="onScroll"&&ue("scroll",e),o||s===a||(o=[])):(o=o||[]).push(l,a))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}};H1=function(e,t,n,r){n!==r&&(t.flags|=4)};function Ko(e,t){if(!ce)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Qe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function QT(e,t,n){var r=t.pendingProps;switch(Gd(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qe(t),null;case 1:return wt(t.type)&&Aa(),Qe(t),null;case 3:return r=t.stateNode,eo(),ae(gt),ae(rt),ip(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Bs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Jt!==null&&(Uh(Jt),Jt=null))),Ah(e,t),Qe(t),null;case 5:rp(t);var i=Vr(xu.current);if(n=t.type,e!==null&&t.stateNode!=null)W1(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(N(166));return Qe(t),null}if(e=Vr(vn.current),Bs(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hn]=t,r[ku]=o,e=(t.mode&1)!==0,n){case"dialog":ue("cancel",r),ue("close",r);break;case"iframe":case"object":case"embed":ue("load",r);break;case"video":case"audio":for(i=0;i<Jo.length;i++)ue(Jo[i],r);break;case"source":ue("error",r);break;case"img":case"image":case"link":ue("error",r),ue("load",r);break;case"details":ue("toggle",r);break;case"input":ty(r,o),ue("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},ue("invalid",r);break;case"textarea":ry(r,o),ue("invalid",r)}oh(n,o),i=null;for(var u in o)if(o.hasOwnProperty(u)){var s=o[u];u==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&Vs(r.textContent,s,e),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&Vs(r.textContent,s,e),i=["children",""+s]):mu.hasOwnProperty(u)&&s!=null&&u==="onScroll"&&ue("scroll",r)}switch(n){case"input":Rs(r),ny(r,o,!0);break;case"textarea":Rs(r),iy(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Da)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{u=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=S0(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=u.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),n==="select"&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[hn]=t,e[ku]=r,K1(e,t,!1,!1),t.stateNode=e;e:{switch(u=uh(n,r),n){case"dialog":ue("cancel",e),ue("close",e),i=r;break;case"iframe":case"object":case"embed":ue("load",e),i=r;break;case"video":case"audio":for(i=0;i<Jo.length;i++)ue(Jo[i],e);i=r;break;case"source":ue("error",e),i=r;break;case"img":case"image":case"link":ue("error",e),ue("load",e),i=r;break;case"details":ue("toggle",e),i=r;break;case"input":ty(e,r),i=eh(e,r),ue("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=ve({},r,{value:void 0}),ue("invalid",e);break;case"textarea":ry(e,r),i=rh(e,r),ue("invalid",e);break;default:i=r}oh(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="style"?I0(e,a):o==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&E0(e,a)):o==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&gu(e,a):typeof a=="number"&&gu(e,""+a):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(mu.hasOwnProperty(o)?a!=null&&o==="onScroll"&&ue("scroll",e):a!=null&&Od(e,o,a,u))}switch(n){case"input":Rs(e),ny(e,r,!1);break;case"textarea":Rs(e),iy(e);break;case"option":r.value!=null&&e.setAttribute("value",""+yr(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Vi(e,!!r.multiple,o,!1):r.defaultValue!=null&&Vi(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Da)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Qe(t),null;case 6:if(e&&t.stateNode!=null)H1(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(N(166));if(n=Vr(xu.current),Vr(vn.current),Bs(t)){if(r=t.stateNode,n=t.memoizedProps,r[hn]=t,(o=r.nodeValue!==n)&&(e=At,e!==null))switch(e.tag){case 3:Vs(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Vs(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[hn]=t,t.stateNode=r}return Qe(t),null;case 13:if(ae(he),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ce&&xt!==null&&t.mode&1&&!(t.flags&128))c1(),Ji(),t.flags|=98560,o=!1;else if(o=Bs(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(N(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(N(317));o[hn]=t}else Ji(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Qe(t),o=!1}else Jt!==null&&(Uh(Jt),Jt=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||he.current&1?xe===0&&(xe=3):yp())),t.updateQueue!==null&&(t.flags|=4),Qe(t),null);case 4:return eo(),Ah(e,t),e===null&&Cu(t.stateNode.containerInfo),Qe(t),null;case 10:return Zd(t.type._context),Qe(t),null;case 17:return wt(t.type)&&Aa(),Qe(t),null;case 19:if(ae(he),o=t.memoizedState,o===null)return Qe(t),null;if(r=(t.flags&128)!==0,u=o.rendering,u===null)if(r)Ko(o,!1);else{if(xe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(u=ja(e),u!==null){for(t.flags|=128,Ko(o,!1),r=u.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,u=o.alternate,u===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ie(he,he.current&1|2),t.child}e=e.sibling}o.tail!==null&&Se()>no&&(t.flags|=128,r=!0,Ko(o,!1),t.lanes=4194304)}else{if(!r)if(e=ja(u),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ko(o,!0),o.tail===null&&o.tailMode==="hidden"&&!u.alternate&&!ce)return Qe(t),null}else 2*Se()-o.renderingStartTime>no&&n!==1073741824&&(t.flags|=128,r=!0,Ko(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(n=o.last,n!==null?n.sibling=u:t.child=u,o.last=u)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Se(),t.sibling=null,n=he.current,ie(he,r?n&1|2:n&1),t):(Qe(t),null);case 22:case 23:return vp(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ct&1073741824&&(Qe(t),t.subtreeFlags&6&&(t.flags|=8192)):Qe(t),null;case 24:return null;case 25:return null}throw Error(N(156,t.tag))}function GT(e,t){switch(Gd(t),t.tag){case 1:return wt(t.type)&&Aa(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return eo(),ae(gt),ae(rt),ip(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return rp(t),null;case 13:if(ae(he),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(N(340));Ji()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ae(he),null;case 4:return eo(),null;case 10:return Zd(t.type._context),null;case 22:case 23:return vp(),null;case 24:return null;default:return null}}var Ks=!1,Xe=!1,YT=typeof WeakSet=="function"?WeakSet:Set,R=null;function Mi(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ye(e,t,r)}else n.current=null}function Rh(e,t,n){try{n()}catch(r){ye(e,t,r)}}var Hy=!1;function XT(e,t){if(yh=Na,e=X0(),Hd(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var u=0,s=-1,a=-1,l=0,c=0,f=e,h=null;t:for(;;){for(var d;f!==n||i!==0&&f.nodeType!==3||(s=u+i),f!==o||r!==0&&f.nodeType!==3||(a=u+r),f.nodeType===3&&(u+=f.nodeValue.length),(d=f.firstChild)!==null;)h=f,f=d;for(;;){if(f===e)break t;if(h===n&&++l===i&&(s=u),h===o&&++c===r&&(a=u),(d=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=d}n=s===-1||a===-1?null:{start:s,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(mh={focusedElem:e,selectionRange:n},Na=!1,R=t;R!==null;)if(t=R,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,R=e;else for(;R!==null;){t=R;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var m=v.memoizedProps,w=v.memoizedState,y=t.stateNode,p=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:Yt(t.type,m),w);y.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(N(163))}}catch(S){ye(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,R=e;break}R=t.return}return v=Hy,Hy=!1,v}function au(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&Rh(t,n,o)}i=i.next}while(i!==r)}}function Ml(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Oh(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Q1(e){var t=e.alternate;t!==null&&(e.alternate=null,Q1(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[hn],delete t[ku],delete t[Sh],delete t[RT],delete t[OT])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function G1(e){return e.tag===5||e.tag===3||e.tag===4}function Qy(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||G1(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Lh(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Da));else if(r!==4&&(e=e.child,e!==null))for(Lh(e,t,n),e=e.sibling;e!==null;)Lh(e,t,n),e=e.sibling}function $h(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for($h(e,t,n),e=e.sibling;e!==null;)$h(e,t,n),e=e.sibling}var je=null,Xt=!1;function Un(e,t,n){for(n=n.child;n!==null;)Y1(e,t,n),n=n.sibling}function Y1(e,t,n){if(pn&&typeof pn.onCommitFiberUnmount=="function")try{pn.onCommitFiberUnmount(xl,n)}catch{}switch(n.tag){case 5:Xe||Mi(n,t);case 6:var r=je,i=Xt;je=null,Un(e,t,n),je=r,Xt=i,je!==null&&(Xt?(e=je,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):je.removeChild(n.stateNode));break;case 18:je!==null&&(Xt?(e=je,n=n.stateNode,e.nodeType===8?ff(e.parentNode,n):e.nodeType===1&&ff(e,n),_u(e)):ff(je,n.stateNode));break;case 4:r=je,i=Xt,je=n.stateNode.containerInfo,Xt=!0,Un(e,t,n),je=r,Xt=i;break;case 0:case 11:case 14:case 15:if(!Xe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,u=o.destroy;o=o.tag,u!==void 0&&(o&2||o&4)&&Rh(n,t,u),i=i.next}while(i!==r)}Un(e,t,n);break;case 1:if(!Xe&&(Mi(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){ye(n,t,s)}Un(e,t,n);break;case 21:Un(e,t,n);break;case 22:n.mode&1?(Xe=(r=Xe)||n.memoizedState!==null,Un(e,t,n),Xe=r):Un(e,t,n);break;default:Un(e,t,n)}}function Gy(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new YT),t.forEach(function(r){var i=uC.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ht(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;s!==null;){switch(s.tag){case 5:je=s.stateNode,Xt=!1;break e;case 3:je=s.stateNode.containerInfo,Xt=!0;break e;case 4:je=s.stateNode.containerInfo,Xt=!0;break e}s=s.return}if(je===null)throw Error(N(160));Y1(o,u,i),je=null,Xt=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(l){ye(i,t,l)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)X1(t,e),t=t.sibling}function X1(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ht(t,e),an(e),r&4){try{au(3,e,e.return),Ml(3,e)}catch(m){ye(e,e.return,m)}try{au(5,e,e.return)}catch(m){ye(e,e.return,m)}}break;case 1:Ht(t,e),an(e),r&512&&n!==null&&Mi(n,n.return);break;case 5:if(Ht(t,e),an(e),r&512&&n!==null&&Mi(n,n.return),e.flags&32){var i=e.stateNode;try{gu(i,"")}catch(m){ye(e,e.return,m)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,u=n!==null?n.memoizedProps:o,s=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&g0(i,o),uh(s,u);var l=uh(s,o);for(u=0;u<a.length;u+=2){var c=a[u],f=a[u+1];c==="style"?I0(i,f):c==="dangerouslySetInnerHTML"?E0(i,f):c==="children"?gu(i,f):Od(i,c,f,l)}switch(s){case"input":th(i,o);break;case"textarea":w0(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var d=o.value;d!=null?Vi(i,!!o.multiple,d,!1):h!==!!o.multiple&&(o.defaultValue!=null?Vi(i,!!o.multiple,o.defaultValue,!0):Vi(i,!!o.multiple,o.multiple?[]:"",!1))}i[ku]=o}catch(m){ye(e,e.return,m)}}break;case 6:if(Ht(t,e),an(e),r&4){if(e.stateNode===null)throw Error(N(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){ye(e,e.return,m)}}break;case 3:if(Ht(t,e),an(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{_u(t.containerInfo)}catch(m){ye(e,e.return,m)}break;case 4:Ht(t,e),an(e);break;case 13:Ht(t,e),an(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(dp=Se())),r&4&&Gy(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(Xe=(l=Xe)||c,Ht(t,e),Xe=l):Ht(t,e),an(e),r&8192){if(l=e.memoizedState!==null,(e.stateNode.isHidden=l)&&!c&&e.mode&1)for(R=e,c=e.child;c!==null;){for(f=R=c;R!==null;){switch(h=R,d=h.child,h.tag){case 0:case 11:case 14:case 15:au(4,h,h.return);break;case 1:Mi(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){ye(r,n,m)}}break;case 5:Mi(h,h.return);break;case 22:if(h.memoizedState!==null){Xy(f);continue}}d!==null?(d.return=h,R=d):Xy(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,l?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=f.stateNode,a=f.memoizedProps.style,u=a!=null&&a.hasOwnProperty("display")?a.display:null,s.style.display=_0("display",u))}catch(m){ye(e,e.return,m)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=l?"":f.memoizedProps}catch(m){ye(e,e.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ht(t,e),an(e),r&4&&Gy(e);break;case 21:break;default:Ht(t,e),an(e)}}function an(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(G1(n)){var r=n;break e}n=n.return}throw Error(N(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(gu(i,""),r.flags&=-33);var o=Qy(e);$h(e,o,i);break;case 3:case 4:var u=r.stateNode.containerInfo,s=Qy(e);Lh(e,s,u);break;default:throw Error(N(161))}}catch(a){ye(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function JT(e,t,n){R=e,J1(e)}function J1(e,t,n){for(var r=(e.mode&1)!==0;R!==null;){var i=R,o=i.child;if(i.tag===22&&r){var u=i.memoizedState!==null||Ks;if(!u){var s=i.alternate,a=s!==null&&s.memoizedState!==null||Xe;s=Ks;var l=Xe;if(Ks=u,(Xe=a)&&!l)for(R=i;R!==null;)u=R,a=u.child,u.tag===22&&u.memoizedState!==null?Jy(i):a!==null?(a.return=u,R=a):Jy(i);for(;o!==null;)R=o,J1(o),o=o.sibling;R=i,Ks=s,Xe=l}Yy(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,R=o):Yy(e)}}function Yy(e){for(;R!==null;){var t=R;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Xe||Ml(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Xe)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Yt(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Ry(t,o,r);break;case 3:var u=t.updateQueue;if(u!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Ry(t,u,n)}break;case 5:var s=t.stateNode;if(n===null&&t.flags&4){n=s;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var l=t.alternate;if(l!==null){var c=l.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&_u(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(N(163))}Xe||t.flags&512&&Oh(t)}catch(h){ye(t,t.return,h)}}if(t===e){R=null;break}if(n=t.sibling,n!==null){n.return=t.return,R=n;break}R=t.return}}function Xy(e){for(;R!==null;){var t=R;if(t===e){R=null;break}var n=t.sibling;if(n!==null){n.return=t.return,R=n;break}R=t.return}}function Jy(e){for(;R!==null;){var t=R;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ml(4,t)}catch(a){ye(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(a){ye(t,i,a)}}var o=t.return;try{Oh(t)}catch(a){ye(t,o,a)}break;case 5:var u=t.return;try{Oh(t)}catch(a){ye(t,u,a)}}}catch(a){ye(t,t.return,a)}if(t===e){R=null;break}var s=t.sibling;if(s!==null){s.return=t.return,R=s;break}R=t.return}}var ZT=Math.ceil,Ba=Fn.ReactCurrentDispatcher,fp=Fn.ReactCurrentOwner,zt=Fn.ReactCurrentBatchConfig,X=0,$e=null,Te=null,Be=0,Ct=0,Fi=Ir(0),xe=0,Ru=null,ei=0,Fl=0,hp=0,lu=null,vt=null,dp=0,no=1/0,_n=null,za=!1,Mh=null,ar=null,Ws=!1,tr=null,qa=0,cu=0,Fh=null,ha=-1,da=0;function ht(){return X&6?Se():ha!==-1?ha:ha=Se()}function lr(e){return e.mode&1?X&2&&Be!==0?Be&-Be:$T.transition!==null?(da===0&&(da=L0()),da):(e=te,e!==0||(e=window.event,e=e===void 0?16:B0(e.type)),e):1}function tn(e,t,n,r){if(50<cu)throw cu=0,Fh=null,Error(N(185));rs(e,n,r),(!(X&2)||e!==$e)&&(e===$e&&(!(X&2)&&(Fl|=n),xe===4&&Qn(e,Be)),St(e,r),n===1&&X===0&&!(t.mode&1)&&(no=Se()+500,Ol&&Tr()))}function St(e,t){var n=e.callbackNode;$I(e,t);var r=ka(e,e===$e?Be:0);if(r===0)n!==null&&sy(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&sy(n),t===1)e.tag===0?LT(Zy.bind(null,e)):s1(Zy.bind(null,e)),DT(function(){!(X&6)&&Tr()}),n=null;else{switch($0(r)){case 1:n=jd;break;case 4:n=R0;break;case 16:n=ba;break;case 536870912:n=O0;break;default:n=ba}n=uw(n,Z1.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Z1(e,t){if(ha=-1,da=0,X&6)throw Error(N(327));var n=e.callbackNode;if(Wi()&&e.callbackNode!==n)return null;var r=ka(e,e===$e?Be:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ka(e,r);else{t=r;var i=X;X|=2;var o=tw();($e!==e||Be!==t)&&(_n=null,no=Se()+500,Wr(e,t));do try{nC();break}catch(s){ew(e,s)}while(1);Jd(),Ba.current=o,X=i,Te!==null?t=0:($e=null,Be=0,t=xe)}if(t!==0){if(t===2&&(i=fh(e),i!==0&&(r=i,t=jh(e,i))),t===1)throw n=Ru,Wr(e,0),Qn(e,r),St(e,Se()),n;if(t===6)Qn(e,r);else{if(i=e.current.alternate,!(r&30)&&!eC(i)&&(t=Ka(e,r),t===2&&(o=fh(e),o!==0&&(r=o,t=jh(e,o))),t===1))throw n=Ru,Wr(e,0),Qn(e,r),St(e,Se()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(N(345));case 2:Lr(e,vt,_n);break;case 3:if(Qn(e,r),(r&130023424)===r&&(t=dp+500-Se(),10<t)){if(ka(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){ht(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=wh(Lr.bind(null,e,vt,_n),t);break}Lr(e,vt,_n);break;case 4:if(Qn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-en(r);o=1<<u,u=t[u],u>i&&(i=u),r&=~o}if(r=i,r=Se()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ZT(r/1960))-r,10<r){e.timeoutHandle=wh(Lr.bind(null,e,vt,_n),r);break}Lr(e,vt,_n);break;case 5:Lr(e,vt,_n);break;default:throw Error(N(329))}}}return St(e,Se()),e.callbackNode===n?Z1.bind(null,e):null}function jh(e,t){var n=lu;return e.current.memoizedState.isDehydrated&&(Wr(e,t).flags|=256),e=Ka(e,t),e!==2&&(t=vt,vt=n,t!==null&&Uh(t)),e}function Uh(e){vt===null?vt=e:vt.push.apply(vt,e)}function eC(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!un(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Qn(e,t){for(t&=~hp,t&=~Fl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-en(t),r=1<<n;e[n]=-1,t&=~r}}function Zy(e){if(X&6)throw Error(N(327));Wi();var t=ka(e,0);if(!(t&1))return St(e,Se()),null;var n=Ka(e,t);if(e.tag!==0&&n===2){var r=fh(e);r!==0&&(t=r,n=jh(e,r))}if(n===1)throw n=Ru,Wr(e,0),Qn(e,t),St(e,Se()),n;if(n===6)throw Error(N(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Lr(e,vt,_n),St(e,Se()),null}function pp(e,t){var n=X;X|=1;try{return e(t)}finally{X=n,X===0&&(no=Se()+500,Ol&&Tr())}}function ti(e){tr!==null&&tr.tag===0&&!(X&6)&&Wi();var t=X;X|=1;var n=zt.transition,r=te;try{if(zt.transition=null,te=1,e)return e()}finally{te=r,zt.transition=n,X=t,!(X&6)&&Tr()}}function vp(){Ct=Fi.current,ae(Fi)}function Wr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,PT(n)),Te!==null)for(n=Te.return;n!==null;){var r=n;switch(Gd(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Aa();break;case 3:eo(),ae(gt),ae(rt),ip();break;case 5:rp(r);break;case 4:eo();break;case 13:ae(he);break;case 19:ae(he);break;case 10:Zd(r.type._context);break;case 22:case 23:vp()}n=n.return}if($e=e,Te=e=cr(e.current,null),Be=Ct=t,xe=0,Ru=null,hp=Fl=ei=0,vt=lu=null,Ur!==null){for(t=0;t<Ur.length;t++)if(n=Ur[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var u=o.next;o.next=i,r.next=u}n.pending=r}Ur=null}return e}function ew(e,t){do{var n=Te;try{if(Jd(),la.current=Va,Ua){for(var r=pe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ua=!1}if(Zr=0,Le=Ne=pe=null,su=!1,Pu=0,fp.current=null,n===null||n.return===null){xe=1,Ru=t,Te=null;break}e:{var o=e,u=n.return,s=n,a=t;if(t=Be,s.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var l=a,c=s,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var d=Uy(u);if(d!==null){d.flags&=-257,Vy(d,u,s,o,t),d.mode&1&&jy(o,l,t),t=d,a=l;var v=t.updateQueue;if(v===null){var m=new Set;m.add(a),t.updateQueue=m}else v.add(a);break e}else{if(!(t&1)){jy(o,l,t),yp();break e}a=Error(N(426))}}else if(ce&&s.mode&1){var w=Uy(u);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Vy(w,u,s,o,t),Yd(to(a,s));break e}}o=a=to(a,s),xe!==4&&(xe=2),lu===null?lu=[o]:lu.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var y=M1(o,a,t);Ay(o,y);break e;case 1:s=a;var p=o.type,g=o.stateNode;if(!(o.flags&128)&&(typeof p.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(ar===null||!ar.has(g)))){o.flags|=65536,t&=-t,o.lanes|=t;var S=F1(o,s,t);Ay(o,S);break e}}o=o.return}while(o!==null)}rw(n)}catch(_){t=_,Te===n&&n!==null&&(Te=n=n.return);continue}break}while(1)}function tw(){var e=Ba.current;return Ba.current=Va,e===null?Va:e}function yp(){(xe===0||xe===3||xe===2)&&(xe=4),$e===null||!(ei&268435455)&&!(Fl&268435455)||Qn($e,Be)}function Ka(e,t){var n=X;X|=2;var r=tw();($e!==e||Be!==t)&&(_n=null,Wr(e,t));do try{tC();break}catch(i){ew(e,i)}while(1);if(Jd(),X=n,Ba.current=r,Te!==null)throw Error(N(261));return $e=null,Be=0,xe}function tC(){for(;Te!==null;)nw(Te)}function nC(){for(;Te!==null&&!kI();)nw(Te)}function nw(e){var t=ow(e.alternate,e,Ct);e.memoizedProps=e.pendingProps,t===null?rw(e):Te=t,fp.current=null}function rw(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=GT(n,t),n!==null){n.flags&=32767,Te=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{xe=6,Te=null;return}}else if(n=QT(n,t,Ct),n!==null){Te=n;return}if(t=t.sibling,t!==null){Te=t;return}Te=t=e}while(t!==null);xe===0&&(xe=5)}function Lr(e,t,n){var r=te,i=zt.transition;try{zt.transition=null,te=1,rC(e,t,n,r)}finally{zt.transition=i,te=r}return null}function rC(e,t,n,r){do Wi();while(tr!==null);if(X&6)throw Error(N(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(N(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(MI(e,o),e===$e&&(Te=$e=null,Be=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ws||(Ws=!0,uw(ba,function(){return Wi(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=zt.transition,zt.transition=null;var u=te;te=1;var s=X;X|=4,fp.current=null,XT(e,n),X1(n,e),IT(mh),Na=!!yh,mh=yh=null,e.current=n,JT(n),NI(),X=s,te=u,zt.transition=o}else e.current=n;if(Ws&&(Ws=!1,tr=e,qa=i),o=e.pendingLanes,o===0&&(ar=null),DI(n.stateNode),St(e,Se()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(za)throw za=!1,e=Mh,Mh=null,e;return qa&1&&e.tag!==0&&Wi(),o=e.pendingLanes,o&1?e===Fh?cu++:(cu=0,Fh=e):cu=0,Tr(),null}function Wi(){if(tr!==null){var e=$0(qa),t=zt.transition,n=te;try{if(zt.transition=null,te=16>e?16:e,tr===null)var r=!1;else{if(e=tr,tr=null,qa=0,X&6)throw Error(N(331));var i=X;for(X|=4,R=e.current;R!==null;){var o=R,u=o.child;if(R.flags&16){var s=o.deletions;if(s!==null){for(var a=0;a<s.length;a++){var l=s[a];for(R=l;R!==null;){var c=R;switch(c.tag){case 0:case 11:case 15:au(8,c,o)}var f=c.child;if(f!==null)f.return=c,R=f;else for(;R!==null;){c=R;var h=c.sibling,d=c.return;if(Q1(c),c===l){R=null;break}if(h!==null){h.return=d,R=h;break}R=d}}}var v=o.alternate;if(v!==null){var m=v.child;if(m!==null){v.child=null;do{var w=m.sibling;m.sibling=null,m=w}while(m!==null)}}R=o}}if(o.subtreeFlags&2064&&u!==null)u.return=o,R=u;else e:for(;R!==null;){if(o=R,o.flags&2048)switch(o.tag){case 0:case 11:case 15:au(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,R=y;break e}R=o.return}}var p=e.current;for(R=p;R!==null;){u=R;var g=u.child;if(u.subtreeFlags&2064&&g!==null)g.return=u,R=g;else e:for(u=p;R!==null;){if(s=R,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Ml(9,s)}}catch(_){ye(s,s.return,_)}if(s===u){R=null;break e}var S=s.sibling;if(S!==null){S.return=s.return,R=S;break e}R=s.return}}if(X=i,Tr(),pn&&typeof pn.onPostCommitFiberRoot=="function")try{pn.onPostCommitFiberRoot(xl,e)}catch{}r=!0}return r}finally{te=n,zt.transition=t}}return!1}function em(e,t,n){t=to(n,t),t=M1(e,t,1),e=sr(e,t,1),t=ht(),e!==null&&(rs(e,1,t),St(e,t))}function ye(e,t,n){if(e.tag===3)em(e,e,n);else for(;t!==null;){if(t.tag===3){em(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ar===null||!ar.has(r))){e=to(n,e),e=F1(t,e,1),t=sr(t,e,1),e=ht(),t!==null&&(rs(t,1,e),St(t,e));break}}t=t.return}}function iC(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=ht(),e.pingedLanes|=e.suspendedLanes&n,$e===e&&(Be&n)===n&&(xe===4||xe===3&&(Be&130023424)===Be&&500>Se()-dp?Wr(e,0):hp|=n),St(e,t)}function iw(e,t){t===0&&(e.mode&1?(t=$s,$s<<=1,!($s&130023424)&&($s=4194304)):t=1);var n=ht();e=On(e,t),e!==null&&(rs(e,t,n),St(e,n))}function oC(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),iw(e,n)}function uC(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(N(314))}r!==null&&r.delete(t),iw(e,n)}var ow;ow=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||gt.current)yt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return yt=!1,HT(e,t,n);yt=!!(e.flags&131072)}else yt=!1,ce&&t.flags&1048576&&a1(t,La,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;fa(e,t),e=t.pendingProps;var i=Xi(t,rt.current);Ki(t,n),i=up(null,t,r,e,i,n);var o=sp();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,wt(r)?(o=!0,Ra(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,tp(t),i.updater=Ll,t.stateNode=i,i._reactInternals=t,bh(t,r,e,n),t=xh(null,t,r,!0,o,n)):(t.tag=0,ce&&o&&Qd(t),ut(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(fa(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=aC(r),e=Yt(r,e),i){case 0:t=Nh(null,t,r,e,n);break e;case 1:t=qy(null,t,r,e,n);break e;case 11:t=By(null,t,r,e,n);break e;case 14:t=zy(null,t,r,Yt(r.type,e),n);break e}throw Error(N(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Yt(r,i),Nh(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Yt(r,i),qy(e,t,r,i,n);case 3:e:{if(B1(t),e===null)throw Error(N(387));r=t.pendingProps,o=t.memoizedState,i=o.element,h1(e,t),Fa(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=to(Error(N(423)),t),t=Ky(e,t,r,n,i);break e}else if(r!==i){i=to(Error(N(424)),t),t=Ky(e,t,r,n,i);break e}else for(xt=ur(t.stateNode.containerInfo.firstChild),At=t,ce=!0,Jt=null,n=y1(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ji(),r===i){t=Ln(e,t,n);break e}ut(e,t,r,n)}t=t.child}return t;case 5:return m1(t),e===null&&Ih(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,u=i.children,gh(r,i)?u=null:o!==null&&gh(r,o)&&(t.flags|=32),V1(e,t),ut(e,t,u,n),t.child;case 6:return e===null&&Ih(t),null;case 13:return z1(e,t,n);case 4:return np(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Zi(t,null,r,n):ut(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Yt(r,i),By(e,t,r,i,n);case 7:return ut(e,t,t.pendingProps,n),t.child;case 8:return ut(e,t,t.pendingProps.children,n),t.child;case 12:return ut(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,ie($a,r._currentValue),r._currentValue=u,o!==null)if(un(o.value,u)){if(o.children===i.children&&!gt.current){t=Ln(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var s=o.dependencies;if(s!==null){u=o.child;for(var a=s.firstContext;a!==null;){if(a.context===r){if(o.tag===1){a=Nn(-1,n&-n),a.tag=2;var l=o.updateQueue;if(l!==null){l=l.shared;var c=l.pending;c===null?a.next=a:(a.next=c.next,c.next=a),l.pending=a}}o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Th(o.return,n,t),s.lanes|=n;break}a=a.next}}else if(o.tag===10)u=o.type===t.type?null:o.child;else if(o.tag===18){if(u=o.return,u===null)throw Error(N(341));u.lanes|=n,s=u.alternate,s!==null&&(s.lanes|=n),Th(u,n,t),u=o.sibling}else u=o.child;if(u!==null)u.return=o;else for(u=o;u!==null;){if(u===t){u=null;break}if(o=u.sibling,o!==null){o.return=u.return,u=o;break}u=u.return}o=u}ut(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ki(t,n),i=qt(i),r=r(i),t.flags|=1,ut(e,t,r,n),t.child;case 14:return r=t.type,i=Yt(r,t.pendingProps),i=Yt(r.type,i),zy(e,t,r,i,n);case 15:return j1(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Yt(r,i),fa(e,t),t.tag=1,wt(r)?(e=!0,Ra(t)):e=!1,Ki(t,n),p1(t,r,i),bh(t,r,i,n),xh(null,t,r,!0,e,n);case 19:return q1(e,t,n);case 22:return U1(e,t,n)}throw Error(N(156,t.tag))};function uw(e,t){return A0(e,t)}function sC(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bt(e,t,n,r){return new sC(e,t,n,r)}function mp(e){return e=e.prototype,!(!e||!e.isReactComponent)}function aC(e){if(typeof e=="function")return mp(e)?1:0;if(e!=null){if(e=e.$$typeof,e===$d)return 11;if(e===Md)return 14}return 2}function cr(e,t){var n=e.alternate;return n===null?(n=Bt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function pa(e,t,n,r,i,o){var u=2;if(r=e,typeof e=="function")mp(e)&&(u=1);else if(typeof e=="string")u=5;else e:switch(e){case Ni:return Hr(n.children,i,o,t);case Ld:u=8,i|=8;break;case Yf:return e=Bt(12,n,t,i|2),e.elementType=Yf,e.lanes=o,e;case Xf:return e=Bt(13,n,t,i),e.elementType=Xf,e.lanes=o,e;case Jf:return e=Bt(19,n,t,i),e.elementType=Jf,e.lanes=o,e;case v0:return jl(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case d0:u=10;break e;case p0:u=9;break e;case $d:u=11;break e;case Md:u=14;break e;case qn:u=16,r=null;break e}throw Error(N(130,e==null?e:typeof e,""))}return t=Bt(u,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function Hr(e,t,n,r){return e=Bt(7,e,r,t),e.lanes=n,e}function jl(e,t,n,r){return e=Bt(22,e,r,t),e.elementType=v0,e.lanes=n,e.stateNode={isHidden:!1},e}function wf(e,t,n){return e=Bt(6,e,null,t),e.lanes=n,e}function Sf(e,t,n){return t=Bt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function lC(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Zc(0),this.expirationTimes=Zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zc(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function gp(e,t,n,r,i,o,u,s,a){return e=new lC(e,t,n,s,a),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Bt(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},tp(o),e}function cC(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ki,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function sw(e){if(!e)return mr;e=e._reactInternals;e:{if(fi(e)!==e||e.tag!==1)throw Error(N(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(wt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(N(171))}if(e.tag===1){var n=e.type;if(wt(n))return u1(e,n,t)}return t}function aw(e,t,n,r,i,o,u,s,a){return e=gp(n,r,!0,e,i,o,u,s,a),e.context=sw(null),n=e.current,r=ht(),i=lr(n),o=Nn(r,i),o.callback=t??null,sr(n,o,i),e.current.lanes=i,rs(e,i,r),St(e,r),e}function Ul(e,t,n,r){var i=t.current,o=ht(),u=lr(i);return n=sw(n),t.context===null?t.context=n:t.pendingContext=n,t=Nn(o,u),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=sr(i,t,u),e!==null&&(tn(e,i,u,o),aa(e,i,u)),u}function Wa(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function tm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function wp(e,t){tm(e,t),(e=e.alternate)&&tm(e,t)}function fC(){return null}var lw=typeof reportError=="function"?reportError:function(e){console.error(e)};function Sp(e){this._internalRoot=e}Vl.prototype.render=Sp.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(N(409));Ul(e,t,null,null)};Vl.prototype.unmount=Sp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ti(function(){Ul(null,e,null,null)}),t[Rn]=null}};function Vl(e){this._internalRoot=e}Vl.prototype.unstable_scheduleHydration=function(e){if(e){var t=j0();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Hn.length&&t!==0&&t<Hn[n].priority;n++);Hn.splice(n,0,e),n===0&&V0(e)}};function Ep(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Bl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function nm(){}function hC(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var l=Wa(u);o.call(l)}}var u=aw(t,r,e,0,null,!1,!1,"",nm);return e._reactRootContainer=u,e[Rn]=u.current,Cu(e.nodeType===8?e.parentNode:e),ti(),u}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var l=Wa(a);s.call(l)}}var a=gp(e,0,!1,null,null,!1,!1,"",nm);return e._reactRootContainer=a,e[Rn]=a.current,Cu(e.nodeType===8?e.parentNode:e),ti(function(){Ul(t,a,n,r)}),a}function zl(e,t,n,r,i){var o=n._reactRootContainer;if(o){var u=o;if(typeof i=="function"){var s=i;i=function(){var a=Wa(u);s.call(a)}}Ul(t,u,e,i)}else u=hC(n,t,e,i,r);return Wa(u)}M0=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Xo(t.pendingLanes);n!==0&&(Ud(t,n|1),St(t,Se()),!(X&6)&&(no=Se()+500,Tr()))}break;case 13:ti(function(){var r=On(e,1);if(r!==null){var i=ht();tn(r,e,1,i)}}),wp(e,1)}};Vd=function(e){if(e.tag===13){var t=On(e,134217728);if(t!==null){var n=ht();tn(t,e,134217728,n)}wp(e,134217728)}};F0=function(e){if(e.tag===13){var t=lr(e),n=On(e,t);if(n!==null){var r=ht();tn(n,e,t,r)}wp(e,t)}};j0=function(){return te};U0=function(e,t){var n=te;try{return te=e,t()}finally{te=n}};ah=function(e,t,n){switch(t){case"input":if(th(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Rl(r);if(!i)throw Error(N(90));m0(r),th(r,i)}}}break;case"textarea":w0(e,n);break;case"select":t=n.value,t!=null&&Vi(e,!!n.multiple,t,!1)}};b0=pp;k0=ti;var dC={usingClientEntryPoint:!1,Events:[os,Ai,Rl,T0,C0,pp]},Wo={findFiberByHostInstance:jr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},pC={bundleType:Wo.bundleType,version:Wo.version,rendererPackageName:Wo.rendererPackageName,rendererConfig:Wo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Fn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=P0(e),e===null?null:e.stateNode},findFiberByHostInstance:Wo.findFiberByHostInstance||fC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hs.isDisabled&&Hs.supportsFiber)try{xl=Hs.inject(pC),pn=Hs}catch{}}Mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dC;Mt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ep(t))throw Error(N(200));return cC(e,t,null,n)};Mt.createRoot=function(e,t){if(!Ep(e))throw Error(N(299));var n=!1,r="",i=lw;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=gp(e,1,!1,null,null,n,!1,r,i),e[Rn]=t.current,Cu(e.nodeType===8?e.parentNode:e),new Sp(t)};Mt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(N(188)):(e=Object.keys(e).join(","),Error(N(268,e)));return e=P0(t),e=e===null?null:e.stateNode,e};Mt.flushSync=function(e){return ti(e)};Mt.hydrate=function(e,t,n){if(!Bl(t))throw Error(N(200));return zl(null,e,t,!0,n)};Mt.hydrateRoot=function(e,t,n){if(!Ep(e))throw Error(N(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",u=lw;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(u=n.onRecoverableError)),t=aw(t,null,e,1,n??null,i,!1,o,u),e[Rn]=t.current,Cu(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Vl(t)};Mt.render=function(e,t,n){if(!Bl(t))throw Error(N(200));return zl(null,e,t,!1,n)};Mt.unmountComponentAtNode=function(e){if(!Bl(e))throw Error(N(40));return e._reactRootContainer?(ti(function(){zl(null,null,e,!1,function(){e._reactRootContainer=null,e[Rn]=null})}),!0):!1};Mt.unstable_batchedUpdates=pp;Mt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Bl(n))throw Error(N(200));if(e==null||e._reactInternals===void 0)throw Error(N(38));return zl(e,t,n,!1,r)};Mt.version="18.2.0-next-9e3b772b8-20220608";(function(e){function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(n){console.error(n)}}t(),e.exports=Mt})(fI);var rm=_a;Hf.createRoot=rm.createRoot,Hf.hydrateRoot=rm.hydrateRoot;var Vh={},vC={get exports(){return Vh},set exports(e){Vh=e}},cw={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ro=D;function yC(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var mC=typeof Object.is=="function"?Object.is:yC,gC=ro.useState,wC=ro.useEffect,SC=ro.useLayoutEffect,EC=ro.useDebugValue;function _C(e,t){var n=t(),r=gC({inst:{value:n,getSnapshot:t}}),i=r[0].inst,o=r[1];return SC(function(){i.value=n,i.getSnapshot=t,Ef(i)&&o({inst:i})},[e,n,t]),wC(function(){return Ef(i)&&o({inst:i}),e(function(){Ef(i)&&o({inst:i})})},[e]),EC(n),n}function Ef(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!mC(e,n)}catch{return!0}}function IC(e,t){return t()}var TC=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?IC:_C;cw.useSyncExternalStore=ro.useSyncExternalStore!==void 0?ro.useSyncExternalStore:TC;(function(e){e.exports=cw})(vC);var Bh={},CC={get exports(){return Bh},set exports(e){Bh=e}},fw={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ql=D,bC=Vh;function kC(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var NC=typeof Object.is=="function"?Object.is:kC,xC=bC.useSyncExternalStore,PC=ql.useRef,DC=ql.useEffect,AC=ql.useMemo,RC=ql.useDebugValue;fw.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var o=PC(null);if(o.current===null){var u={hasValue:!1,value:null};o.current=u}else u=o.current;o=AC(function(){function a(d){if(!l){if(l=!0,c=d,d=r(d),i!==void 0&&u.hasValue){var v=u.value;if(i(v,d))return f=v}return f=d}if(v=f,NC(c,d))return v;var m=r(d);return i!==void 0&&i(v,m)?v:(c=d,f=m)}var l=!1,c,f,h=n===void 0?null:n;return[function(){return a(t())},h===null?void 0:function(){return a(h())}]},[t,n,r,i]);var s=xC(e,o[0],o[1]);return DC(function(){u.hasValue=!0,u.value=s},[s]),RC(s),s};(function(e){e.exports=fw})(CC);function OC(e){e()}let hw=OC;const LC=e=>hw=e,$C=()=>hw,gr=D.createContext(null);function dw(){return D.useContext(gr)}const MC=()=>{throw new Error("uSES not initialized!")};let pw=MC;const FC=e=>{pw=e},jC=(e,t)=>e===t;function UC(e=gr){const t=e===gr?dw:()=>D.useContext(e);return function(r,i=jC){const{store:o,subscription:u,getServerState:s}=t(),a=pw(u.addNestedSub,o.getState,s||o.getState,r,i);return D.useDebugValue(a),a}}const VC=UC();var zh={},BC={get exports(){return zh},set exports(e){zh=e}},ne={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fe=typeof Symbol=="function"&&Symbol.for,_p=Fe?Symbol.for("react.element"):60103,Ip=Fe?Symbol.for("react.portal"):60106,Kl=Fe?Symbol.for("react.fragment"):60107,Wl=Fe?Symbol.for("react.strict_mode"):60108,Hl=Fe?Symbol.for("react.profiler"):60114,Ql=Fe?Symbol.for("react.provider"):60109,Gl=Fe?Symbol.for("react.context"):60110,Tp=Fe?Symbol.for("react.async_mode"):60111,Yl=Fe?Symbol.for("react.concurrent_mode"):60111,Xl=Fe?Symbol.for("react.forward_ref"):60112,Jl=Fe?Symbol.for("react.suspense"):60113,zC=Fe?Symbol.for("react.suspense_list"):60120,Zl=Fe?Symbol.for("react.memo"):60115,ec=Fe?Symbol.for("react.lazy"):60116,qC=Fe?Symbol.for("react.block"):60121,KC=Fe?Symbol.for("react.fundamental"):60117,WC=Fe?Symbol.for("react.responder"):60118,HC=Fe?Symbol.for("react.scope"):60119;function jt(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case _p:switch(e=e.type,e){case Tp:case Yl:case Kl:case Hl:case Wl:case Jl:return e;default:switch(e=e&&e.$$typeof,e){case Gl:case Xl:case ec:case Zl:case Ql:return e;default:return t}}case Ip:return t}}}function vw(e){return jt(e)===Yl}ne.AsyncMode=Tp;ne.ConcurrentMode=Yl;ne.ContextConsumer=Gl;ne.ContextProvider=Ql;ne.Element=_p;ne.ForwardRef=Xl;ne.Fragment=Kl;ne.Lazy=ec;ne.Memo=Zl;ne.Portal=Ip;ne.Profiler=Hl;ne.StrictMode=Wl;ne.Suspense=Jl;ne.isAsyncMode=function(e){return vw(e)||jt(e)===Tp};ne.isConcurrentMode=vw;ne.isContextConsumer=function(e){return jt(e)===Gl};ne.isContextProvider=function(e){return jt(e)===Ql};ne.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===_p};ne.isForwardRef=function(e){return jt(e)===Xl};ne.isFragment=function(e){return jt(e)===Kl};ne.isLazy=function(e){return jt(e)===ec};ne.isMemo=function(e){return jt(e)===Zl};ne.isPortal=function(e){return jt(e)===Ip};ne.isProfiler=function(e){return jt(e)===Hl};ne.isStrictMode=function(e){return jt(e)===Wl};ne.isSuspense=function(e){return jt(e)===Jl};ne.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Kl||e===Yl||e===Hl||e===Wl||e===Jl||e===zC||typeof e=="object"&&e!==null&&(e.$$typeof===ec||e.$$typeof===Zl||e.$$typeof===Ql||e.$$typeof===Gl||e.$$typeof===Xl||e.$$typeof===KC||e.$$typeof===WC||e.$$typeof===HC||e.$$typeof===qC)};ne.typeOf=jt;(function(e){e.exports=ne})(BC);var yw=zh,QC={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},GC={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},mw={};mw[yw.ForwardRef]=QC;mw[yw.Memo]=GC;var im={},YC={get exports(){return im},set exports(e){im=e}},re={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cp=Symbol.for("react.element"),bp=Symbol.for("react.portal"),tc=Symbol.for("react.fragment"),nc=Symbol.for("react.strict_mode"),rc=Symbol.for("react.profiler"),ic=Symbol.for("react.provider"),oc=Symbol.for("react.context"),XC=Symbol.for("react.server_context"),uc=Symbol.for("react.forward_ref"),sc=Symbol.for("react.suspense"),ac=Symbol.for("react.suspense_list"),lc=Symbol.for("react.memo"),cc=Symbol.for("react.lazy"),JC=Symbol.for("react.offscreen"),gw;gw=Symbol.for("react.module.reference");function Wt(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Cp:switch(e=e.type,e){case tc:case rc:case nc:case sc:case ac:return e;default:switch(e=e&&e.$$typeof,e){case XC:case oc:case uc:case cc:case lc:case ic:return e;default:return t}}case bp:return t}}}re.ContextConsumer=oc;re.ContextProvider=ic;re.Element=Cp;re.ForwardRef=uc;re.Fragment=tc;re.Lazy=cc;re.Memo=lc;re.Portal=bp;re.Profiler=rc;re.StrictMode=nc;re.Suspense=sc;re.SuspenseList=ac;re.isAsyncMode=function(){return!1};re.isConcurrentMode=function(){return!1};re.isContextConsumer=function(e){return Wt(e)===oc};re.isContextProvider=function(e){return Wt(e)===ic};re.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Cp};re.isForwardRef=function(e){return Wt(e)===uc};re.isFragment=function(e){return Wt(e)===tc};re.isLazy=function(e){return Wt(e)===cc};re.isMemo=function(e){return Wt(e)===lc};re.isPortal=function(e){return Wt(e)===bp};re.isProfiler=function(e){return Wt(e)===rc};re.isStrictMode=function(e){return Wt(e)===nc};re.isSuspense=function(e){return Wt(e)===sc};re.isSuspenseList=function(e){return Wt(e)===ac};re.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===tc||e===rc||e===nc||e===sc||e===ac||e===JC||typeof e=="object"&&e!==null&&(e.$$typeof===cc||e.$$typeof===lc||e.$$typeof===ic||e.$$typeof===oc||e.$$typeof===uc||e.$$typeof===gw||e.getModuleId!==void 0)};re.typeOf=Wt;(function(e){e.exports=re})(YC);function ZC(){const e=$C();let t=null,n=null;return{clear(){t=null,n=null},notify(){e(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){let r=[],i=t;for(;i;)r.push(i),i=i.next;return r},subscribe(r){let i=!0,o=n={callback:r,next:null,prev:n};return o.prev?o.prev.next=o:t=o,function(){!i||t===null||(i=!1,o.next?o.next.prev=o.prev:n=o.prev,o.prev?o.prev.next=o.next:t=o.next)}}}}const om={notify(){},get:()=>[]};function eb(e,t){let n,r=om;function i(f){return a(),r.subscribe(f)}function o(){r.notify()}function u(){c.onStateChange&&c.onStateChange()}function s(){return Boolean(n)}function a(){n||(n=t?t.addNestedSub(u):e.subscribe(u),r=ZC())}function l(){n&&(n(),n=void 0,r.clear(),r=om)}const c={addNestedSub:i,notifyNestedSubs:o,handleChangeWrapper:u,isSubscribed:s,trySubscribe:a,tryUnsubscribe:l,getListeners:()=>r};return c}const tb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",nb=tb?D.useLayoutEffect:D.useEffect;function rb({store:e,context:t,children:n,serverState:r}){const i=D.useMemo(()=>{const s=eb(e);return{store:e,subscription:s,getServerState:r?()=>r:void 0}},[e,r]),o=D.useMemo(()=>e.getState(),[e]);nb(()=>{const{subscription:s}=i;return s.onStateChange=s.notifyNestedSubs,s.trySubscribe(),o!==e.getState()&&s.notifyNestedSubs(),()=>{s.tryUnsubscribe(),s.onStateChange=void 0}},[i,o]);const u=t||gr;return a0.createElement(u.Provider,{value:i},n)}function ww(e=gr){const t=e===gr?dw:()=>D.useContext(e);return function(){const{store:r}=t();return r}}const ib=ww();function ob(e=gr){const t=e===gr?ib:ww(e);return function(){return t().dispatch}}const ub=ob();FC(Bh.useSyncExternalStoreWithSelector);LC(_a.unstable_batchedUpdates);/**
 * @remix-run/router v1.3.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ou(){return Ou=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ou.apply(this,arguments)}var nr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(nr||(nr={}));const um="popstate";function sb(e){e===void 0&&(e={});function t(r,i){let{pathname:o,search:u,hash:s}=r.location;return qh("",{pathname:o,search:u,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Ha(i)}return lb(t,n,null,e)}function De(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ab(){return Math.random().toString(36).substr(2,8)}function sm(e,t){return{usr:e.state,key:e.key,idx:t}}function qh(e,t,n,r){return n===void 0&&(n=null),Ou({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?bo(t):t,{state:n,key:t&&t.key||r||ab()})}function Ha(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function bo(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function lb(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,u=i.history,s=nr.Pop,a=null,l=c();l==null&&(l=0,u.replaceState(Ou({},u.state,{idx:l}),""));function c(){return(u.state||{idx:null}).idx}function f(){s=nr.Pop;let w=c(),y=w==null?null:w-l;l=w,a&&a({action:s,location:m.location,delta:y})}function h(w,y){s=nr.Push;let p=qh(m.location,w,y);n&&n(p,w),l=c()+1;let g=sm(p,l),S=m.createHref(p);try{u.pushState(g,"",S)}catch{i.location.assign(S)}o&&a&&a({action:s,location:m.location,delta:1})}function d(w,y){s=nr.Replace;let p=qh(m.location,w,y);n&&n(p,w),l=c();let g=sm(p,l),S=m.createHref(p);u.replaceState(g,"",S),o&&a&&a({action:s,location:m.location,delta:0})}function v(w){let y=i.location.origin!=="null"?i.location.origin:i.location.href,p=typeof w=="string"?w:Ha(w);return De(y,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,y)}let m={get action(){return s},get location(){return e(i,u)},listen(w){if(a)throw new Error("A history only accepts one active listener");return i.addEventListener(um,f),a=w,()=>{i.removeEventListener(um,f),a=null}},createHref(w){return t(i,w)},createURL:v,encodeLocation(w){let y=v(w);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:d,go(w){return u.go(w)}};return m}var am;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(am||(am={}));function cb(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?bo(t):t,i=_w(r.pathname||"/",n);if(i==null)return null;let o=Sw(e);fb(o);let u=null;for(let s=0;u==null&&s<o.length;++s)u=Sb(o[s],Ib(i));return u}function Sw(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,u,s)=>{let a={relativePath:s===void 0?o.path||"":s,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};a.relativePath.startsWith("/")&&(De(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),a.relativePath=a.relativePath.slice(r.length));let l=fr([r,a.relativePath]),c=n.concat(a);o.children&&o.children.length>0&&(De(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+l+'".')),Sw(o.children,t,c,l)),!(o.path==null&&!o.index)&&t.push({path:l,score:gb(l,o.index),routesMeta:c})};return e.forEach((o,u)=>{var s;if(o.path===""||!((s=o.path)!=null&&s.includes("?")))i(o,u);else for(let a of Ew(o.path))i(o,u,a)}),t}function Ew(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let u=Ew(r.join("/")),s=[];return s.push(...u.map(a=>a===""?o:[o,a].join("/"))),i&&s.push(...u),s.map(a=>e.startsWith("/")&&a===""?"/":a)}function fb(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:wb(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const hb=/^:\w+$/,db=3,pb=2,vb=1,yb=10,mb=-2,lm=e=>e==="*";function gb(e,t){let n=e.split("/"),r=n.length;return n.some(lm)&&(r+=mb),t&&(r+=pb),n.filter(i=>!lm(i)).reduce((i,o)=>i+(hb.test(o)?db:o===""?vb:yb),r)}function wb(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function Sb(e,t){let{routesMeta:n}=e,r={},i="/",o=[];for(let u=0;u<n.length;++u){let s=n[u],a=u===n.length-1,l=i==="/"?t:t.slice(i.length)||"/",c=Eb({path:s.relativePath,caseSensitive:s.caseSensitive,end:a},l);if(!c)return null;Object.assign(r,c.params);let f=s.route;o.push({params:r,pathname:fr([i,c.pathname]),pathnameBase:kb(fr([i,c.pathnameBase])),route:f}),c.pathnameBase!=="/"&&(i=fr([i,c.pathnameBase]))}return o}function Eb(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=_b(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],u=o.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((l,c,f)=>{if(c==="*"){let h=s[f]||"";u=o.slice(0,o.length-h.length).replace(/(.)\/+$/,"$1")}return l[c]=Tb(s[f]||"",c),l},{}),pathname:o,pathnameBase:u,pattern:e}}function _b(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),kp(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(u,s)=>(r.push(s),"/([^\\/]+)"));return e.endsWith("*")?(r.push("*"),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function Ib(e){try{return decodeURI(e)}catch(t){return kp(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Tb(e,t){try{return decodeURIComponent(e)}catch(n){return kp(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function _w(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function kp(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Cb(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?bo(e):e;return{pathname:n?n.startsWith("/")?n:bb(n,t):t,search:Nb(r),hash:xb(i)}}function bb(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function _f(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Iw(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Tw(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=bo(e):(i=Ou({},e),De(!i.pathname||!i.pathname.includes("?"),_f("?","pathname","search",i)),De(!i.pathname||!i.pathname.includes("#"),_f("#","pathname","hash",i)),De(!i.search||!i.search.includes("#"),_f("#","search","hash",i)));let o=e===""||i.pathname==="",u=o?"/":i.pathname,s;if(r||u==null)s=n;else{let f=t.length-1;if(u.startsWith("..")){let h=u.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}s=f>=0?t[f]:"/"}let a=Cb(i,s),l=u&&u!=="/"&&u.endsWith("/"),c=(o||u===".")&&n.endsWith("/");return!a.pathname.endsWith("/")&&(l||c)&&(a.pathname+="/"),a}const fr=e=>e.join("/").replace(/\/\/+/g,"/"),kb=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Nb=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,xb=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Pb(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Db=["post","put","patch","delete"];[...Db];/**
 * React Router v6.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Kh(){return Kh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kh.apply(this,arguments)}function Ab(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}const Rb=typeof Object.is=="function"?Object.is:Ab,{useState:Ob,useEffect:Lb,useLayoutEffect:$b,useDebugValue:Mb}=Wf;function Fb(e,t,n){const r=t(),[{inst:i},o]=Ob({inst:{value:r,getSnapshot:t}});return $b(()=>{i.value=r,i.getSnapshot=t,If(i)&&o({inst:i})},[e,r,t]),Lb(()=>(If(i)&&o({inst:i}),e(()=>{If(i)&&o({inst:i})})),[e]),Mb(r),r}function If(e){const t=e.getSnapshot,n=e.value;try{const r=t();return!Rb(n,r)}catch{return!0}}function jb(e,t,n){return t()}const Ub=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Vb=!Ub,Bb=Vb?jb:Fb;"useSyncExternalStore"in Wf&&(e=>e.useSyncExternalStore)(Wf);const Cw=D.createContext(null),bw=D.createContext(null),fc=D.createContext(null),hc=D.createContext(null),hi=D.createContext({outlet:null,matches:[]}),kw=D.createContext(null);function zb(e,t){let{relative:n}=t===void 0?{}:t;ss()||De(!1);let{basename:r,navigator:i}=D.useContext(fc),{hash:o,pathname:u,search:s}=Nw(e,{relative:n}),a=u;return r!=="/"&&(a=u==="/"?r:fr([r,u])),i.createHref({pathname:a,search:s,hash:o})}function ss(){return D.useContext(hc)!=null}function dc(){return ss()||De(!1),D.useContext(hc).location}function qb(){ss()||De(!1);let{basename:e,navigator:t}=D.useContext(fc),{matches:n}=D.useContext(hi),{pathname:r}=dc(),i=JSON.stringify(Iw(n).map(s=>s.pathnameBase)),o=D.useRef(!1);return D.useEffect(()=>{o.current=!0}),D.useCallback(function(s,a){if(a===void 0&&(a={}),!o.current)return;if(typeof s=="number"){t.go(s);return}let l=Tw(s,JSON.parse(i),r,a.relative==="path");e!=="/"&&(l.pathname=l.pathname==="/"?e:fr([e,l.pathname])),(a.replace?t.replace:t.push)(l,a.state,a)},[e,t,i,r])}const Kb=D.createContext(null);function Wb(e){let t=D.useContext(hi).outlet;return t&&D.createElement(Kb.Provider,{value:e},t)}function Nw(e,t){let{relative:n}=t===void 0?{}:t,{matches:r}=D.useContext(hi),{pathname:i}=dc(),o=JSON.stringify(Iw(r).map(u=>u.pathnameBase));return D.useMemo(()=>Tw(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function Hb(e,t){ss()||De(!1);let{navigator:n}=D.useContext(fc),r=D.useContext(bw),{matches:i}=D.useContext(hi),o=i[i.length-1],u=o?o.params:{};o&&o.pathname;let s=o?o.pathnameBase:"/";o&&o.route;let a=dc(),l;if(t){var c;let m=typeof t=="string"?bo(t):t;s==="/"||(c=m.pathname)!=null&&c.startsWith(s)||De(!1),l=m}else l=a;let f=l.pathname||"/",h=s==="/"?f:f.slice(s.length)||"/",d=cb(e,{pathname:h}),v=Xb(d&&d.map(m=>Object.assign({},m,{params:Object.assign({},u,m.params),pathname:fr([s,n.encodeLocation?n.encodeLocation(m.pathname).pathname:m.pathname]),pathnameBase:m.pathnameBase==="/"?s:fr([s,n.encodeLocation?n.encodeLocation(m.pathnameBase).pathname:m.pathnameBase])})),i,r||void 0);return t&&v?D.createElement(hc.Provider,{value:{location:Kh({pathname:"/",search:"",hash:"",state:null,key:"default"},l),navigationType:nr.Pop}},v):v}function Qb(){let e=tk(),t=Pb(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},t),n?D.createElement("pre",{style:i},n):null,o)}class Gb extends D.Component{constructor(t){super(t),this.state={location:t.location,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location?{error:t.error,location:t.location}:{error:t.error||n.error,location:n.location}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error?D.createElement(hi.Provider,{value:this.props.routeContext},D.createElement(kw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Yb(e){let{routeContext:t,match:n,children:r}=e,i=D.useContext(Cw);return i&&i.static&&i.staticContext&&n.route.errorElement&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),D.createElement(hi.Provider,{value:t},r)}function Xb(e,t,n){if(t===void 0&&(t=[]),e==null)if(n!=null&&n.errors)e=n.matches;else return null;let r=e,i=n==null?void 0:n.errors;if(i!=null){let o=r.findIndex(u=>u.route.id&&(i==null?void 0:i[u.route.id]));o>=0||De(!1),r=r.slice(0,Math.min(r.length,o+1))}return r.reduceRight((o,u,s)=>{let a=u.route.id?i==null?void 0:i[u.route.id]:null,l=n?u.route.errorElement||D.createElement(Qb,null):null,c=t.concat(r.slice(0,s+1)),f=()=>D.createElement(Yb,{match:u,routeContext:{outlet:o,matches:c}},a?l:u.route.element!==void 0?u.route.element:o);return n&&(u.route.errorElement||s===0)?D.createElement(Gb,{location:n.location,component:l,error:a,children:f(),routeContext:{outlet:null,matches:c}}):f()},null)}var cm;(function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator"})(cm||(cm={}));var Qa;(function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"})(Qa||(Qa={}));function Jb(e){let t=D.useContext(bw);return t||De(!1),t}function Zb(e){let t=D.useContext(hi);return t||De(!1),t}function ek(e){let t=Zb(),n=t.matches[t.matches.length-1];return n.route.id||De(!1),n.route.id}function tk(){var e;let t=D.useContext(kw),n=Jb(Qa.UseRouteError),r=ek(Qa.UseRouteError);return t||((e=n.errors)==null?void 0:e[r])}function nk(e){return Wb(e.context)}function Qt(e){De(!1)}function rk(e){let{basename:t="/",children:n=null,location:r,navigationType:i=nr.Pop,navigator:o,static:u=!1}=e;ss()&&De(!1);let s=t.replace(/^\/*/,"/"),a=D.useMemo(()=>({basename:s,navigator:o,static:u}),[s,o,u]);typeof r=="string"&&(r=bo(r));let{pathname:l="/",search:c="",hash:f="",state:h=null,key:d="default"}=r,v=D.useMemo(()=>{let m=_w(l,s);return m==null?null:{pathname:m,search:c,hash:f,state:h,key:d}},[s,l,c,f,h,d]);return v==null?null:D.createElement(fc.Provider,{value:a},D.createElement(hc.Provider,{children:n,value:{location:v,navigationType:i}}))}function ik(e){let{children:t,location:n}=e,r=D.useContext(Cw),i=r&&!t?r.router.routes:Wh(t);return Hb(i,n)}var fm;(function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"})(fm||(fm={}));new Promise(()=>{});function Wh(e,t){t===void 0&&(t=[]);let n=[];return D.Children.forEach(e,(r,i)=>{if(!D.isValidElement(r))return;if(r.type===D.Fragment){n.push.apply(n,Wh(r.props.children,t));return}r.type!==Qt&&De(!1),!r.props.index||!r.props.children||De(!1);let o=[...t,i],u={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,hasErrorBoundary:r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle};r.props.children&&(u.children=Wh(r.props.children,o)),n.push(u)}),n}/**
 * React Router DOM v6.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hh(){return Hh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hh.apply(this,arguments)}function ok(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function uk(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function sk(e,t){return e.button===0&&(!t||t==="_self")&&!uk(e)}const ak=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function lk(e){let{basename:t,children:n,window:r}=e,i=D.useRef();i.current==null&&(i.current=sb({window:r,v5Compat:!0}));let o=i.current,[u,s]=D.useState({action:o.action,location:o.location});return D.useLayoutEffect(()=>o.listen(s),[o]),D.createElement(rk,{basename:t,children:n,location:u.location,navigationType:u.action,navigator:o})}const ck=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Sn=D.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:o,replace:u,state:s,target:a,to:l,preventScrollReset:c}=t,f=ok(t,ak),h,d=!1;if(ck&&typeof l=="string"&&/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i.test(l)){h=l;let y=new URL(window.location.href),p=l.startsWith("//")?new URL(y.protocol+l):new URL(l);p.origin===y.origin?l=p.pathname+p.search+p.hash:d=!0}let v=zb(l,{relative:i}),m=fk(l,{replace:u,state:s,target:a,preventScrollReset:c,relative:i});function w(y){r&&r(y),y.defaultPrevented||m(y)}return D.createElement("a",Hh({},f,{href:h||v,onClick:d||o?r:w,ref:n,target:a}))});var hm;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(hm||(hm={}));var dm;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(dm||(dm={}));function fk(e,t){let{target:n,replace:r,state:i,preventScrollReset:o,relative:u}=t===void 0?{}:t,s=qb(),a=dc(),l=Nw(e,{relative:u});return D.useCallback(c=>{if(sk(c,n)){c.preventDefault();let f=r!==void 0?r:Ha(a)===Ha(l);s(e,{replace:f,state:i,preventScrollReset:o,relative:u})}},[a,s,l,r,i,n,e,o,u])}const hk="_container_123yb_1",dk={container:hk},pk="_navContainer_7wdt4_1",vk="_mainRoom_7wdt4_8",yk="_leftRoom_7wdt4_15",mk="_rightRoom_7wdt4_21",gk="_room_7wdt4_26",ln={navContainer:pk,mainRoom:vk,leftRoom:yk,rightRoom:mk,room:gk};function wk(){return et("div",{className:ln.navContainer,children:[et("div",{className:ln.mainRoom,children:[j(Sn,{to:"main",title:"     ",children:"  "}),et("div",{className:ln.leftRoom,children:[j(Sn,{to:"main-left",title:"  101  102",children:"  "}),j("div",{className:ln.room,children:j(Sn,{to:"main-101",title:"  101",children:"  101 "})}),j("div",{className:ln.room,children:j(Sn,{to:"main-102",title:"  102",children:"  102 "})})]}),et("div",{className:ln.rightRoom,children:[j(Sn,{to:"main-right",children:"  "}),j("div",{className:ln.room,children:j(Sn,{to:"main-head",children:"   "})})]})]}),et("div",{className:ln.mainRoom,children:[j(Sn,{to:"production",children:"  "}),j("div",{className:ln.leftRoom,children:j(Sn,{to:"production-1",children:"     "})}),j("div",{className:ln.rightRoom,children:j(Sn,{to:"production-2",children:" "})})]})]})}function Sk(){return et("div",{className:dk.container,children:[j(wk,{}),j(nk,{})]})}function Zt(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function wr(e){return!!e&&!!e[le]}function $n(e){var t;return!!e&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===xk}(e)||Array.isArray(e)||!!e[Sm]||!!(!((t=e.constructor)===null||t===void 0)&&t[Sm])||Np(e)||xp(e))}function ni(e,t,n){n===void 0&&(n=!1),ko(e)===0?(n?Object.keys:Qi)(e).forEach(function(r){n&&typeof r=="symbol"||t(r,e[r],e)}):e.forEach(function(r,i){return t(i,r,e)})}function ko(e){var t=e[le];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:Np(e)?2:xp(e)?3:0}function Hi(e,t){return ko(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Ek(e,t){return ko(e)===2?e.get(t):e[t]}function xw(e,t,n){var r=ko(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function Pw(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function Np(e){return kk&&e instanceof Map}function xp(e){return Nk&&e instanceof Set}function $r(e){return e.o||e.t}function Pp(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Aw(e);delete t[le];for(var n=Qi(t),r=0;r<n.length;r++){var i=n[r],o=t[i];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function Dp(e,t){return t===void 0&&(t=!1),Ap(e)||wr(e)||!$n(e)||(ko(e)>1&&(e.set=e.add=e.clear=e.delete=_k),Object.freeze(e),t&&ni(e,function(n,r){return Dp(r,!0)},!0)),e}function _k(){Zt(2)}function Ap(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function yn(e){var t=Xh[e];return t||Zt(18,e),t}function Ik(e,t){Xh[e]||(Xh[e]=t)}function Qh(){return Lu}function Tf(e,t){t&&(yn("Patches"),e.u=[],e.s=[],e.v=t)}function Ga(e){Gh(e),e.p.forEach(Tk),e.p=null}function Gh(e){e===Lu&&(Lu=e.l)}function pm(e){return Lu={p:[],l:Lu,h:e,m:!0,_:0}}function Tk(e){var t=e[le];t.i===0||t.i===1?t.j():t.O=!0}function Cf(e,t){t._=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.g||yn("ES5").S(t,e,r),r?(n[le].P&&(Ga(t),Zt(4)),$n(e)&&(e=Ya(t,e),t.l||Xa(t,e)),t.u&&yn("Patches").M(n[le].t,e,t.u,t.s)):e=Ya(t,n,[]),Ga(t),t.u&&t.v(t.u,t.s),e!==Dw?e:void 0}function Ya(e,t,n){if(Ap(t))return t;var r=t[le];if(!r)return ni(t,function(s,a){return vm(e,r,t,s,a,n)},!0),t;if(r.A!==e)return t;if(!r.P)return Xa(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=Pp(r.k):r.o,o=i,u=!1;r.i===3&&(o=new Set(i),i.clear(),u=!0),ni(o,function(s,a){return vm(e,r,i,s,a,n,u)}),Xa(e,i,!1),n&&e.u&&yn("Patches").N(r,n,e.u,e.s)}return r.o}function vm(e,t,n,r,i,o,u){if(wr(i)){var s=Ya(e,i,o&&t&&t.i!==3&&!Hi(t.R,r)?o.concat(r):void 0);if(xw(n,r,s),!wr(s))return;e.m=!1}else u&&n.add(i);if($n(i)&&!Ap(i)){if(!e.h.D&&e._<1)return;Ya(e,i),t&&t.A.l||Xa(e,i)}}function Xa(e,t,n){n===void 0&&(n=!1),!e.l&&e.h.D&&e.m&&Dp(t,n)}function bf(e,t){var n=e[le];return(n?$r(n):e)[t]}function ym(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function Gn(e){e.P||(e.P=!0,e.l&&Gn(e.l))}function kf(e){e.o||(e.o=Pp(e.t))}function Yh(e,t,n){var r=Np(t)?yn("MapSet").F(t,n):xp(t)?yn("MapSet").T(t,n):e.g?function(i,o){var u=Array.isArray(i),s={i:u?1:0,A:o?o.A:Qh(),P:!1,I:!1,R:{},l:o,t:i,k:null,o:null,j:null,C:!1},a=s,l=$u;u&&(a=[s],l=Zo);var c=Proxy.revocable(a,l),f=c.revoke,h=c.proxy;return s.k=h,s.j=f,h}(t,n):yn("ES5").J(t,n);return(n?n.A:Qh()).p.push(r),r}function Ck(e){return wr(e)||Zt(22,e),function t(n){if(!$n(n))return n;var r,i=n[le],o=ko(n);if(i){if(!i.P&&(i.i<4||!yn("ES5").K(i)))return i.t;i.I=!0,r=mm(n,o),i.I=!1}else r=mm(n,o);return ni(r,function(u,s){i&&Ek(i.t,u)===s||xw(r,u,t(s))}),o===3?new Set(r):r}(e)}function mm(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return Pp(e)}function bk(){function e(o,u){var s=i[o];return s?s.enumerable=u:i[o]=s={configurable:!0,enumerable:u,get:function(){var a=this[le];return $u.get(a,o)},set:function(a){var l=this[le];$u.set(l,o,a)}},s}function t(o){for(var u=o.length-1;u>=0;u--){var s=o[u][le];if(!s.P)switch(s.i){case 5:r(s)&&Gn(s);break;case 4:n(s)&&Gn(s)}}}function n(o){for(var u=o.t,s=o.k,a=Qi(s),l=a.length-1;l>=0;l--){var c=a[l];if(c!==le){var f=u[c];if(f===void 0&&!Hi(u,c))return!0;var h=s[c],d=h&&h[le];if(d?d.t!==f:!Pw(h,f))return!0}}var v=!!u[le];return a.length!==Qi(u).length+(v?0:1)}function r(o){var u=o.k;if(u.length!==o.t.length)return!0;var s=Object.getOwnPropertyDescriptor(u,u.length-1);if(s&&!s.get)return!0;for(var a=0;a<u.length;a++)if(!u.hasOwnProperty(a))return!0;return!1}var i={};Ik("ES5",{J:function(o,u){var s=Array.isArray(o),a=function(c,f){if(c){for(var h=Array(f.length),d=0;d<f.length;d++)Object.defineProperty(h,""+d,e(d,!0));return h}var v=Aw(f);delete v[le];for(var m=Qi(v),w=0;w<m.length;w++){var y=m[w];v[y]=e(y,c||!!v[y].enumerable)}return Object.create(Object.getPrototypeOf(f),v)}(s,o),l={i:s?5:4,A:u?u.A:Qh(),P:!1,I:!1,R:{},l:u,t:o,k:a,o:null,O:!1,C:!1};return Object.defineProperty(a,le,{value:l,writable:!0}),a},S:function(o,u,s){s?wr(u)&&u[le].A===o&&t(o.p):(o.u&&function a(l){if(l&&typeof l=="object"){var c=l[le];if(c){var f=c.t,h=c.k,d=c.R,v=c.i;if(v===4)ni(h,function(g){g!==le&&(f[g]!==void 0||Hi(f,g)?d[g]||a(h[g]):(d[g]=!0,Gn(c)))}),ni(f,function(g){h[g]!==void 0||Hi(h,g)||(d[g]=!1,Gn(c))});else if(v===5){if(r(c)&&(Gn(c),d.length=!0),h.length<f.length)for(var m=h.length;m<f.length;m++)d[m]=!1;else for(var w=f.length;w<h.length;w++)d[w]=!0;for(var y=Math.min(h.length,f.length),p=0;p<y;p++)h.hasOwnProperty(p)||(d[p]=!0),d[p]===void 0&&a(h[p])}}}}(o.p[0]),t(o.p))},K:function(o){return o.i===4?n(o):r(o)}})}var gm,Lu,Rp=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",kk=typeof Map<"u",Nk=typeof Set<"u",wm=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",Dw=Rp?Symbol.for("immer-nothing"):((gm={})["immer-nothing"]=!0,gm),Sm=Rp?Symbol.for("immer-draftable"):"__$immer_draftable",le=Rp?Symbol.for("immer-state"):"__$immer_state",xk=""+Object.prototype.constructor,Qi=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Aw=Object.getOwnPropertyDescriptors||function(e){var t={};return Qi(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},Xh={},$u={get:function(e,t){if(t===le)return e;var n=$r(e);if(!Hi(n,t))return function(i,o,u){var s,a=ym(o,u);return a?"value"in a?a.value:(s=a.get)===null||s===void 0?void 0:s.call(i.k):void 0}(e,n,t);var r=n[t];return e.I||!$n(r)?r:r===bf(e.t,t)?(kf(e),e.o[t]=Yh(e.A.h,r,e)):r},has:function(e,t){return t in $r(e)},ownKeys:function(e){return Reflect.ownKeys($r(e))},set:function(e,t,n){var r=ym($r(e),t);if(r!=null&&r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=bf($r(e),t),o=i==null?void 0:i[le];if(o&&o.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(Pw(n,i)&&(n!==void 0||Hi(e.t,t)))return!0;kf(e),Gn(e)}return e.o[t]===n&&(n!==void 0||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return bf(e.t,t)!==void 0||t in e.t?(e.R[t]=!1,kf(e),Gn(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=$r(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){Zt(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){Zt(12)}},Zo={};ni($u,function(e,t){Zo[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),Zo.deleteProperty=function(e,t){return Zo.set.call(this,e,t,void 0)},Zo.set=function(e,t,n){return $u.set.call(this,e[0],t,n,e[0])};var Pk=function(){function e(n){var r=this;this.g=wm,this.D=!0,this.produce=function(i,o,u){if(typeof i=="function"&&typeof o!="function"){var s=o;o=i;var a=r;return function(m){var w=this;m===void 0&&(m=s);for(var y=arguments.length,p=Array(y>1?y-1:0),g=1;g<y;g++)p[g-1]=arguments[g];return a.produce(m,function(S){var _;return(_=o).call.apply(_,[w,S].concat(p))})}}var l;if(typeof o!="function"&&Zt(6),u!==void 0&&typeof u!="function"&&Zt(7),$n(i)){var c=pm(r),f=Yh(r,i,void 0),h=!0;try{l=o(f),h=!1}finally{h?Ga(c):Gh(c)}return typeof Promise<"u"&&l instanceof Promise?l.then(function(m){return Tf(c,u),Cf(m,c)},function(m){throw Ga(c),m}):(Tf(c,u),Cf(l,c))}if(!i||typeof i!="object"){if((l=o(i))===void 0&&(l=i),l===Dw&&(l=void 0),r.D&&Dp(l,!0),u){var d=[],v=[];yn("Patches").M(i,l,d,v),u(d,v)}return l}Zt(21,i)},this.produceWithPatches=function(i,o){if(typeof i=="function")return function(l){for(var c=arguments.length,f=Array(c>1?c-1:0),h=1;h<c;h++)f[h-1]=arguments[h];return r.produceWithPatches(l,function(d){return i.apply(void 0,[d].concat(f))})};var u,s,a=r.produce(i,o,function(l,c){u=l,s=c});return typeof Promise<"u"&&a instanceof Promise?a.then(function(l){return[l,u,s]}):[a,u,s]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){$n(n)||Zt(8),wr(n)&&(n=Ck(n));var r=pm(this),i=Yh(this,n,void 0);return i[le].C=!0,Gh(r),i},t.finishDraft=function(n,r){var i=n&&n[le],o=i.A;return Tf(o,r),Cf(void 0,o)},t.setAutoFreeze=function(n){this.D=n},t.setUseProxies=function(n){n&&!wm&&Zt(20),this.g=n},t.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var o=r[i];if(o.path.length===0&&o.op==="replace"){n=o.value;break}}i>-1&&(r=r.slice(i+1));var u=yn("Patches").$;return wr(n)?u(n,r):this.produce(n,function(s){return u(s,r)})},e}(),Lt=new Pk,Rw=Lt.produce;Lt.produceWithPatches.bind(Lt);Lt.setAutoFreeze.bind(Lt);Lt.setUseProxies.bind(Lt);Lt.applyPatches.bind(Lt);Lt.createDraft.bind(Lt);Lt.finishDraft.bind(Lt);function Mu(e){return Mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mu(e)}function Dk(e,t){if(Mu(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Mu(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ak(e){var t=Dk(e,"string");return Mu(t)==="symbol"?t:String(t)}function Rk(e,t,n){return t=Ak(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Em(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _m(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Em(Object(n),!0).forEach(function(r){Rk(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Em(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ye(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var Im=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Nf=function(){return Math.random().toString(36).substring(7).split("").join(".")},Ja={INIT:"@@redux/INIT"+Nf(),REPLACE:"@@redux/REPLACE"+Nf(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Nf()}};function Ok(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Ow(e,t,n){var r;if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Ye(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Ye(1));return n(Ow)(e,t)}if(typeof e!="function")throw new Error(Ye(2));var i=e,o=t,u=[],s=u,a=!1;function l(){s===u&&(s=u.slice())}function c(){if(a)throw new Error(Ye(3));return o}function f(m){if(typeof m!="function")throw new Error(Ye(4));if(a)throw new Error(Ye(5));var w=!0;return l(),s.push(m),function(){if(w){if(a)throw new Error(Ye(6));w=!1,l();var p=s.indexOf(m);s.splice(p,1),u=null}}}function h(m){if(!Ok(m))throw new Error(Ye(7));if(typeof m.type>"u")throw new Error(Ye(8));if(a)throw new Error(Ye(9));try{a=!0,o=i(o,m)}finally{a=!1}for(var w=u=s,y=0;y<w.length;y++){var p=w[y];p()}return m}function d(m){if(typeof m!="function")throw new Error(Ye(10));i=m,h({type:Ja.REPLACE})}function v(){var m,w=f;return m={subscribe:function(p){if(typeof p!="object"||p===null)throw new Error(Ye(11));function g(){p.next&&p.next(c())}g();var S=w(g);return{unsubscribe:S}}},m[Im]=function(){return this},m}return h({type:Ja.INIT}),r={dispatch:h,subscribe:f,getState:c,replaceReducer:d},r[Im]=v,r}function Lk(e){Object.keys(e).forEach(function(t){var n=e[t],r=n(void 0,{type:Ja.INIT});if(typeof r>"u")throw new Error(Ye(12));if(typeof n(void 0,{type:Ja.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ye(13))})}function $k(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];typeof e[i]=="function"&&(n[i]=e[i])}var o=Object.keys(n),u;try{Lk(n)}catch(s){u=s}return function(a,l){if(a===void 0&&(a={}),u)throw u;for(var c=!1,f={},h=0;h<o.length;h++){var d=o[h],v=n[d],m=a[d],w=v(m,l);if(typeof w>"u")throw l&&l.type,new Error(Ye(14));f[d]=w,c=c||w!==m}return c=c||o.length!==Object.keys(a).length,c?f:a}}function Za(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length===0?function(r){return r}:t.length===1?t[0]:t.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function Mk(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),o=function(){throw new Error(Ye(15))},u={getState:i.getState,dispatch:function(){return o.apply(void 0,arguments)}},s=t.map(function(a){return a(u)});return o=Za.apply(void 0,s)(i.dispatch),_m(_m({},i),{},{dispatch:o})}}}function Lw(e){var t=function(r){var i=r.dispatch,o=r.getState;return function(u){return function(s){return typeof s=="function"?s(i,o,e):u(s)}}};return t}var $w=Lw();$w.withExtraArgument=Lw;const Tm=$w;var Fk=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),jk=globalThis&&globalThis.__generator||function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,u;return u={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function s(l){return function(c){return a([l,c])}}function a(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){n.label=l[1];break}if(l[0]===6&&n.label<o[1]){n.label=o[1],o=l;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(l);break}o[2]&&n.ops.pop(),n.trys.pop();continue}l=t.call(e,n)}catch(c){l=[6,c],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},el=globalThis&&globalThis.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},Uk=Object.defineProperty,Vk=Object.defineProperties,Bk=Object.getOwnPropertyDescriptors,Cm=Object.getOwnPropertySymbols,zk=Object.prototype.hasOwnProperty,qk=Object.prototype.propertyIsEnumerable,bm=function(e,t,n){return t in e?Uk(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},hr=function(e,t){for(var n in t||(t={}))zk.call(t,n)&&bm(e,n,t[n]);if(Cm)for(var r=0,i=Cm(t);r<i.length;r++){var n=i[r];qk.call(t,n)&&bm(e,n,t[n])}return e},xf=function(e,t){return Vk(e,Bk(t))},Kk=function(e,t,n){return new Promise(function(r,i){var o=function(a){try{s(n.next(a))}catch(l){i(l)}},u=function(a){try{s(n.throw(a))}catch(l){i(l)}},s=function(a){return a.done?r(a.value):Promise.resolve(a.value).then(o,u)};s((n=n.apply(e,t)).next())})},Wk=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Za:Za.apply(null,arguments)};function Hk(e){if(typeof e!="object"||e===null)return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(var n=t;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return t===n}var Qk=function(e){Fk(t,e);function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.prototype.concat.apply(this,n)},t.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(t.bind.apply(t,el([void 0],n[0].concat(this)))):new(t.bind.apply(t,el([void 0],n.concat(this))))},t}(Array);function Jh(e){return $n(e)?Rw(e,function(){}):e}function Gk(e){return typeof e=="boolean"}function Yk(){return function(t){return Xk(t)}}function Xk(e){e===void 0&&(e={});var t=e.thunk,n=t===void 0?!0:t;e.immutableCheck,e.serializableCheck;var r=new Qk;return n&&(Gk(n)?r.push(Tm):r.push(Tm.withExtraArgument(n.extraArgument))),r}var Jk=!0;function Zk(e){var t=Yk(),n=e||{},r=n.reducer,i=r===void 0?void 0:r,o=n.middleware,u=o===void 0?t():o,s=n.devTools,a=s===void 0?!0:s,l=n.preloadedState,c=l===void 0?void 0:l,f=n.enhancers,h=f===void 0?void 0:f,d;if(typeof i=="function")d=i;else if(Hk(i))d=$k(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var v=u;typeof v=="function"&&(v=v(t));var m=Mk.apply(void 0,v),w=Za;a&&(w=Wk(hr({trace:!Jk},typeof a=="object"&&a)));var y=[m];Array.isArray(h)?y=el([m],h):typeof h=="function"&&(y=h(y));var p=w.apply(void 0,y);return Ow(d,c,p)}function dr(e,t){function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(t){var o=t.apply(void 0,r);if(!o)throw new Error("prepareAction did not return an object");return hr(hr({type:e,payload:o.payload},"meta"in o&&{meta:o.meta}),"error"in o&&{error:o.error})}return{type:e,payload:r[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(r){return r.type===e},n}function Mw(e){var t={},n=[],r,i={addCase:function(o,u){var s=typeof o=="string"?o:o.type;if(s in t)throw new Error("addCase cannot be called with two reducers for the same action type");return t[s]=u,i},addMatcher:function(o,u){return n.push({matcher:o,reducer:u}),i},addDefaultCase:function(o){return r=o,i}};return e(i),[t,n,r]}function eN(e){return typeof e=="function"}function tN(e,t,n,r){n===void 0&&(n=[]);var i=typeof t=="function"?Mw(t):[t,n,r],o=i[0],u=i[1],s=i[2],a;if(eN(e))a=function(){return Jh(e())};else{var l=Jh(e);a=function(){return l}}function c(f,h){f===void 0&&(f=a());var d=el([o[h.type]],u.filter(function(v){var m=v.matcher;return m(h)}).map(function(v){var m=v.reducer;return m}));return d.filter(function(v){return!!v}).length===0&&(d=[s]),d.reduce(function(v,m){if(m)if(wr(v)){var w=v,y=m(w,h);return y===void 0?v:y}else{if($n(v))return Rw(v,function(p){return m(p,h)});var y=m(v,h);if(y===void 0){if(v===null)return v;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}return v},f)}return c.getInitialState=a,c}function nN(e,t){return e+"/"+t}function rN(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");typeof process<"u";var n=typeof e.initialState=="function"?e.initialState:Jh(e.initialState),r=e.reducers||{},i=Object.keys(r),o={},u={},s={};i.forEach(function(c){var f=r[c],h=nN(t,c),d,v;"reducer"in f?(d=f.reducer,v=f.prepare):d=f,o[c]=d,u[h]=d,s[c]=v?dr(h,v):dr(h)});function a(){var c=typeof e.extraReducers=="function"?Mw(e.extraReducers):[e.extraReducers],f=c[0],h=f===void 0?{}:f,d=c[1],v=d===void 0?[]:d,m=c[2],w=m===void 0?void 0:m,y=hr(hr({},h),u);return tN(n,function(p){for(var g in y)p.addCase(g,y[g]);for(var S=0,_=v;S<_.length;S++){var b=_[S];p.addMatcher(b.matcher,b.reducer)}w&&p.addDefaultCase(w)})}var l;return{name:t,reducer:function(c,f){return l||(l=a()),l(c,f)},actions:s,caseReducers:o,getInitialState:function(){return l||(l=a()),l.getInitialState()}}}var iN="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",oN=function(e){e===void 0&&(e=21);for(var t="",n=e;n--;)t+=iN[Math.random()*64|0];return t},uN=["name","message","stack","code"],Pf=function(){function e(t,n){this.payload=t,this.meta=n}return e}(),km=function(){function e(t,n){this.payload=t,this.meta=n}return e}(),sN=function(e){if(typeof e=="object"&&e!==null){for(var t={},n=0,r=uN;n<r.length;n++){var i=r[n];typeof e[i]=="string"&&(t[i]=e[i])}return t}return{message:String(e)}},as=function(){function e(t,n,r){var i=dr(t+"/fulfilled",function(l,c,f,h){return{payload:l,meta:xf(hr({},h||{}),{arg:f,requestId:c,requestStatus:"fulfilled"})}}),o=dr(t+"/pending",function(l,c,f){return{payload:void 0,meta:xf(hr({},f||{}),{arg:c,requestId:l,requestStatus:"pending"})}}),u=dr(t+"/rejected",function(l,c,f,h,d){return{payload:h,error:(r&&r.serializeError||sN)(l||"Rejected"),meta:xf(hr({},d||{}),{arg:f,requestId:c,rejectedWithValue:!!h,requestStatus:"rejected",aborted:(l==null?void 0:l.name)==="AbortError",condition:(l==null?void 0:l.name)==="ConditionError"})}}),s=typeof AbortController<"u"?AbortController:function(){function l(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return l.prototype.abort=function(){},l}();function a(l){return function(c,f,h){var d=r!=null&&r.idGenerator?r.idGenerator(l):oN(),v=new s,m;function w(p){m=p,v.abort()}var y=function(){return Kk(this,null,function(){var p,g,S,_,b,P,$;return jk(this,function(G){switch(G.label){case 0:return G.trys.push([0,4,,5]),_=(p=r==null?void 0:r.condition)==null?void 0:p.call(r,l,{getState:f,extra:h}),lN(_)?[4,_]:[3,2];case 1:_=G.sent(),G.label=2;case 2:if(_===!1||v.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return b=new Promise(function(V,Ee){return v.signal.addEventListener("abort",function(){return Ee({name:"AbortError",message:m||"Aborted"})})}),c(o(d,l,(g=r==null?void 0:r.getPendingMeta)==null?void 0:g.call(r,{requestId:d,arg:l},{getState:f,extra:h}))),[4,Promise.race([b,Promise.resolve(n(l,{dispatch:c,getState:f,extra:h,requestId:d,signal:v.signal,abort:w,rejectWithValue:function(V,Ee){return new Pf(V,Ee)},fulfillWithValue:function(V,Ee){return new km(V,Ee)}})).then(function(V){if(V instanceof Pf)throw V;return V instanceof km?i(V.payload,d,l,V.meta):i(V,d,l)})])];case 3:return S=G.sent(),[3,5];case 4:return P=G.sent(),S=P instanceof Pf?u(null,d,l,P.payload,P.meta):u(P,d,l),[3,5];case 5:return $=r&&!r.dispatchConditionRejection&&u.match(S)&&S.meta.condition,$||c(S),[2,S]}})})}();return Object.assign(y,{abort:w,requestId:d,arg:l,unwrap:function(){return y.then(aN)}})}}return Object.assign(a,{pending:o,rejected:u,fulfilled:i,typePrefix:t})}return e.withTypes=function(){return e},e}();function aN(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function lN(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var Op="listenerMiddleware";dr(Op+"/add");dr(Op+"/removeAll");dr(Op+"/remove");var Nm;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);bk();var Zh=function(e,t){return Zh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Zh(e,t)};function U(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Zh(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Fu=function(){return Fu=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Fu.apply(this,arguments)};function T(e,t,n,r){function i(o){return o instanceof n?o:new n(function(u){u(o)})}return new(n||(n=Promise))(function(o,u){function s(c){try{l(r.next(c))}catch(f){u(f)}}function a(c){try{l(r.throw(c))}catch(f){u(f)}}function l(c){c.done?o(c.value):i(c.value).then(s,a)}l((r=r.apply(e,t||[])).next())})}function I(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,u;return u={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function s(l){return function(c){return a([l,c])}}function a(l){if(r)throw new TypeError("Generator is already executing.");for(;u&&(u=0,l[0]&&(n=0)),n;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){n.label=l[1];break}if(l[0]===6&&n.label<o[1]){n.label=o[1],o=l;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(l);break}o[2]&&n.ops.pop(),n.trys.pop();continue}l=t.call(e,n)}catch(c){l=[6,c],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function Df(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Qs(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],u;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){u={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(u)throw u.error}}return o}function ge(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fw=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},cN=function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){var o=e[n++],u=e[n++],s=e[n++],a=((i&7)<<18|(o&63)<<12|(u&63)<<6|s&63)-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(a&1023))}else{var o=e[n++],u=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|u&63)}}return t.join("")},fN={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],u=i+1<e.length,s=u?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,c=o>>2,f=(o&3)<<4|s>>4,h=(s&15)<<2|l>>6,d=l&63;a||(d=64,u||(h=64)),r.push(n[c],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Fw(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):cN(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],u=i<e.length,s=u?n[e.charAt(i)]:0;++i;var a=i<e.length,l=a?n[e.charAt(i)]:64;++i;var c=i<e.length,f=c?n[e.charAt(i)]:64;if(++i,o==null||s==null||l==null||f==null)throw Error();var h=o<<2|s>>4;if(r.push(h),l!==64){var d=s<<4&240|l>>2;if(r.push(d),f!==64){var v=l<<6&192|f;r.push(v)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},hN=function(e){var t=Fw(e);return fN.encodeByteArray(t,!0)},xm=function(e){return hN(e).replace(/\./g,"")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dN(e){return ju(void 0,e)}function ju(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:var n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(var r in t)!t.hasOwnProperty(r)||!pN(r)||(e[r]=ju(e[r],t[r]));return e}function pN(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vN=function(){function e(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(n,r){t.resolve=n,t.reject=r})}return e.prototype.wrapCallback=function(t){var n=this;return function(r,i){r?n.reject(r):n.resolve(i),typeof t=="function"&&(n.promise.catch(function(){}),t.length===1?t(r):t(r,i))}},e}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yN(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var u=Fu({iss:"https://securetoken.google.com/"+r,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e),s="";return[xm(JSON.stringify(n)),xm(JSON.stringify(u)),s].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ri(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ri())}function jw(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function gN(){return typeof self=="object"&&self.self===self}function wN(){var e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function SN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function EN(){return ri().indexOf("Electron/")>=0}function _N(){var e=ri();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function IN(){return ri().indexOf("MSAppHost/")>=0}function TN(){return!jw()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var CN="FirebaseError",bN=function(e){U(t,e);function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name=CN,Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,Lp.prototype.create),o}return t}(Error),Lp=function(){function e(t,n,r){this.service=t,this.serviceName=n,this.errors=r}return e.prototype.create=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=n[0]||{},o=this.service+"/"+t,u=this.errors[t],s=u?kN(u,i):"Error",a=this.serviceName+": "+s+" ("+o+").",l=new bN(o,a,i);return l},e}();function kN(e,t){return e.replace(NN,function(n,r){var i=t[r];return i!=null?String(i):"<"+r+"?>"})}var NN=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pm(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function xN(e,t){var n=new PN(e,t);return n.subscribe.bind(n)}var PN=function(){function e(t,n){var r=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){t(r)}).catch(function(i){r.error(i)})}return e.prototype.next=function(t){this.forEachObserver(function(n){n.next(t)})},e.prototype.error=function(t){this.forEachObserver(function(n){n.error(t)}),this.close(t)},e.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},e.prototype.subscribe=function(t,n,r){var i=this,o;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");DN(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:r},o.next===void 0&&(o.next=Af),o.error===void 0&&(o.error=Af),o.complete===void 0&&(o.complete=Af);var u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?o.error(i.finalError):o.complete()}catch{}}),this.observers.push(o),u},e.prototype.unsubscribeOne=function(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},e.prototype.forEachObserver=function(t){if(!this.finalized)for(var n=0;n<this.observers.length;n++)this.sendOne(n,t)},e.prototype.sendOne=function(t,n){var r=this;this.task.then(function(){if(r.observers!==void 0&&r.observers[t]!==void 0)try{n(r.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})},e.prototype.close=function(t){var n=this;this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(function(){n.observers=void 0,n.onNoObservers=void 0}))},e}();function DN(e,t){if(typeof e!="object"||e===null)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&typeof e[i]=="function")return!0}return!1}function Af(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function be(e){return e&&e._delegate?e._delegate:e}var pc=function(){function e(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},e.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},e.prototype.setServiceProps=function(t){return this.serviceProps=t,this},e.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var AN=function(){function e(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(t){var n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){var r=new vN;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{var i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise},e.prototype.getImmediate=function(t){var n,r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error("Service "+this.name+" is not available")}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(t){var n,r;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,!!this.shouldAutoInitialize()){if(ON(t))try{this.getOrInitializeService({instanceIdentifier:Mr})}catch{}try{for(var i=Df(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var u=Qs(o.value,2),s=u[0],a=u[1],l=this.normalizeInstanceIdentifier(s);try{var c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}catch(f){n={error:f}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}},e.prototype.clearInstance=function(t){t===void 0&&(t=Mr),this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)},e.prototype.delete=function(){return T(this,void 0,void 0,function(){var t;return I(this,function(n){switch(n.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(ge(ge([],Qs(t.filter(function(r){return"INTERNAL"in r}).map(function(r){return r.INTERNAL.delete()}))),Qs(t.filter(function(r){return"_delete"in r}).map(function(r){return r._delete()}))))];case 1:return n.sent(),[2]}})})},e.prototype.isComponentSet=function(){return this.component!=null},e.prototype.isInitialized=function(t){return t===void 0&&(t=Mr),this.instances.has(t)},e.prototype.getOptions=function(t){return t===void 0&&(t=Mr),this.instancesOptions.get(t)||{}},e.prototype.initialize=function(t){var n,r;t===void 0&&(t={});var i=t.options,o=i===void 0?{}:i,u=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(u))throw Error(this.name+"("+u+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var s=this.getOrInitializeService({instanceIdentifier:u,options:o});try{for(var a=Df(this.instancesDeferred.entries()),l=a.next();!l.done;l=a.next()){var c=Qs(l.value,2),f=c[0],h=c[1],d=this.normalizeInstanceIdentifier(f);u===d&&h.resolve(s)}}catch(v){n={error:v}}finally{try{l&&!l.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return s},e.prototype.onInit=function(t,n){var r,i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(t),this.onInitCallbacks.set(i,o);var u=this.instances.get(i);return u&&t(u,i),function(){o.delete(t)}},e.prototype.invokeOnInitCallbacks=function(t,n){var r,i,o=this.onInitCallbacks.get(n);if(o)try{for(var u=Df(o),s=u.next();!s.done;s=u.next()){var a=s.value;try{a(t,n)}catch{}}}catch(l){r={error:l}}finally{try{s&&!s.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}},e.prototype.getOrInitializeService=function(t){var n=t.instanceIdentifier,r=t.options,i=r===void 0?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:RN(n),options:i}),this.instances.set(n,o),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch{}return o||null},e.prototype.normalizeInstanceIdentifier=function(t){return t===void 0&&(t=Mr),this.component?this.component.multipleInstances?t:Mr:t},e.prototype.shouldAutoInitialize=function(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"},e}();function RN(e){return e===Mr?void 0:e}function ON(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LN=function(){function e(t){this.name=t,this.providers=new Map}return e.prototype.addComponent=function(t){var n=this.getProvider(t.name);if(n.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);n.setComponent(t)},e.prototype.addOrOverwriteComponent=function(t){var n=this.getProvider(t.name);n.isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},e.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var n=new AN(t,this);return this.providers.set(t,n),n},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function Gt(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var o=arguments[t],u=0,s=o.length;u<s;u++,i++)r[i]=o[u];return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ar,$p=[],J;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(J||(J={}));var Uw={debug:J.DEBUG,verbose:J.VERBOSE,info:J.INFO,warn:J.WARN,error:J.ERROR,silent:J.SILENT},$N=J.INFO,MN=(Ar={},Ar[J.DEBUG]="log",Ar[J.VERBOSE]="log",Ar[J.INFO]="info",Ar[J.WARN]="warn",Ar[J.ERROR]="error",Ar),FN=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var i=new Date().toISOString(),o=MN[t];if(o)console[o].apply(console,Gt(["["+i+"]  "+e.name+":"],n));else throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}},Vw=function(){function e(t){this.name=t,this._logLevel=$N,this._logHandler=FN,this._userLogHandler=null,$p.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in J))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(t){this._logLevel=typeof t=="string"?Uw[t]:t},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Gt([this,J.DEBUG],t)),this._logHandler.apply(this,Gt([this,J.DEBUG],t))},e.prototype.log=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Gt([this,J.VERBOSE],t)),this._logHandler.apply(this,Gt([this,J.VERBOSE],t))},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Gt([this,J.INFO],t)),this._logHandler.apply(this,Gt([this,J.INFO],t))},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Gt([this,J.WARN],t)),this._logHandler.apply(this,Gt([this,J.WARN],t))},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Gt([this,J.ERROR],t)),this._logHandler.apply(this,Gt([this,J.ERROR],t))},e}();function jN(e){$p.forEach(function(t){t.setLogLevel(e)})}function UN(e,t){for(var n=function(u){var s=null;t&&t.level&&(s=Uw[t.level]),e===null?u.userLogHandler=null:u.userLogHandler=function(a,l){for(var c=[],f=2;f<arguments.length;f++)c[f-2]=arguments[f];var h=c.map(function(d){if(d==null)return null;if(typeof d=="string")return d;if(typeof d=="number"||typeof d=="boolean")return d.toString();if(d instanceof Error)return d.message;try{return JSON.stringify(d)}catch{return null}}).filter(function(d){return d}).join(" ");l>=(s??a.logLevel)&&e({level:J[l].toLowerCase(),message:h,args:c,type:a.name})}},r=0,i=$p;r<i.length;r++){var o=i[r];n(o)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vn,VN=(Vn={},Vn["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",Vn["bad-app-name"]="Illegal App name: '{$appName}",Vn["duplicate-app"]="Firebase App named '{$appName}' already exists",Vn["app-deleted"]="Firebase App named '{$appName}' already deleted",Vn["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",Vn["invalid-log-argument"]="First argument to `onLog` must be null or a function.",Vn),Ti=new Lp("app","Firebase",VN),Bw="@firebase/app",BN="0.6.30",zN="@firebase/analytics",qN="@firebase/app-check",KN="@firebase/auth",WN="@firebase/database",HN="@firebase/functions",QN="@firebase/installations",GN="@firebase/messaging",YN="@firebase/performance",XN="@firebase/remote-config",JN="@firebase/storage",ZN="@firebase/firestore",ex="firebase-wrapper";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ge,tl="[DEFAULT]",tx=(Ge={},Ge[Bw]="fire-core",Ge[zN]="fire-analytics",Ge[qN]="fire-app-check",Ge[KN]="fire-auth",Ge[WN]="fire-rtdb",Ge[HN]="fire-fn",Ge[QN]="fire-iid",Ge[GN]="fire-fcm",Ge[YN]="fire-perf",Ge[XN]="fire-rc",Ge[JN]="fire-gcs",Ge[ZN]="fire-fst",Ge["fire-js"]="fire-js",Ge[ex]="fire-js-all",Ge);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var io=new Vw("@firebase/app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var va=function(){function e(t,n,r){var i=this;this.firebase_=r,this.isDeleted_=!1,this.name_=n.name,this.automaticDataCollectionEnabled_=n.automaticDataCollectionEnabled||!1,this.options_=dN(t),this.container=new LN(n.name),this._addComponent(new pc("app",function(){return i},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(o){return i._addComponent(o)})}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var t=this;return new Promise(function(n){t.checkDestroyed_(),n()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(n){return n.delete()}))}).then(function(){t.isDeleted_=!0})},e.prototype._getService=function(t,n){var r;n===void 0&&(n=tl),this.checkDestroyed_();var i=this.container.getProvider(t);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})},e.prototype._removeServiceInstance=function(t,n){n===void 0&&(n=tl),this.container.getProvider(t).clearInstance(n)},e.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(n){io.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,n)}},e.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw Ti.create("app-deleted",{appName:this.name_})},e}();va.prototype.name&&va.prototype.options||va.prototype.delete||console.log("dc");var nx="8.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rx(e){var t={},n=new Map,r={__esModule:!0,initializeApp:u,app:o,registerVersion:l,setLogLevel:jN,onLog:c,apps:null,SDK_VERSION:nx,INTERNAL:{registerComponent:a,removeApp:i,components:n,useAsService:f}};r.default=r,Object.defineProperty(r,"apps",{get:s});function i(h){delete t[h]}function o(h){if(h=h||tl,!Pm(t,h))throw Ti.create("no-app",{appName:h});return t[h]}o.App=e;function u(h,d){if(d===void 0&&(d={}),typeof d!="object"||d===null){var v=d;d={name:v}}var m=d;m.name===void 0&&(m.name=tl);var w=m.name;if(typeof w!="string"||!w)throw Ti.create("bad-app-name",{appName:String(w)});if(Pm(t,w))throw Ti.create("duplicate-app",{appName:w});var y=new e(h,m,r);return t[w]=y,y}function s(){return Object.keys(t).map(function(h){return t[h]})}function a(h){var d=h.name;if(n.has(d))return io.debug("There were multiple attempts to register component "+d+"."),h.type==="PUBLIC"?r[d]:null;if(n.set(d,h),h.type==="PUBLIC"){var v=function(p){if(p===void 0&&(p=o()),typeof p[d]!="function")throw Ti.create("invalid-app-argument",{appName:d});return p[d]()};h.serviceProps!==void 0&&ju(v,h.serviceProps),r[d]=v,e.prototype[d]=function(){for(var p=[],g=0;g<arguments.length;g++)p[g]=arguments[g];var S=this._getService.bind(this,d);return S.apply(this,h.multipleInstances?p:[])}}for(var m=0,w=Object.keys(t);m<w.length;m++){var y=w[m];t[y]._addComponent(h)}return h.type==="PUBLIC"?r[d]:null}function l(h,d,v){var m,w=(m=tx[h])!==null&&m!==void 0?m:h;v&&(w+="-"+v);var y=w.match(/\s|\//),p=d.match(/\s|\//);if(y||p){var g=['Unable to register library "'+w+'" with version "'+d+'":'];y&&g.push('library name "'+w+'" contains illegal characters (whitespace or "/")'),y&&p&&g.push("and"),p&&g.push('version name "'+d+'" contains illegal characters (whitespace or "/")'),io.warn(g.join(" "));return}a(new pc(w+"-version",function(){return{library:w,version:d}},"VERSION"))}function c(h,d){if(h!==null&&typeof h!="function")throw Ti.create("invalid-log-argument");UN(h,d)}function f(h,d){if(d==="serverAuth")return null;var v=d;return v}return r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zw(){var e=rx(va);e.INTERNAL=Fu(Fu({},e.INTERNAL),{createFirebaseNamespace:zw,extendNamespace:t,createSubscribe:xN,ErrorFactory:Lp,deepExtend:ju});function t(n){ju(e,n)}return e}var Mp=zw();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ix=function(){function e(t){this.container=t}return e.prototype.getPlatformInfoString=function(){var t=this.container.getProviders();return t.map(function(n){if(ox(n)){var r=n.getImmediate();return r.library+"/"+r.version}else return null}).filter(function(n){return n}).join(" ")},e}();function ox(e){var t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ux(e,t){e.INTERNAL.registerComponent(new pc("platform-logger",function(n){return new ix(n)},"PRIVATE")),e.registerVersion(Bw,BN,t),e.registerVersion("fire-js","")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(gN()&&self.firebase!==void 0){io.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);var Dm=self.firebase.SDK_VERSION;Dm&&Dm.indexOf("LITE")>=0&&io.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}var sx=Mp.initializeApp;Mp.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return jw()&&io.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/@rollup/plugin-node-resolve
      `),sx.apply(void 0,e)};var No=Mp;ux(No);var ax="firebase",qw="8.10.1";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */No.registerVersion(ax,qw,"app");No.SDK_VERSION=qw;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ed=function(e,t){return ed=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},ed(e,t)};function lx(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");ed(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function Kw(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var cx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},O,Fp=Fp||{},z=cx||self;function nl(){}function td(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function ls(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function fx(e){return Object.prototype.hasOwnProperty.call(e,Rf)&&e[Rf]||(e[Rf]=++hx)}var Rf="closure_uid_"+(1e9*Math.random()>>>0),hx=0;function dx(e,t,n){return e.call.apply(e.bind,arguments)}function px(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function ze(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?ze=dx:ze=px,ze.apply(null,arguments)}function Gs(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function We(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(r,i,o){for(var u=Array(arguments.length-2),s=2;s<arguments.length;s++)u[s-2]=arguments[s];return t.prototype[i].apply(r,u)}}function Cr(){this.s=this.s,this.o=this.o}var vx=0;Cr.prototype.s=!1;Cr.prototype.na=function(){!this.s&&(this.s=!0,this.M(),vx!=0)&&fx(this)};Cr.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Ww=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Hw=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=typeof e=="string"?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function yx(e){e:{for(var t=sP,n=e.length,r=typeof e=="string"?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:typeof e=="string"?e.charAt(t):e[t]}function Am(e){return Array.prototype.concat.apply([],arguments)}function jp(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function rl(e){return/^[\s\xa0]*$/.test(e)}var Rm=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function at(e,t){return e.indexOf(t)!=-1}function Of(e,t){return e<t?-1:e>t?1:0}var lt;e:{var Om=z.navigator;if(Om){var Lm=Om.userAgent;if(Lm){lt=Lm;break e}}lt=""}function Up(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Qw(e){var t={};for(var n in e)t[n]=e[n];return t}var $m="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Gw(e,t){for(var n,r,i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(var o=0;o<$m.length;o++)n=$m[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Vp(e){return Vp[" "](e),e}Vp[" "]=nl;function mx(e){var t=Sx;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}var gx=at(lt,"Opera"),oo=at(lt,"Trident")||at(lt,"MSIE"),Yw=at(lt,"Edge"),nd=Yw||oo,Xw=at(lt,"Gecko")&&!(at(lt.toLowerCase(),"webkit")&&!at(lt,"Edge"))&&!(at(lt,"Trident")||at(lt,"MSIE"))&&!at(lt,"Edge"),wx=at(lt.toLowerCase(),"webkit")&&!at(lt,"Edge");function Jw(){var e=z.document;return e?e.documentMode:void 0}var il;e:{var Lf="",$f=function(){var e=lt;if(Xw)return/rv:([^\);]+)(\)|;)/.exec(e);if(Yw)return/Edge\/([\d\.]+)/.exec(e);if(oo)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(wx)return/WebKit\/(\S+)/.exec(e);if(gx)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if($f&&(Lf=$f?$f[1]:""),oo){var Mf=Jw();if(Mf!=null&&Mf>parseFloat(Lf)){il=String(Mf);break e}}il=Lf}var Sx={};function Ex(){return mx(function(){for(var e=0,t=Rm(String(il)).split("."),n=Rm("9").split("."),r=Math.max(t.length,n.length),i=0;e==0&&i<r;i++){var o=t[i]||"",u=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],o[0].length==0&&u[0].length==0)break;e=Of(o[1].length==0?0:parseInt(o[1],10),u[1].length==0?0:parseInt(u[1],10))||Of(o[2].length==0,u[2].length==0)||Of(o[2],u[2]),o=o[3],u=u[3]}while(e==0)}return 0<=e})}var rd;if(z.document&&oo){var Mm=Jw();rd=Mm||parseInt(il,10)||void 0}else rd=void 0;var _x=rd,Ix=function(){if(!z.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{z.addEventListener("test",nl,t),z.removeEventListener("test",nl,t)}catch{}return e}();function nt(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}nt.prototype.h=function(){this.defaultPrevented=!0};function Uu(e,t){if(nt.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Xw){e:{try{Vp(t.nodeName);var i=!0;break e}catch{}i=!1}i||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:Tx[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Uu.Z.h.call(this)}}We(Uu,nt);var Tx={2:"touch",3:"pen",4:"mouse"};Uu.prototype.h=function(){Uu.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var cs="closure_listenable_"+(1e6*Math.random()|0),Cx=0;function bx(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++Cx,this.ca=this.fa=!1}function vc(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function yc(e){this.src=e,this.g={},this.h=0}yc.prototype.add=function(e,t,n,r,i){var o=e.toString();e=this.g[o],e||(e=this.g[o]=[],this.h++);var u=od(e,t,r,i);return-1<u?(t=e[u],n||(t.fa=!1)):(t=new bx(t,this.src,o,!!r,i),t.fa=n,e.push(t)),t};function id(e,t){var n=t.type;if(n in e.g){var r=e.g[n],i=Ww(r,t),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(vc(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function od(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.ca&&o.listener==t&&o.capture==!!n&&o.ia==r)return i}return-1}var Bp="closure_lm_"+(1e6*Math.random()|0),Ff={};function Zw(e,t,n,r,i){if(r&&r.once)return tS(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)Zw(e,t[o],n,r,i);return null}return n=Kp(n),e&&e[cs]?e.N(t,n,ls(r)?!!r.capture:!!r,i):eS(e,t,n,!1,r,i)}function eS(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var u=ls(i)?!!i.capture:!!i,s=qp(e);if(s||(e[Bp]=s=new yc(e)),n=s.add(t,n,r,u,o),n.proxy)return n;if(r=kx(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Ix||(i=u),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(rS(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function kx(){function e(n){return t.call(e.src,e.listener,n)}var t=Nx;return e}function tS(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)tS(e,t[o],n,r,i);return null}return n=Kp(n),e&&e[cs]?e.O(t,n,ls(r)?!!r.capture:!!r,i):eS(e,t,n,!0,r,i)}function nS(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)nS(e,t[o],n,r,i);else r=ls(r)?!!r.capture:!!r,n=Kp(n),e&&e[cs]?(e=e.i,t=String(t).toString(),t in e.g&&(o=e.g[t],n=od(o,n,r,i),-1<n&&(vc(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete e.g[t],e.h--)))):e&&(e=qp(e))&&(t=e.g[t.toString()],e=-1,t&&(e=od(t,n,r,i)),(n=-1<e?t[e]:null)&&zp(n))}function zp(e){if(typeof e!="number"&&e&&!e.ca){var t=e.src;if(t&&t[cs])id(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(rS(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=qp(t))?(id(n,e),n.h==0&&(n.src=null,t[Bp]=null)):vc(e)}}}function rS(e){return e in Ff?Ff[e]:Ff[e]="on"+e}function Nx(e,t){if(e.ca)e=!0;else{t=new Uu(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&zp(e),e=n.call(r,t)}return e}function qp(e){return e=e[Bp],e instanceof yc?e:null}var jf="__closure_events_fn_"+(1e9*Math.random()>>>0);function Kp(e){return typeof e=="function"?e:(e[jf]||(e[jf]=function(t){return e.handleEvent(t)}),e[jf])}function Me(){Cr.call(this),this.i=new yc(this),this.P=this,this.I=null}We(Me,Cr);Me.prototype[cs]=!0;Me.prototype.removeEventListener=function(e,t,n,r){nS(this,e,t,n,r)};function qe(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,typeof t=="string")t=new nt(t,e);else if(t instanceof nt)t.target=t.target||e;else{var i=t;t=new nt(r,e),Gw(t,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var u=t.g=n[o];i=Ys(u,r,!0,t)&&i}if(u=t.g=e,i=Ys(u,r,!0,t)&&i,i=Ys(u,r,!1,t)&&i,n)for(o=0;o<n.length;o++)u=t.g=n[o],i=Ys(u,r,!1,t)&&i}Me.prototype.M=function(){if(Me.Z.M.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)vc(n[r]);delete e.g[t],e.h--}}this.I=null};Me.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};Me.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function Ys(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var u=t[o];if(u&&!u.ca&&u.capture==n){var s=u.listener,a=u.ia||u.src;u.fa&&id(e.i,u),i=s.call(a,r)!==!1&&i}}return i&&!r.defaultPrevented}var Wp=z.JSON.stringify;function xx(){var e=oS,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Px=function(){function e(){this.h=this.g=null}return e.prototype.add=function(t,n){var r=iS.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r},e}(),iS=new(function(){function e(t,n){this.i=t,this.j=n,this.h=0,this.g=null}return e.prototype.get=function(){var t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t},e}())(function(){return new Dx},function(e){return e.reset()}),Dx=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(t,n){this.h=t,this.g=n,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function Ax(e){z.setTimeout(function(){throw e},0)}function Hp(e,t){ud||Rx(),sd||(ud(),sd=!0),oS.add(e,t)}var ud;function Rx(){var e=z.Promise.resolve(void 0);ud=function(){e.then(Ox)}}var sd=!1,oS=new Px;function Ox(){for(var e;e=xx();){try{e.h.call(e.g)}catch(n){Ax(n)}var t=iS;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}sd=!1}function mc(e,t){Me.call(this),this.h=e||1,this.g=t||z,this.j=ze(this.kb,this),this.l=Date.now()}We(mc,Me);O=mc.prototype;O.da=!1;O.S=null;O.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),qe(this,"tick"),this.da&&(Qp(this),this.start()))}};O.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Qp(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}O.M=function(){mc.Z.M.call(this),Qp(this),delete this.g};function Gp(e,t,n){if(typeof e=="function")n&&(e=ze(e,n));else if(e&&typeof e.handleEvent=="function")e=ze(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:z.setTimeout(e,t||0)}function uS(e){e.g=Gp(function(){e.g=null,e.i&&(e.i=!1,uS(e))},e.j);var t=e.h;e.h=null,e.m.apply(null,t)}var Lx=function(e){lx(t,e);function t(n,r){var i=e.call(this)||this;return i.m=n,i.j=r,i.h=null,i.i=!1,i.g=null,i}return t.prototype.l=function(n){this.h=arguments,this.g?this.i=!0:uS(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(z.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(Cr);function Vu(e){Cr.call(this),this.h=e,this.g={}}We(Vu,Cr);var Fm=[];function sS(e,t,n,r){Array.isArray(n)||(n&&(Fm[0]=n.toString()),n=Fm);for(var i=0;i<n.length;i++){var o=Zw(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function aS(e){Up(e.g,function(t,n){this.g.hasOwnProperty(n)&&zp(t)},e),e.g={}}Vu.prototype.M=function(){Vu.Z.M.call(this),aS(this)};Vu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function gc(){this.g=!0}gc.prototype.Aa=function(){this.g=!1};function $x(e,t,n,r,i,o){e.info(function(){if(e.g)if(o)for(var u="",s=o.split("&"),a=0;a<s.length;a++){var l=s[a].split("=");if(1<l.length){var c=l[0];l=l[1];var f=c.split("_");u=2<=f.length&&f[1]=="type"?u+(c+"="+l+"&"):u+(c+"=redacted&")}}else u=null;else u=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+`
`+n+`
`+u})}function Mx(e,t,n,r,i,o,u){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+`
`+n+`
`+o+" "+u})}function ji(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+jx(e,n)+(r?" "+r:"")})}function Fx(e,t){e.info(function(){return"TIMEOUT: "+t})}gc.prototype.info=function(){};function jx(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var u=1;u<i.length;u++)i[u]=""}}}}return Wp(n)}catch{return t}}var di={},jm=null;function wc(){return jm=jm||new Me}di.Ma="serverreachability";function lS(e){nt.call(this,di.Ma,e)}We(lS,nt);function Bu(e){var t=wc();qe(t,new lS(t))}di.STAT_EVENT="statevent";function cS(e,t){nt.call(this,di.STAT_EVENT,e),this.stat=t}We(cS,nt);function ct(e){var t=wc();qe(t,new cS(t,e))}di.Na="timingevent";function fS(e,t){nt.call(this,di.Na,e),this.size=t}We(fS,nt);function fs(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return z.setTimeout(function(){e()},t)}var Sc={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},hS={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Yp(){}Yp.prototype.h=null;function Um(e){return e.h||(e.h=e.i())}function dS(){}var hs={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Xp(){nt.call(this,"d")}We(Xp,nt);function Jp(){nt.call(this,"c")}We(Jp,nt);var ad;function Ec(){}We(Ec,Yp);Ec.prototype.g=function(){return new XMLHttpRequest};Ec.prototype.i=function(){return{}};ad=new Ec;function ds(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Vu(this),this.P=Ux,e=nd?125:void 0,this.W=new mc(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new pS}function pS(){this.i=null,this.g="",this.h=!1}var Ux=45e3,ld={},ol={};O=ds.prototype;O.setTimeout=function(e){this.P=e};function cd(e,t,n){e.K=1,e.v=Ic(Mn(t)),e.s=n,e.U=!0,vS(e,null)}function vS(e,t){e.F=Date.now(),ps(e),e.A=Mn(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),_S(n.h,"t",r),e.C=0,n=e.l.H,e.h=new pS,e.g=BS(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Lx(ze(e.Ia,e,e.g),e.O)),sS(e.V,e.g,"readystatechange",e.gb),t=e.H?Qw(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Bu(),$x(e.j,e.u,e.A,e.m,e.X,e.s)}O.gb=function(e){e=e.target;var t=this.L;t&&bn(e)==3?t.l():this.Ia(e)};O.Ia=function(e){try{if(e==this.g)e:{var t=bn(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(t!=3||nd||this.g&&(this.h.h||this.g.ga()||qm(this.g)))){this.I||t!=4||n==7||(n==8||0>=r?Bu(3):Bu(2)),_c(this);var i=this.g.ba();this.N=i;t:if(yS(this)){var o=qm(this.g);e="";var u=o.length,s=bn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Br(this),fu(this);var a="";break t}this.h.i=new z.TextDecoder}for(n=0;n<u;n++)this.h.h=!0,e+=this.h.i.decode(o[n],{stream:s&&n==u-1});o.splice(0,u),this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.ga();if(this.i=i==200,Mx(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!rl(l)){var f=l;break t}}f=null}if(i=f)ji(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,fd(this,i);else{this.i=!1,this.o=3,ct(12),Br(this),fu(this);break e}}this.U?(mS(this,t,a),nd&&this.i&&t==3&&(sS(this.V,this.W,"tick",this.fb),this.W.start())):(ji(this.j,this.m,a,null),fd(this,a)),t==4&&Br(this),this.i&&!this.I&&(t==4?FS(this.l,this):(this.i=!1,ps(this)))}else i==400&&0<a.indexOf("Unknown SID")?(this.o=3,ct(12)):(this.o=0,ct(13)),Br(this),fu(this)}}}catch{}finally{}};function yS(e){return e.g?e.u=="GET"&&e.K!=2&&e.l.Ba:!1}function mS(e,t,n){for(var r=!0,i;!e.I&&e.C<n.length;)if(i=Vx(e,n),i==ol){t==4&&(e.o=4,ct(14),r=!1),ji(e.j,e.m,null,"[Incomplete Response]");break}else if(i==ld){e.o=4,ct(15),ji(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else ji(e.j,e.m,i,null),fd(e,i);yS(e)&&i!=ol&&i!=ld&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,ct(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.aa&&(e.aa=!0,t=e.l,t.g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),sv(t),t.L=!0,ct(11))):(ji(e.j,e.m,n,"[Invalid Chunked Response]"),Br(e),fu(e))}O.fb=function(){if(this.g){var e=bn(this.g),t=this.g.ga();this.C<t.length&&(_c(this),mS(this,e,t),this.i&&e!=4&&ps(this))}};function Vx(e,t){var n=e.C,r=t.indexOf(`
`,n);return r==-1?ol:(n=Number(t.substring(n,r)),isNaN(n)?ld:(r+=1,r+n>t.length?ol:(t=t.substr(r,n),e.C=r+n,t)))}O.cancel=function(){this.I=!0,Br(this)};function ps(e){e.Y=Date.now()+e.P,gS(e,e.P)}function gS(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=fs(ze(e.eb,e),t)}function _c(e){e.B&&(z.clearTimeout(e.B),e.B=null)}O.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(Fx(this.j,this.A),this.K!=2&&(Bu(),ct(17)),Br(this),this.o=2,fu(this)):gS(this,this.Y-e)};function fu(e){e.l.G==0||e.I||FS(e.l,e)}function Br(e){_c(e);var t=e.L;t&&typeof t.na=="function"&&t.na(),e.L=null,Qp(e.W),aS(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function fd(e,t){try{var n=e.l;if(n.G!=0&&(n.g==e||hd(n.i,e))){if(n.I=e.N,!e.J&&hd(n.i,e)&&n.G==3){try{var r=n.Ca.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<e.F)ll(n),bc(n);else break e;uv(n),ct(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&n.A==0&&!n.v&&(n.v=fs(ze(n.ab,n),6e3));if(1>=CS(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else zr(n,11)}else if((e.J||n.g==e)&&ll(n),!rl(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var o=i[t];if(n.U=o[0],o=o[1],n.G==2)if(o[0]=="c"){n.J=o[1],n.la=o[2];var u=o[3];u!=null&&(n.ma=u,n.h.info("VER="+n.ma));var s=o[4];s!=null&&(n.za=s,n.h.info("SVER="+n.za));var a=o[5];a!=null&&typeof a=="number"&&0<a&&(r=1.5*a,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var l=e.g;if(l){var c=l.g?l.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(c){var f=r.i;!f.g&&(at(c,"spdy")||at(c,"quic")||at(c,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(tv(f,f.h),f.h=null))}if(r.D){var h=l.g?l.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,fe(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms")),r=n;var d=e;if(r.oa=VS(r,r.H?r.la:null,r.W),d.J){bS(r.i,d);var v=d,m=r.K;m&&v.setTimeout(m),v.B&&(_c(v),ps(v)),r.g=d}else $S(r);0<n.l.length&&kc(n)}else o[0]!="stop"&&o[0]!="close"||zr(n,7);else n.G==3&&(o[0]=="stop"||o[0]=="close"?o[0]=="stop"?zr(n,7):ov(n):o[0]!="noop"&&n.j&&n.j.wa(o),n.A=0)}}Bu(4)}catch{}}function Bx(e){if(e.R&&typeof e.R=="function")return e.R();if(typeof e=="string")return e.split("");if(td(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function Zp(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(td(e)||typeof e=="string")Hw(e,t,void 0);else{if(e.T&&typeof e.T=="function")var n=e.T();else if(e.R&&typeof e.R=="function")n=void 0;else if(td(e)||typeof e=="string"){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=Bx(e),i=r.length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function xo(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof xo)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}O=xo.prototype;O.R=function(){ev(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e};O.T=function(){return ev(this),this.g.concat()};function ev(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];ii(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)r=e.g[t],ii(i,r)||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}O.get=function(e,t){return ii(this.h,e)?this.h[e]:t};O.set=function(e,t){ii(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t};O.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};function ii(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var wS=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function zx(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function oi(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof oi){this.g=t!==void 0?t:e.g,ul(this,e.j),this.s=e.s,sl(this,e.i),al(this,e.m),this.l=e.l,t=e.h;var n=new zu;n.i=t.i,t.g&&(n.g=new xo(t.g),n.h=t.h),Vm(this,n),this.o=e.o}else e&&(n=String(e).match(wS))?(this.g=!!t,ul(this,n[1]||"",!0),this.s=hu(n[2]||""),sl(this,n[3]||"",!0),al(this,n[4]),this.l=hu(n[5]||"",!0),Vm(this,n[6]||"",!0),this.o=hu(n[7]||"")):(this.g=!!t,this.h=new zu(null,this.g))}oi.prototype.toString=function(){var e=[],t=this.j;t&&e.push(eu(t,Bm,!0),":");var n=this.i;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(eu(t,Bm,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&e.push("/"),e.push(eu(n,n.charAt(0)=="/"?Qx:Hx,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",eu(n,Yx)),e.join("")};function Mn(e){return new oi(e)}function ul(e,t,n){e.j=n?hu(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function sl(e,t,n){e.i=n?hu(t,!0):t}function al(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Vm(e,t,n){t instanceof zu?(e.h=t,Xx(e.h,e.g)):(n||(t=eu(t,Gx)),e.h=new zu(t,e.g))}function fe(e,t,n){e.h.set(t,n)}function Ic(e){return fe(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function qx(e){return e instanceof oi?Mn(e):new oi(e,void 0)}function Kx(e,t,n,r){var i=new oi(null,void 0);return e&&ul(i,e),t&&sl(i,t),n&&al(i,n),r&&(i.l=r),i}function hu(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function eu(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,Wx),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Wx(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var Bm=/[#\/\?@]/g,Hx=/[#\?:]/g,Qx=/[#\?]/g,Gx=/[#\?@]/g,Yx=/#/g;function zu(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function br(e){e.g||(e.g=new xo,e.h=0,e.i&&zx(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}O=zu.prototype;O.add=function(e,t){br(this),this.i=null,e=Po(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function SS(e,t){br(e),t=Po(e,t),ii(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,e=e.g,ii(e.h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&ev(e)))}function ES(e,t){return br(e),t=Po(e,t),ii(e.g.h,t)}O.forEach=function(e,t){br(this),this.g.forEach(function(n,r){Hw(n,function(i){e.call(t,i,r,this)},this)},this)};O.T=function(){br(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n};O.R=function(e){br(this);var t=[];if(typeof e=="string")ES(this,e)&&(t=Am(t,this.g.get(Po(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Am(t,e[n])}return t};O.set=function(e,t){return br(this),this.i=null,e=Po(this,e),ES(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};O.get=function(e,t){return e?(e=this.R(e),0<e.length?String(e[0]):t):t};function _S(e,t,n){SS(e,t),0<n.length&&(e.i=null,e.g.set(Po(e,t),jp(n)),e.h+=n.length)}O.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var u=i;r[o]!==""&&(u+="="+encodeURIComponent(String(r[o]))),e.push(u)}}return this.i=e.join("&")};function Po(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Xx(e,t){t&&!e.j&&(br(e),e.i=null,e.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(SS(this,r),_S(this,i,n))},e)),e.j=t}var Jx=function(){function e(t,n){this.h=t,this.g=n}return e}();function IS(e){this.l=e||Zx,z.PerformanceNavigationTiming?(e=z.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(z.g&&z.g.Ea&&z.g.Ea()&&z.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Zx=10;function TS(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function CS(e){return e.h?1:e.g?e.g.size:0}function hd(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function tv(e,t){e.g?e.g.add(t):e.h=t}function bS(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}IS.prototype.cancel=function(){var e,t;if(this.i=kS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){try{for(var n=Kw(this.g.values()),r=n.next();!r.done;r=n.next()){var i=r.value;i.cancel()}}catch(o){e={error:o}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}};function kS(e){var t,n;if(e.h!=null)return e.i.concat(e.h.D);if(e.g!=null&&e.g.size!==0){var r=e.i;try{for(var i=Kw(e.g.values()),o=i.next();!o.done;o=i.next()){var u=o.value;r=r.concat(u.D)}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return jp(e.i)}function nv(){}nv.prototype.stringify=function(e){return z.JSON.stringify(e,void 0)};nv.prototype.parse=function(e){return z.JSON.parse(e,void 0)};function eP(){this.g=new nv}function tP(e,t,n){var r=n||"";try{Zp(e,function(i,o){var u=i;ls(i)&&(u=Wp(i)),t.push(r+o+"="+encodeURIComponent(u))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function nP(e,t){var n=new gc;if(z.Image){var r=new Image;r.onload=Gs(Xs,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Gs(Xs,n,r,"TestLoadImage: error",!1,t),r.onabort=Gs(Xs,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Gs(Xs,n,r,"TestLoadImage: timeout",!1,t),z.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function Xs(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch{}}function vs(e){this.l=e.$b||null,this.j=e.ib||!1}We(vs,Yp);vs.prototype.g=function(){return new Tc(this.l,this.j)};vs.prototype.i=function(e){return function(){return e}}({});function Tc(e,t){Me.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=rv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}We(Tc,Me);var rv=0;O=Tc.prototype;O.open=function(e,t){if(this.readyState!=rv)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,qu(this)};O.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||z).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))};O.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ys(this)),this.readyState=rv};O.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,qu(this)),this.g&&(this.readyState=3,qu(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof z.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;NS(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))};function NS(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}O.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?ys(this):qu(this),this.readyState==3&&NS(this)}};O.Ua=function(e){this.g&&(this.response=this.responseText=e,ys(this))};O.Ta=function(e){this.g&&(this.response=e,ys(this))};O.ha=function(){this.g&&ys(this)};function ys(e){e.readyState=4,e.l=null,e.j=null,e.A=null,qu(e)}O.setRequestHeader=function(e,t){this.v.append(e,t)};O.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};O.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function qu(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(Tc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var rP=z.JSON.parse;function ke(e){Me.call(this),this.headers=new xo,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=xS,this.K=this.L=!1}We(ke,Me);var xS="",iP=/^https?$/i,oP=["POST","PUT"];O=ke.prototype;O.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():ad.g(),this.C=this.u?Um(this.u):Um(ad),this.g.onreadystatechange=ze(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(o){zm(this,o);return}e=n||"";var i=new xo(this.headers);r&&Zp(r,function(o,u){i.set(u,o)}),r=yx(i.T()),n=z.FormData&&e instanceof z.FormData,!(0<=Ww(oP,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(o,u){this.g.setRequestHeader(u,o)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{AS(this),0<this.B&&((this.K=uP(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ze(this.pa,this)):this.A=Gp(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(o){zm(this,o)}};function uP(e){return oo&&Ex()&&typeof e.timeout=="number"&&e.ontimeout!==void 0}function sP(e){return e.toLowerCase()=="content-type"}O.pa=function(){typeof Fp<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,qe(this,"timeout"),this.abort(8))};function zm(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,PS(e),Cc(e)}function PS(e){e.D||(e.D=!0,qe(e,"complete"),qe(e,"error"))}O.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,qe(this,"complete"),qe(this,"abort"),Cc(this))};O.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Cc(this,!0)),ke.Z.M.call(this)};O.Fa=function(){this.s||(this.F||this.v||this.l?DS(this):this.cb())};O.cb=function(){DS(this)};function DS(e){if(e.h&&typeof Fp<"u"&&(!e.C[1]||bn(e)!=4||e.ba()!=2)){if(e.v&&bn(e)==4)Gp(e.Fa,0,e);else if(qe(e,"readystatechange"),bn(e)==4){e.h=!1;try{var t=e.ba();e:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var r;if(!(r=n)){var i;if(i=t===0){var o=String(e.H).match(wS)[1]||null;if(!o&&z.self&&z.self.location){var u=z.self.location.protocol;o=u.substr(0,u.length-1)}i=!iP.test(o?o.toLowerCase():"")}r=i}if(r)qe(e,"complete"),qe(e,"success");else{e.m=6;try{var s=2<bn(e)?e.g.statusText:""}catch{s=""}e.j=s+" ["+e.ba()+"]",PS(e)}}finally{Cc(e)}}}}function Cc(e,t){if(e.g){AS(e);var n=e.g,r=e.C[0]?nl:null;e.g=null,e.C=null,t||qe(e,"ready");try{n.onreadystatechange=r}catch{}}}function AS(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(z.clearTimeout(e.A),e.A=null)}function bn(e){return e.g?e.g.readyState:0}O.ba=function(){try{return 2<bn(this)?this.g.status:-1}catch{return-1}};O.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};O.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),rP(t)}};function qm(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case xS:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}O.Da=function(){return this.m};O.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function aP(e){var t="";return Up(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function iv(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=aP(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):fe(e,t,n))}function Ho(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function RS(e){this.za=0,this.l=[],this.h=new gc,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Ho("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Ho("baseRetryDelayMs",5e3,e),this.$a=Ho("retryDelaySeedMs",1e4,e),this.Ya=Ho("forwardChannelMaxRetries",2,e),this.ra=Ho("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new IS(e&&e.concurrentRequestLimit),this.Ca=new eP,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||e.Xb!==!1}O=RS.prototype;O.ma=8;O.G=1;function ov(e){if(OS(e),e.G==3){var t=e.V++,n=Mn(e.F);fe(n,"SID",e.J),fe(n,"RID",t),fe(n,"TYPE","terminate"),ms(e,n),t=new ds(e,e.h,t,void 0),t.K=2,t.v=Ic(Mn(n)),n=!1,z.navigator&&z.navigator.sendBeacon&&(n=z.navigator.sendBeacon(t.v.toString(),"")),!n&&z.Image&&(new Image().src=t.v,n=!0),n||(t.g=BS(t.l,null),t.g.ea(t.v)),t.F=Date.now(),ps(t)}US(e)}O.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch{}};function bc(e){e.g&&(sv(e),e.g.cancel(),e.g=null)}function OS(e){bc(e),e.u&&(z.clearTimeout(e.u),e.u=null),ll(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&z.clearTimeout(e.m),e.m=null)}function Uf(e,t){e.l.push(new Jx(e.Za++,t)),e.G==3&&kc(e)}function kc(e){TS(e.i)||e.m||(e.m=!0,Hp(e.Ha,e),e.C=0)}function lP(e,t){return CS(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.l=t.D.concat(e.l),!0):e.G==1||e.G==2||e.C>=(e.Xa?0:e.Ya)?!1:(e.m=fs(ze(e.Ha,e,t),jS(e,e.C)),e.C++,!0)}O.Ha=function(e){if(this.m)if(this.m=null,this.G==1){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new ds(this,this.h,e,void 0),n=this.s;if(this.P&&(n?(n=Qw(n),Gw(n,this.P)):n=this.P),this.o===null&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){t:{var o=this.l[i];if("__data__"in o.g&&(o=o.g.__data__,typeof o=="string")){o=o.length;break t}o=void 0}if(o===void 0)break;if(r+=o,4096<r){r=i;break e}if(r===4096||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=LS(this,t,r),i=Mn(this.F),fe(i,"RID",e),fe(i,"CVER",22),this.D&&fe(i,"X-HTTP-Session-Id",this.D),ms(this,i),this.o&&n&&iv(i,this.o,n),tv(this.i,t),this.Ra&&fe(i,"TYPE","init"),this.ja?(fe(i,"$req",r),fe(i,"SID","null"),t.$=!0,cd(t,i,null)):cd(t,i,r),this.G=2}}else this.G==3&&(e?Km(this,e):this.l.length==0||TS(this.i)||Km(this))};function Km(e,t){var n;t?n=t.m:n=e.V++;var r=Mn(e.F);fe(r,"SID",e.J),fe(r,"RID",n),fe(r,"AID",e.U),ms(e,r),e.o&&e.s&&iv(r,e.o,e.s),n=new ds(e,e.h,n,e.C+1),e.o===null&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=LS(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),tv(e.i,n),cd(n,r,t)}function ms(e,t){e.j&&Zp({},function(n,r){fe(t,r,n)})}function LS(e,t,n){n=Math.min(e.l.length,n);var r=e.j?ze(e.j.Oa,e.j,e):null;e:for(var i=e.l,o=-1;;){var u=["count="+n];o==-1?0<n?(o=i[0].h,u.push("ofs="+o)):o=0:u.push("ofs="+o);for(var s=!0,a=0;a<n;a++){var l=i[a].h,c=i[a].g;if(l-=o,0>l)o=Math.max(0,i[a].h-100),s=!1;else try{tP(c,u,"req"+l+"_")}catch{r&&r(c)}}if(s){r=u.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function $S(e){e.g||e.u||(e.Y=1,Hp(e.Ga,e),e.A=0)}function uv(e){return e.g||e.u||3<=e.A?!1:(e.Y++,e.u=fs(ze(e.Ga,e),jS(e,e.A)),e.A++,!0)}O.Ga=function(){if(this.u=null,MS(this),this.$&&!(this.L||this.g==null||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=fs(ze(this.bb,this),e)}};O.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ct(10),bc(this),MS(this))};function sv(e){e.B!=null&&(z.clearTimeout(e.B),e.B=null)}function MS(e){e.g=new ds(e,e.h,"rpc",e.Y),e.o===null&&(e.g.H=e.s),e.g.O=0;var t=Mn(e.oa);fe(t,"RID","rpc"),fe(t,"SID",e.J),fe(t,"CI",e.N?"0":"1"),fe(t,"AID",e.U),ms(e,t),fe(t,"TYPE","xmlhttp"),e.o&&e.s&&iv(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Ic(Mn(t)),n.s=null,n.U=!0,vS(n,e)}O.ab=function(){this.v!=null&&(this.v=null,bc(this),uv(this),ct(19))};function ll(e){e.v!=null&&(z.clearTimeout(e.v),e.v=null)}function FS(e,t){var n=null;if(e.g==t){ll(e),sv(e),e.g=null;var r=2}else if(hd(e.i,t))n=t.D,bS(e.i,t),r=1;else return;if(e.I=t.N,e.G!=0){if(t.i)if(r==1){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;r=wc(),qe(r,new fS(r,n)),kc(e)}else $S(e);else if(i=t.o,i==3||i==0&&0<e.I||!(r==1&&lP(e,t)||r==2&&uv(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:zr(e,5);break;case 4:zr(e,10);break;case 3:zr(e,6);break;default:zr(e,2)}}}function jS(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function zr(e,t){if(e.h.info("Error code "+t),t==2){var n=null;e.j&&(n=null);var r=ze(e.jb,e);n||(n=new oi("//www.google.com/images/cleardot.gif"),z.location&&z.location.protocol=="http"||ul(n,"https"),Ic(n)),nP(n.toString(),r)}else ct(2);e.G=0,e.j&&e.j.va(t),US(e),OS(e)}O.jb=function(e){e?(this.h.info("Successfully pinged google.com"),ct(2)):(this.h.info("Failed to ping google.com"),ct(1))};function US(e){e.G=0,e.I=-1,e.j&&((kS(e.i).length!=0||e.l.length!=0)&&(e.i.i.length=0,jp(e.l),e.l.length=0),e.j.ua())}function VS(e,t,n){var r=qx(n);if(r.i!="")t&&sl(r,t+"."+r.i),al(r,r.m);else{var i=z.location;r=Kx(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&Up(e.aa,function(o,u){fe(r,u,o)}),t=e.D,n=e.sa,t&&n&&fe(r,t,n),fe(r,"VER",e.ma),ms(e,r),r}function BS(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ba&&!e.qa?new ke(new vs({ib:!0})):new ke(e.qa),t.L=e.H,t}function zS(){}O=zS.prototype;O.xa=function(){};O.wa=function(){};O.va=function(){};O.ua=function(){};O.Oa=function(){};function cl(){if(oo&&!(10<=Number(_x)))throw Error("Environmental error: no available transport.")}cl.prototype.g=function(e,t){return new $t(e,t)};function $t(e,t){Me.call(this),this.g=new RS(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!rl(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!rl(t)&&(this.g.D=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Do(this)}We($t,Me);$t.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Hp(ze(e.hb,e,t))),ct(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=VS(e,null,e.W),kc(e)};$t.prototype.close=function(){ov(this.g)};$t.prototype.u=function(e){if(typeof e=="string"){var t={};t.__data__=e,Uf(this.g,t)}else this.v?(t={},t.__data__=Wp(e),Uf(this.g,t)):Uf(this.g,e)};$t.prototype.M=function(){this.g.j=null,delete this.j,ov(this.g),delete this.g,$t.Z.M.call(this)};function qS(e){Xp.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}We(qS,Xp);function KS(){Jp.call(this),this.status=1}We(KS,Jp);function Do(e){this.g=e}We(Do,zS);Do.prototype.xa=function(){qe(this.g,"a")};Do.prototype.wa=function(e){qe(this.g,new qS(e))};Do.prototype.va=function(e){qe(this.g,new KS)};Do.prototype.ua=function(){qe(this.g,"b")};cl.prototype.createWebChannel=cl.prototype.g;$t.prototype.send=$t.prototype.u;$t.prototype.open=$t.prototype.m;$t.prototype.close=$t.prototype.close;Sc.NO_ERROR=0;Sc.TIMEOUT=8;Sc.HTTP_ERROR=6;hS.COMPLETE="complete";dS.EventType=hs;hs.OPEN="a";hs.CLOSE="b";hs.ERROR="c";hs.MESSAGE="d";Me.prototype.listen=Me.prototype.N;ke.prototype.listenOnce=ke.prototype.O;ke.prototype.getLastError=ke.prototype.La;ke.prototype.getLastErrorCode=ke.prototype.Da;ke.prototype.getStatus=ke.prototype.ba;ke.prototype.getResponseJson=ke.prototype.Qa;ke.prototype.getResponseText=ke.prototype.ga;ke.prototype.send=ke.prototype.ea;var cP=function(){return new cl},fP=function(){return wc()},Vf=Sc,hP=hS,dP=di,Wm={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},pP=vs,Js=dS,vP=ke;/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt=function(){function e(t,n){var r=this;this.previousValue=t,n&&(n.sequenceNumberHandler=function(i){return r.t(i)},this.i=function(i){return n.writeSequenceNumber(i)})}return e.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},e.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},e}();Pt.o=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var E={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},C=function(e){function t(n,r){var i=this;return(i=e.call(this,r)||this).code=n,i.message=r,i.name="FirebaseError",i.toString=function(){return i.name+": [code="+i.code+"]: "+i.message},i}return U(t,e),t}(Error),nn=new Vw("@firebase/firestore");function dd(){return nn.logLevel}function x(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(nn.logLevel<=J.DEBUG){var r=t.map(av);nn.debug.apply(nn,ge(["Firestore (8.10.1): "+e],r))}}function Ce(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(nn.logLevel<=J.ERROR){var r=t.map(av);nn.error.apply(nn,ge(["Firestore (8.10.1): "+e],r))}}function fl(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(nn.logLevel<=J.WARN){var r=t.map(av);nn.warn.apply(nn,ge(["Firestore (8.10.1): "+e],r))}}function av(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M(e){e===void 0&&(e="Unexpected state");var t="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+e;throw Ce(t),new Error(t)}function B(e,t){e||M()}function A(e,t){return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yP(e){var t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var WS=function(){function e(){}return e.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length,r="";r.length<20;)for(var i=yP(40),o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=t.charAt(i[o]%t.length));return r},e}();function H(e,t){return e<t?-1:e>t?1:0}function uo(e,t,n){return e.length===t.length&&e.every(function(r,i){return n(r,t[i])})}function HS(e){return e+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Et=function(){function e(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new C(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new C(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new C(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new C(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(t){return this.seconds===t.seconds?H(this.nanoseconds,t.nanoseconds):H(this.seconds,t.seconds)},e.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),W=function(){function e(t){this.timestamp=t}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new Et(0,0))},e.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},e.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hm(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function pi(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function QS(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var GS=function(){function e(t,n,r){n===void 0?n=0:n>t.length&&M(),r===void 0?r=t.length-n:r>t.length-n&&M(),this.segments=t,this.offset=n,this.len=r}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return e.comparator(this,t)===0},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(function(r){n.push(r)}):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(t){return this.segments[this.offset+t]},e.prototype.isEmpty=function(){return this.length===0},e.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.forEach=function(t){for(var n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(t,n){for(var r=Math.min(t.length,n.length),i=0;i<r;i++){var o=t.get(i),u=n.get(i);if(o<u)return-1;if(o>u)return 1}return t.length<n.length?-1:t.length>n.length?1:0},e}(),Z=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return U(t,e),t.prototype.construct=function(n,r,i){return new t(n,r,i)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var i=[],o=0,u=n;o<u.length;o++){var s=u[o];if(s.indexOf("//")>=0)throw new C(E.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");i.push.apply(i,s.split("/").filter(function(a){return a.length>0}))}return new t(i)},t.emptyPath=function(){return new t([])},t}(GS),mP=/^[_a-zA-Z][_a-zA-Z0-9]*$/,sn=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return U(t,e),t.prototype.construct=function(n,r,i){return new t(n,r,i)},t.isValidIdentifier=function(n){return mP.test(n)},t.prototype.canonicalString=function(){return this.toArray().map(function(n){return n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(n)||(n="`"+n+"`"),n}).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return this.length===1&&this.get(0)==="__name__"},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(n){for(var r=[],i="",o=0,u=function(){if(i.length===0)throw new C(E.INVALID_ARGUMENT,"Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");r.push(i),i=""},s=!1;o<n.length;){var a=n[o];if(a==="\\"){if(o+1===n.length)throw new C(E.INVALID_ARGUMENT,"Path has trailing escape character: "+n);var l=n[o+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new C(E.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);i+=l,o+=2}else a==="`"?(s=!s,o++):a!=="."||s?(i+=a,o++):(u(),o++)}if(u(),s)throw new C(E.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new t(r)},t.emptyPath=function(){return new t([])},t}(GS),so=function(){function e(t){this.fields=t,t.sort(sn.comparator)}return e.prototype.covers=function(t){for(var n=0,r=this.fields;n<r.length;n++)if(r[n].isPrefixOf(t))return!0;return!1},e.prototype.isEqual=function(t){return uo(this.fields,t.fields,function(n,r){return n.isEqual(r)})},e}(),_t=function(){function e(t){this.binaryString=t}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(n){for(var r="",i=0;i<n.length;++i)r+=String.fromCharCode(n[i]);return r}(t))},e.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},e.prototype.toUint8Array=function(){return function(t){for(var n=new Uint8Array(t.length),r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(t){return H(this.binaryString,t.binaryString)},e.prototype.isEqual=function(t){return this.binaryString===t.binaryString},e}();_t.EMPTY_BYTE_STRING=new _t("");var gP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Sr(e){if(B(!!e),typeof e=="string"){var t=0,n=gP.exec(e);if(B(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Ie(e.seconds),nanos:Ie(e.nanos)}}function Ie(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function ao(e){return typeof e=="string"?_t.fromBase64String(e):_t.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lv(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function YS(e){var t=e.mapValue.fields.__previous_value__;return lv(t)?YS(t):t}function Ku(e){var t=Sr(e.mapValue.fields.__local_write_time__.timestampValue);return new Et(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vi(e){return e==null}function hl(e){return e===0&&1/e==-1/0}function XS(e){return typeof e=="number"&&Number.isInteger(e)&&!hl(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var F=function(){function e(t){this.path=t}return e.fromPath=function(t){return new e(Z.fromString(t))},e.fromName=function(t){return new e(Z.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},e.prototype.isEqual=function(t){return t!==null&&Z.comparator(this.path,t.path)===0},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(t,n){return Z.comparator(t.path,n.path)},e.isDocumentKey=function(t){return t.length%2==0},e.fromSegments=function(t){return new e(new Z(t.slice()))},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ui(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?lv(e)?4:10:M()}function gn(e,t){var n=ui(e);if(n!==ui(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ku(e).isEqual(Ku(t));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;var o=Sr(r.timestampValue),u=Sr(i.timestampValue);return o.seconds===u.seconds&&o.nanos===u.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,i){return ao(r.bytesValue).isEqual(ao(i.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,i){return Ie(r.geoPointValue.latitude)===Ie(i.geoPointValue.latitude)&&Ie(r.geoPointValue.longitude)===Ie(i.geoPointValue.longitude)}(e,t);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Ie(r.integerValue)===Ie(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){var o=Ie(r.doubleValue),u=Ie(i.doubleValue);return o===u?hl(o)===hl(u):isNaN(o)&&isNaN(u)}return!1}(e,t);case 9:return uo(e.arrayValue.values||[],t.arrayValue.values||[],gn);case 10:return function(r,i){var o=r.mapValue.fields||{},u=i.mapValue.fields||{};if(Hm(o)!==Hm(u))return!1;for(var s in o)if(o.hasOwnProperty(s)&&(u[s]===void 0||!gn(o[s],u[s])))return!1;return!0}(e,t);default:return M()}}function Wu(e,t){return(e.values||[]).find(function(n){return gn(n,t)})!==void 0}function lo(e,t){var n=ui(e),r=ui(t);if(n!==r)return H(n,r);switch(n){case 0:return 0;case 1:return H(e.booleanValue,t.booleanValue);case 2:return function(i,o){var u=Ie(i.integerValue||i.doubleValue),s=Ie(o.integerValue||o.doubleValue);return u<s?-1:u>s?1:u===s?0:isNaN(u)?isNaN(s)?0:-1:1}(e,t);case 3:return Qm(e.timestampValue,t.timestampValue);case 4:return Qm(Ku(e),Ku(t));case 5:return H(e.stringValue,t.stringValue);case 6:return function(i,o){var u=ao(i),s=ao(o);return u.compareTo(s)}(e.bytesValue,t.bytesValue);case 7:return function(i,o){for(var u=i.split("/"),s=o.split("/"),a=0;a<u.length&&a<s.length;a++){var l=H(u[a],s[a]);if(l!==0)return l}return H(u.length,s.length)}(e.referenceValue,t.referenceValue);case 8:return function(i,o){var u=H(Ie(i.latitude),Ie(o.latitude));return u!==0?u:H(Ie(i.longitude),Ie(o.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(i,o){for(var u=i.values||[],s=o.values||[],a=0;a<u.length&&a<s.length;++a){var l=lo(u[a],s[a]);if(l)return l}return H(u.length,s.length)}(e.arrayValue,t.arrayValue);case 10:return function(i,o){var u=i.fields||{},s=Object.keys(u),a=o.fields||{},l=Object.keys(a);s.sort(),l.sort();for(var c=0;c<s.length&&c<l.length;++c){var f=H(s[c],l[c]);if(f!==0)return f;var h=lo(u[s[c]],a[l[c]]);if(h!==0)return h}return H(s.length,l.length)}(e.mapValue,t.mapValue);default:throw M()}}function Qm(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return H(e,t);var n=Sr(e),r=Sr(t),i=H(n.seconds,r.seconds);return i!==0?i:H(n.nanos,r.nanos)}function cv(e){return pd(e)}function pd(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){var i=Sr(r);return"time("+i.seconds+","+i.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?ao(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,F.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(r){for(var i="[",o=!0,u=0,s=r.values||[];u<s.length;u++)o?o=!1:i+=",",i+=pd(s[u]);return i+"]"}(e.arrayValue):"mapValue"in e?function(r){for(var i="{",o=!0,u=0,s=Object.keys(r.fields||{}).sort();u<s.length;u++){var a=s[u];o?o=!1:i+=",",i+=a+":"+pd(r.fields[a])}return i+"}"}(e.mapValue):M();var t,n}function dl(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function vd(e){return!!e&&"integerValue"in e}function fv(e){return!!e&&"arrayValue"in e}function Gm(e){return!!e&&"nullValue"in e}function Ym(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function ya(e){return!!e&&"mapValue"in e}function du(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return pi(e.mapValue.fields,function(i,o){return t.mapValue.fields[i]=du(o)}),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=du(e.arrayValue.values[r]);return n}return Object.assign({},e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nt=function(){function e(t){this.value=t}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(t){if(t.isEmpty())return this.value;for(var n=this.value,r=0;r<t.length-1;++r)if(!ya(n=(n.mapValue.fields||{})[t.get(r)]))return null;return(n=(n.mapValue.fields||{})[t.lastSegment()])||null},e.prototype.set=function(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=du(n)},e.prototype.setAll=function(t){var n=this,r=sn.emptyPath(),i={},o=[];t.forEach(function(s,a){if(!r.isImmediateParentOf(a)){var l=n.getFieldsMap(r);n.applyChanges(l,i,o),i={},o=[],r=a.popLast()}s?i[a.lastSegment()]=du(s):o.push(a.lastSegment())});var u=this.getFieldsMap(r);this.applyChanges(u,i,o)},e.prototype.delete=function(t){var n=this.field(t.popLast());ya(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]},e.prototype.isEqual=function(t){return gn(this.value,t.value)},e.prototype.getFieldsMap=function(t){var n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(var r=0;r<t.length;++r){var i=n.mapValue.fields[t.get(r)];ya(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields},e.prototype.applyChanges=function(t,n,r){pi(n,function(s,a){return t[s]=a});for(var i=0,o=r;i<o.length;i++){var u=o[i];delete t[u]}},e.prototype.clone=function(){return new e(du(this.value))},e}();function JS(e){var t=[];return pi(e.fields,function(n,r){var i=new sn([n]);if(ya(r)){var o=JS(r.mapValue).fields;if(o.length===0)t.push(i);else for(var u=0,s=o;u<s.length;u++){var a=s[u];t.push(i.child(a))}}else t.push(i)}),new so(t)}var it=function(){function e(t,n,r,i,o){this.key=t,this.documentType=n,this.version=r,this.data=i,this.documentState=o}return e.newInvalidDocument=function(t){return new e(t,0,W.min(),Nt.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,Nt.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,Nt.empty(),2)},e.prototype.convertToFoundDocument=function(t,n){return this.version=t,this.documentType=1,this.data=n,this.documentState=0,this},e.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=Nt.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=Nt.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return this.documentState===1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return this.documentState===2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return this.documentType!==0},e.prototype.isFoundDocument=function(){return this.documentType===1},e.prototype.isNoDocument=function(){return this.documentType===2},e.prototype.isUnknownDocument=function(){return this.documentType===3},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),wP=function(e,t,n,r,i,o,u){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),o===void 0&&(o=null),u===void 0&&(u=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=u,this.h=null};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xm(e,t,n,r,i,o,u){return t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),o===void 0&&(o=null),u===void 0&&(u=null),new wP(e,t,n,r,i,o,u)}function gs(e){var t=A(e);if(t.h===null){var n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(function(r){return function(i){return i.field.canonicalString()+i.op.toString()+cv(i.value)}(r)}).join(","),n+="|ob:",n+=t.orderBy.map(function(r){return function(i){return i.field.canonicalString()+i.dir}(r)}).join(","),vi(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=vl(t.startAt)),t.endAt&&(n+="|ub:",n+=vl(t.endAt)),t.h=n}return t.h}function Nc(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!kP(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],o=t.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!gn(i.value,o.value))return!1;var i,o;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Zm(e.startAt,t.startAt)&&Zm(e.endAt,t.endAt)}function pl(e){return F.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}var Dt=function(e){function t(n,r,i){var o=this;return(o=e.call(this)||this).field=n,o.op=r,o.value=i,o}return U(t,e),t.create=function(n,r,i){return n.isKeyField()?r==="in"||r==="not-in"?this.l(n,r,i):new SP(n,r,i):r==="array-contains"?new IP(n,i):r==="in"?new TP(n,i):r==="not-in"?new CP(n,i):r==="array-contains-any"?new bP(n,i):new t(n,r,i)},t.l=function(n,r,i){return r==="in"?new EP(n,i):new _P(n,i)},t.prototype.matches=function(n){var r=n.data.field(this.field);return this.op==="!="?r!==null&&this.m(lo(r,this.value)):r!==null&&ui(this.value)===ui(r)&&this.m(lo(r,this.value))},t.prototype.m=function(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return M()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}(function(){}),SP=function(e){function t(n,r,i){var o=this;return(o=e.call(this,n,r,i)||this).key=F.fromName(i.referenceValue),o}return U(t,e),t.prototype.matches=function(n){var r=F.comparator(n.key,this.key);return this.m(r)},t}(Dt),EP=function(e){function t(n,r){var i=this;return(i=e.call(this,n,"in",r)||this).keys=ZS("in",r),i}return U(t,e),t.prototype.matches=function(n){return this.keys.some(function(r){return r.isEqual(n.key)})},t}(Dt),_P=function(e){function t(n,r){var i=this;return(i=e.call(this,n,"not-in",r)||this).keys=ZS("not-in",r),i}return U(t,e),t.prototype.matches=function(n){return!this.keys.some(function(r){return r.isEqual(n.key)})},t}(Dt);function ZS(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(function(r){return F.fromName(r.referenceValue)})}var IP=function(e){function t(n,r){return e.call(this,n,"array-contains",r)||this}return U(t,e),t.prototype.matches=function(n){var r=n.data.field(this.field);return fv(r)&&Wu(r.arrayValue,this.value)},t}(Dt),TP=function(e){function t(n,r){return e.call(this,n,"in",r)||this}return U(t,e),t.prototype.matches=function(n){var r=n.data.field(this.field);return r!==null&&Wu(this.value.arrayValue,r)},t}(Dt),CP=function(e){function t(n,r){return e.call(this,n,"not-in",r)||this}return U(t,e),t.prototype.matches=function(n){if(Wu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var r=n.data.field(this.field);return r!==null&&!Wu(this.value.arrayValue,r)},t}(Dt),bP=function(e){function t(n,r){return e.call(this,n,"array-contains-any",r)||this}return U(t,e),t.prototype.matches=function(n){var r=this,i=n.data.field(this.field);return!(!fv(i)||!i.arrayValue.values)&&i.arrayValue.values.some(function(o){return Wu(r.value.arrayValue,o)})},t}(Dt),Hu=function(e,t){this.position=e,this.before=t};function vl(e){return(e.before?"b":"a")+":"+e.position.map(function(t){return cv(t)}).join(",")}var Gi=function(e,t){t===void 0&&(t="asc"),this.field=e,this.dir=t};function kP(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Jm(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var o=t[i],u=e.position[i];if(r=o.field.isKeyField()?F.comparator(F.fromName(u.referenceValue),n.key):lo(u,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return e.before?r<=0:r<0}function Zm(e,t){if(e===null)return t===null;if(t===null||e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!gn(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jn=function(e,t,n,r,i,o,u,s){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),o===void 0&&(o="F"),u===void 0&&(u=null),s===void 0&&(s=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=u,this.endAt=s,this.p=null,this.T=null,this.startAt,this.endAt};function eE(e,t,n,r,i,o,u,s){return new jn(e,t,n,r,i,o,u,s)}function ws(e){return new jn(e)}function ma(e){return!vi(e.limit)&&e.limitType==="F"}function yl(e){return!vi(e.limit)&&e.limitType==="L"}function hv(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function dv(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function pv(e){return e.collectionGroup!==null}function co(e){var t=A(e);if(t.p===null){t.p=[];var n=dv(t),r=hv(t);if(n!==null&&r===null)n.isKeyField()||t.p.push(new Gi(n)),t.p.push(new Gi(sn.keyField(),"asc"));else{for(var i=!1,o=0,u=t.explicitOrderBy;o<u.length;o++){var s=u[o];t.p.push(s),s.field.isKeyField()&&(i=!0)}if(!i){var a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new Gi(sn.keyField(),a))}}}return t.p}function wn(e){var t=A(e);if(!t.T)if(t.limitType==="F")t.T=Xm(t.path,t.collectionGroup,co(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=co(t);r<i.length;r++){var o=i[r],u=o.dir==="desc"?"asc":"desc";n.push(new Gi(o.field,u))}var s=t.endAt?new Hu(t.endAt.position,!t.endAt.before):null,a=t.startAt?new Hu(t.startAt.position,!t.startAt.before):null;t.T=Xm(t.path,t.collectionGroup,n,t.filters,t.limit,s,a)}return t.T}function tE(e,t,n){return new jn(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Ss(e,t){return Nc(wn(e),wn(t))&&e.limitType===t.limitType}function nE(e){return gs(wn(e))+"|lt:"+e.limitType}function yd(e){return"Query(target="+function(t){var n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=", filters: ["+t.filters.map(function(r){return(i=r).field.canonicalString()+" "+i.op+" "+cv(i.value);var i}).join(", ")+"]"),vi(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=", orderBy: ["+t.orderBy.map(function(r){return function(i){return i.field.canonicalString()+" ("+i.dir+")"}(r)}).join(", ")+"]"),t.startAt&&(n+=", startAt: "+vl(t.startAt)),t.endAt&&(n+=", endAt: "+vl(t.endAt)),"Target("+n+")"}(wn(e))+"; limitType="+e.limitType+")"}function Es(e,t){return t.isFoundDocument()&&function(n,r){var i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):F.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(e,t)&&function(n,r){for(var i=0,o=n.explicitOrderBy;i<o.length;i++){var u=o[i];if(!u.field.isKeyField()&&r.data.field(u.field)===null)return!1}return!0}(e,t)&&function(n,r){for(var i=0,o=n.filters;i<o.length;i++)if(!o[i].matches(r))return!1;return!0}(e,t)&&function(n,r){return!(n.startAt&&!Jm(n.startAt,co(n),r))&&(!n.endAt||!Jm(n.endAt,co(n),r))}(e,t)}function rE(e){return function(t,n){for(var r=!1,i=0,o=co(e);i<o.length;i++){var u=o[i],s=NP(u,t,n);if(s!==0)return s;r=r||u.field.isKeyField()}return 0}}function NP(e,t,n){var r=e.field.isKeyField()?F.comparator(t.key,n.key):function(i,o,u){var s=o.data.field(i),a=u.data.field(i);return s!==null&&a!==null?lo(s,a):M()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return M()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iE(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hl(t)?"-0":t}}function oE(e){return{integerValue:""+e}}function uE(e,t){return XS(t)?oE(t):iE(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xc=function(){this._=void 0};function xP(e,t,n){return e instanceof fo?function(r,i){var o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,t):e instanceof si?aE(e,t):e instanceof ai?lE(e,t):function(r,i){var o=sE(r,i),u=eg(o)+eg(r.A);return vd(o)&&vd(r.A)?oE(u):iE(r.R,u)}(e,t)}function PP(e,t,n){return e instanceof si?aE(e,t):e instanceof ai?lE(e,t):n}function sE(e,t){return e instanceof ho?vd(n=t)||function(r){return!!r&&"doubleValue"in r}(n)?t:{integerValue:0}:null;var n}var fo=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return U(t,e),t}(xc),si=function(e){function t(n){var r=this;return(r=e.call(this)||this).elements=n,r}return U(t,e),t}(xc);function aE(e,t){for(var n=cE(t),r=function(u){n.some(function(s){return gn(s,u)})||n.push(u)},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var ai=function(e){function t(n){var r=this;return(r=e.call(this)||this).elements=n,r}return U(t,e),t}(xc);function lE(e,t){for(var n=cE(t),r=function(u){n=n.filter(function(s){return!gn(s,u)})},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var ho=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).R=n,i.A=r,i}return U(t,e),t}(xc);function eg(e){return Ie(e.integerValue||e.doubleValue)}function cE(e){return fv(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _s=function(e,t){this.field=e,this.transform=t},DP=function(e,t){this.version=e,this.transformResults=t},tt=function(){function e(t,n){this.updateTime=t,this.exists=n}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return this.updateTime===void 0&&this.exists===void 0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},e}();function ga(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}var Pc=function(){};function AP(e,t,n){e instanceof Is?function(r,i,o){var u=r.value.clone(),s=rg(r.fieldTransforms,i,o.transformResults);u.setAll(s),i.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(e,t,n):e instanceof kr?function(r,i,o){if(ga(r.precondition,i)){var u=rg(r.fieldTransforms,i,o.transformResults),s=i.data;s.setAll(fE(r)),s.setAll(u),i.convertToFoundDocument(o.version,s).setHasCommittedMutations()}else i.convertToUnknownDocument(o.version)}(e,t,n):function(r,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,n)}function md(e,t,n){e instanceof Is?function(r,i,o){if(ga(r.precondition,i)){var u=r.value.clone(),s=ig(r.fieldTransforms,o,i);u.setAll(s),i.convertToFoundDocument(ng(i),u).setHasLocalMutations()}}(e,t,n):e instanceof kr?function(r,i,o){if(ga(r.precondition,i)){var u=ig(r.fieldTransforms,o,i),s=i.data;s.setAll(fE(r)),s.setAll(u),i.convertToFoundDocument(ng(i),s).setHasLocalMutations()}}(e,t,n):function(r,i){ga(r.precondition,i)&&i.convertToNoDocument(W.min())}(e,t)}function RP(e,t){for(var n=null,r=0,i=e.fieldTransforms;r<i.length;r++){var o=i[r],u=t.data.field(o.field),s=sE(o.transform,u||null);s!=null&&(n==null&&(n=Nt.empty()),n.set(o.field,s))}return n||null}function tg(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&uo(n,r,function(i,o){return function(u,s){return u.field.isEqual(s.field)&&function(a,l){return a instanceof si&&l instanceof si||a instanceof ai&&l instanceof ai?uo(a.elements,l.elements,gn):a instanceof ho&&l instanceof ho?gn(a.A,l.A):a instanceof fo&&l instanceof fo}(u.transform,s.transform)}(i,o)})}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function ng(e){return e.isFoundDocument()?e.version:W.min()}var Is=function(e){function t(n,r,i,o){o===void 0&&(o=[]);var u=this;return(u=e.call(this)||this).key=n,u.value=r,u.precondition=i,u.fieldTransforms=o,u.type=0,u}return U(t,e),t}(Pc),kr=function(e){function t(n,r,i,o,u){u===void 0&&(u=[]);var s=this;return(s=e.call(this)||this).key=n,s.data=r,s.fieldMask=i,s.precondition=o,s.fieldTransforms=u,s.type=1,s}return U(t,e),t}(Pc);function fE(e){var t=new Map;return e.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}}),t}function rg(e,t,n){var r=new Map;B(e.length===n.length);for(var i=0;i<n.length;i++){var o=e[i],u=o.transform,s=t.data.field(o.field);r.set(o.field,PP(u,s,n[i]))}return r}function ig(e,t,n){for(var r=new Map,i=0,o=e;i<o.length;i++){var u=o[i],s=u.transform,a=n.data.field(u.field);r.set(u.field,xP(s,a,t))}return r}var _e,Y,Ts=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).key=n,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return U(t,e),t}(Pc),vv=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).key=n,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return U(t,e),t}(Pc),OP=function(e){this.count=e};function hE(e){switch(e){case E.OK:return M();case E.CANCELLED:case E.UNKNOWN:case E.DEADLINE_EXCEEDED:case E.RESOURCE_EXHAUSTED:case E.INTERNAL:case E.UNAVAILABLE:case E.UNAUTHENTICATED:return!1;case E.INVALID_ARGUMENT:case E.NOT_FOUND:case E.ALREADY_EXISTS:case E.PERMISSION_DENIED:case E.FAILED_PRECONDITION:case E.ABORTED:case E.OUT_OF_RANGE:case E.UNIMPLEMENTED:case E.DATA_LOSS:return!0;default:return M()}}function dE(e){if(e===void 0)return Ce("GRPC error has no .code"),E.UNKNOWN;switch(e){case _e.OK:return E.OK;case _e.CANCELLED:return E.CANCELLED;case _e.UNKNOWN:return E.UNKNOWN;case _e.DEADLINE_EXCEEDED:return E.DEADLINE_EXCEEDED;case _e.RESOURCE_EXHAUSTED:return E.RESOURCE_EXHAUSTED;case _e.INTERNAL:return E.INTERNAL;case _e.UNAVAILABLE:return E.UNAVAILABLE;case _e.UNAUTHENTICATED:return E.UNAUTHENTICATED;case _e.INVALID_ARGUMENT:return E.INVALID_ARGUMENT;case _e.NOT_FOUND:return E.NOT_FOUND;case _e.ALREADY_EXISTS:return E.ALREADY_EXISTS;case _e.PERMISSION_DENIED:return E.PERMISSION_DENIED;case _e.FAILED_PRECONDITION:return E.FAILED_PRECONDITION;case _e.ABORTED:return E.ABORTED;case _e.OUT_OF_RANGE:return E.OUT_OF_RANGE;case _e.UNIMPLEMENTED:return E.UNIMPLEMENTED;case _e.DATA_LOSS:return E.DATA_LOSS;default:return M()}}(Y=_e||(_e={}))[Y.OK=0]="OK",Y[Y.CANCELLED=1]="CANCELLED",Y[Y.UNKNOWN=2]="UNKNOWN",Y[Y.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Y[Y.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Y[Y.NOT_FOUND=5]="NOT_FOUND",Y[Y.ALREADY_EXISTS=6]="ALREADY_EXISTS",Y[Y.PERMISSION_DENIED=7]="PERMISSION_DENIED",Y[Y.UNAUTHENTICATED=16]="UNAUTHENTICATED",Y[Y.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Y[Y.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Y[Y.ABORTED=10]="ABORTED",Y[Y.OUT_OF_RANGE=11]="OUT_OF_RANGE",Y[Y.UNIMPLEMENTED=12]="UNIMPLEMENTED",Y[Y.INTERNAL=13]="INTERNAL",Y[Y.UNAVAILABLE=14]="UNAVAILABLE",Y[Y.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ot=function(){function e(t,n){this.comparator=t,this.root=n||Yn.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Yn.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Yn.BLACK,null,null))},e.prototype.get=function(t){for(var n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null},e.prototype.indexOf=function(t){for(var n=0,r=this.root;!r.isEmpty();){var i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},e.prototype.forEach=function(t){this.inorderTraversal(function(n,r){return t(n,r),!1})},e.prototype.toString=function(){var t=[];return this.inorderTraversal(function(n,r){return t.push(n+":"+r),!1}),"{"+t.join(", ")+"}"},e.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},e.prototype.getIterator=function(){return new Zs(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(t){return new Zs(this.root,t,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new Zs(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(t){return new Zs(this.root,t,this.comparator,!0)},e}(),Zs=function(){function e(t,n,r,i){this.isReverse=i,this.nodeStack=[];for(var o=1;!t.isEmpty();)if(o=n?r(t.key,n):1,i&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return e.prototype.getNext=function(){var t=this.nodeStack.pop(),n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(this.nodeStack.length===0)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},e}(),Yn=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=r??e.RED,this.left=i??e.EMPTY,this.right=o??e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,o){return new e(t??this.key,n??this.value,r??this.color,i??this.left,o??this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(t,n,r){var i=this,o=r(t,i.key);return(i=o<0?i.copy(null,null,null,i.left.insert(t,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},e.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},e.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)},e.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw M();var t=this.left.check();if(t!==this.right.check())throw M();return t+(this.isRed()?0:1)},e}();Yn.EMPTY=null,Yn.RED=!0,Yn.BLACK=!1,Yn.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw M()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw M()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw M()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw M()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw M()},enumerable:!1,configurable:!0}),e.prototype.copy=function(t,n,r,i,o){return this},e.prototype.insert=function(t,n,r){return new Yn(t,n)},e.prototype.remove=function(t,n){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(t){return!1},e.prototype.reverseTraversal=function(t){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ae=function(){function e(t){this.comparator=t,this.data=new ot(this.comparator)}return e.prototype.has=function(t){return this.data.get(t)!==null},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(t){return this.data.indexOf(t)},e.prototype.forEach=function(t){this.data.inorderTraversal(function(n,r){return t(n),!1})},e.prototype.forEachInRange=function(t,n){for(var r=this.data.getIteratorFrom(t[0]);r.hasNext();){var i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}},e.prototype.forEachWhile=function(t,n){var r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return},e.prototype.firstAfterOrEqual=function(t){var n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null},e.prototype.getIterator=function(){return new og(this.data.getIterator())},e.prototype.getIteratorFrom=function(t){return new og(this.data.getIteratorFrom(t))},e.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},e.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(t){var n=this;return n.size<t.size&&(n=t,t=this),t.forEach(function(r){n=n.add(r)}),n},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0},e.prototype.toArray=function(){var t=[];return this.forEach(function(n){t.push(n)}),t},e.prototype.toString=function(){var t=[];return this.forEach(function(n){return t.push(n)}),"SortedSet("+t.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),og=function(){function e(t){this.iter=t}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),LP=new ot(F.comparator);function rn(){return LP}var $P=new ot(F.comparator);function gd(){return $P}var MP=new ot(F.comparator);function FP(){return MP}var jP=new Ae(F.comparator);function oe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=jP,r=0,i=e;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var UP=new Ae(H);function Dc(){return UP}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yv=function(){function e(t,n,r,i,o){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,mv.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(W.min(),r,Dc(),rn(),oe())},e}(),mv=function(){function e(t,n,r,i,o){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(_t.EMPTY_BYTE_STRING,n,oe(),oe(),oe())},e}(),wa=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},pE=function(e,t){this.targetId=e,this.V=t},vE=function(e,t,n,r){n===void 0&&(n=_t.EMPTY_BYTE_STRING),r===void 0&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},ug=function(){function e(){this.S=0,this.D=ag(),this.C=_t.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"F",{get:function(){return this.S!==0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),e.prototype.O=function(t){t.approximateByteSize()>0&&(this.k=!0,this.C=t)},e.prototype.M=function(){var t=oe(),n=oe(),r=oe();return this.D.forEach(function(i,o){switch(o){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:M()}}),new mv(this.C,this.N,t,n,r)},e.prototype.L=function(){this.k=!1,this.D=ag()},e.prototype.B=function(t,n){this.k=!0,this.D=this.D.insert(t,n)},e.prototype.q=function(t){this.k=!0,this.D=this.D.remove(t)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.k=!0,this.N=!0},e}(),VP=function(){function e(t){this.W=t,this.G=new Map,this.H=rn(),this.J=sg(),this.Y=new Ae(H)}return e.prototype.X=function(t){for(var n=0,r=t.v;n<r.length;n++){var i=r[n];t.P&&t.P.isFoundDocument()?this.Z(i,t.P):this.tt(i,t.key,t.P)}for(var o=0,u=t.removedTargetIds;o<u.length;o++)i=u[o],this.tt(i,t.key,t.P)},e.prototype.et=function(t){var n=this;this.forEachTarget(t,function(r){var i=n.nt(r);switch(t.state){case 0:n.st(r)&&i.O(t.resumeToken);break;case 1:i.K(),i.F||i.L(),i.O(t.resumeToken);break;case 2:i.K(),i.F||n.removeTarget(r);break;case 3:n.st(r)&&(i.j(),i.O(t.resumeToken));break;case 4:n.st(r)&&(n.it(r),i.O(t.resumeToken));break;default:M()}})},e.prototype.forEachTarget=function(t,n){var r=this;t.targetIds.length>0?t.targetIds.forEach(n):this.G.forEach(function(i,o){r.st(o)&&n(o)})},e.prototype.rt=function(t){var n=t.targetId,r=t.V.count,i=this.ot(n);if(i){var o=i.target;if(pl(o))if(r===0){var u=new F(o.path);this.tt(n,u,it.newNoDocument(u,W.min()))}else B(r===1);else this.ct(n)!==r&&(this.it(n),this.Y=this.Y.add(n))}},e.prototype.ut=function(t){var n=this,r=new Map;this.G.forEach(function(u,s){var a=n.ot(s);if(a){if(u.current&&pl(a.target)){var l=new F(a.target.path);n.H.get(l)!==null||n.at(s,l)||n.tt(s,l,it.newNoDocument(l,t))}u.$&&(r.set(s,u.M()),u.L())}});var i=oe();this.J.forEach(function(u,s){var a=!0;s.forEachWhile(function(l){var c=n.ot(l);return!c||c.purpose===2||(a=!1,!1)}),a&&(i=i.add(u))});var o=new yv(t,r,this.Y,this.H,i);return this.H=rn(),this.J=sg(),this.Y=new Ae(H),o},e.prototype.Z=function(t,n){if(this.st(t)){var r=this.at(t,n.key)?2:0;this.nt(t).B(n.key,r),this.H=this.H.insert(n.key,n),this.J=this.J.insert(n.key,this.ht(n.key).add(t))}},e.prototype.tt=function(t,n,r){if(this.st(t)){var i=this.nt(t);this.at(t,n)?i.B(n,1):i.q(n),this.J=this.J.insert(n,this.ht(n).delete(t)),r&&(this.H=this.H.insert(n,r))}},e.prototype.removeTarget=function(t){this.G.delete(t)},e.prototype.ct=function(t){var n=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size},e.prototype.U=function(t){this.nt(t).U()},e.prototype.nt=function(t){var n=this.G.get(t);return n||(n=new ug,this.G.set(t,n)),n},e.prototype.ht=function(t){var n=this.J.get(t);return n||(n=new Ae(H),this.J=this.J.insert(t,n)),n},e.prototype.st=function(t){var n=this.ot(t)!==null;return n||x("WatchChangeAggregator","Detected inactive target",t),n},e.prototype.ot=function(t){var n=this.G.get(t);return n&&n.F?null:this.W.lt(t)},e.prototype.it=function(t){var n=this;this.G.set(t,new ug),this.W.getRemoteKeysForTarget(t).forEach(function(r){n.tt(t,r,null)})},e.prototype.at=function(t,n){return this.W.getRemoteKeysForTarget(t).has(n)},e}();function sg(){return new ot(F.comparator)}function ag(){return new ot(F.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var BP={asc:"ASCENDING",desc:"DESCENDING"},zP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qP=function(e,t){this.databaseId=e,this.I=t};function Qu(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function yE(e,t){return e.I?t.toBase64():t.toUint8Array()}function KP(e,t){return Qu(e,t.toTimestamp())}function ft(e){return B(!!e),W.fromTimestamp(function(t){var n=Sr(t);return new Et(n.seconds,n.nanos)}(e))}function gv(e,t){return function(n){return new Z(["projects",n.projectId,"databases",n.database])}(e).child("documents").child(t).canonicalString()}function mE(e){var t=Z.fromString(e);return B(TE(t)),t}function Gu(e,t){return gv(e.databaseId,t.path)}function xn(e,t){var n=mE(t);if(n.get(1)!==e.databaseId.projectId)throw new C(E.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new C(E.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new F(wE(n))}function wd(e,t){return gv(e.databaseId,t)}function gE(e){var t=mE(e);return t.length===4?Z.emptyPath():wE(t)}function Yu(e){return new Z(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function wE(e){return B(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function lg(e,t,n){return{name:Gu(e,t),fields:n.value.mapValue.fields}}function WP(e,t,n){var r=xn(e,t.name),i=ft(t.updateTime),o=new Nt({mapValue:{fields:t.fields}}),u=it.newFoundDocument(r,i,o);return n&&u.setHasCommittedMutations(),n?u.setHasCommittedMutations():u}function ml(e,t){var n;if(t instanceof Is)n={update:lg(e,t.key,t.value)};else if(t instanceof Ts)n={delete:Gu(e,t.key)};else if(t instanceof kr)n={update:lg(e,t.key,t.data),updateMask:XP(t.fieldMask)};else{if(!(t instanceof vv))return M();n={verify:Gu(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(function(r){return function(i,o){var u=o.transform;if(u instanceof fo)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof si)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof ai)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof ho)return{fieldPath:o.field.canonicalString(),increment:u.A};throw M()}(0,r)})),t.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:KP(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:M()}(e,t.precondition)),n}function cg(e,t){var n=t.currentDocument?function(l){return l.updateTime!==void 0?tt.updateTime(ft(l.updateTime)):l.exists!==void 0?tt.exists(l.exists):tt.none()}(t.currentDocument):tt.none(),r=t.updateTransforms?t.updateTransforms.map(function(l){return function(c,f){var h=null;if("setToServerValue"in f)B(f.setToServerValue==="REQUEST_TIME"),h=new fo;else if("appendMissingElements"in f){var d=f.appendMissingElements.values||[];h=new si(d)}else if("removeAllFromArray"in f){var v=f.removeAllFromArray.values||[];h=new ai(v)}else"increment"in f?h=new ho(c,f.increment):M();var m=sn.fromServerFormat(f.fieldPath);return new _s(m,h)}(e,l)}):[];if(t.update){t.update.name;var i=xn(e,t.update.name),o=new Nt({mapValue:{fields:t.update.fields}});if(t.updateMask){var u=function(l){var c=l.fieldPaths||[];return new so(c.map(function(f){return sn.fromServerFormat(f)}))}(t.updateMask);return new kr(i,o,u,n,r)}return new Is(i,o,n,r)}if(t.delete){var s=xn(e,t.delete);return new Ts(s,n)}if(t.verify){var a=xn(e,t.verify);return new vv(a,n)}return M()}function SE(e,t){return{documents:[wd(e,t.path)]}}function EE(e,t){var n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=wd(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=wd(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(s){if(s.length!==0){var a=s.map(function(l){return function(c){if(c.op==="=="){if(Ym(c.value))return{unaryFilter:{field:_i(c.field),op:"IS_NAN"}};if(Gm(c.value))return{unaryFilter:{field:_i(c.field),op:"IS_NULL"}}}else if(c.op==="!="){if(Ym(c.value))return{unaryFilter:{field:_i(c.field),op:"IS_NOT_NAN"}};if(Gm(c.value))return{unaryFilter:{field:_i(c.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_i(c.field),op:QP(c.op),value:c.value}}}(l)});return a.length===1?a[0]:{compositeFilter:{op:"AND",filters:a}}}}(t.filters);i&&(n.structuredQuery.where=i);var o=function(s){if(s.length!==0)return s.map(function(a){return function(l){return{field:_i(l.field),direction:HP(l.dir)}}(a)})}(t.orderBy);o&&(n.structuredQuery.orderBy=o);var u=function(s,a){return s.I||vi(a)?a:{value:a}}(e,t.limit);return u!==null&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt=fg(t.startAt)),t.endAt&&(n.structuredQuery.endAt=fg(t.endAt)),n}function _E(e){var t=gE(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){B(r===1);var o=n.from[0];o.allDescendants?i=o.collectionId:t=t.child(o.collectionId)}var u=[];n.where&&(u=IE(n.where));var s=[];n.orderBy&&(s=n.orderBy.map(function(f){return function(h){return new Gi(Ui(h.field),function(d){switch(d){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(h.direction))}(f)}));var a=null;n.limit&&(a=function(f){var h;return vi(h=typeof f=="object"?f.value:f)?null:h}(n.limit));var l=null;n.startAt&&(l=hg(n.startAt));var c=null;return n.endAt&&(c=hg(n.endAt)),eE(t,i,s,u,a,"F",l,c)}function IE(e){return e?e.unaryFilter!==void 0?[YP(e)]:e.fieldFilter!==void 0?[GP(e)]:e.compositeFilter!==void 0?e.compositeFilter.filters.map(function(t){return IE(t)}).reduce(function(t,n){return t.concat(n)}):M():[]}function fg(e){return{before:e.before,values:e.position}}function hg(e){var t=!!e.before,n=e.values||[];return new Hu(n,t)}function HP(e){return BP[e]}function QP(e){return zP[e]}function _i(e){return{fieldPath:e.canonicalString()}}function Ui(e){return sn.fromServerFormat(e.fieldPath)}function GP(e){return Dt.create(Ui(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return M()}}(e.fieldFilter.op),e.fieldFilter.value)}function YP(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Ui(e.unaryFilter.field);return Dt.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Ui(e.unaryFilter.field);return Dt.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Ui(e.unaryFilter.field);return Dt.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Ui(e.unaryFilter.field);return Dt.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return M()}}function XP(e){var t=[];return e.fields.forEach(function(n){return t.push(n.canonicalString())}),{fieldPaths:t}}function TE(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=dg(t)),t=JP(e.get(n),t);return dg(t)}function JP(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function dg(e){return e+""}function kn(e){var t=e.length;if(B(t>=2),t===2)return B(e.charAt(0)===""&&e.charAt(1)===""),Z.emptyPath();for(var n=t-2,r=[],i="",o=0;o<t;){var u=e.indexOf("",o);switch((u<0||u>n)&&M(),e.charAt(u+1)){case"":var s=e.substring(o,u),a=void 0;i.length===0?a=s:(a=i+=s,i=""),r.push(a);break;case"":i+=e.substring(o,u),i+="\0";break;case"":i+=e.substring(o,u+1);break;default:M()}o=u+2}return new Z(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ZP=function(e,t){this.seconds=e,this.nanoseconds=t},bt=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};bt.store="owner",bt.key="owner";var pr=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};pr.store="mutationQueues",pr.keyPath="userId";var se=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};se.store="mutations",se.keyPath="batchId",se.userMutationsIndex="userMutationsIndex",se.userMutationsKeyPath=["userId","batchId"];var Je=function(){function e(){}return e.prefixForUser=function(t){return[t]},e.prefixForPath=function(t,n){return[t,on(n)]},e.key=function(t,n,r){return[t,on(n),r]},e}();Je.store="documentMutations",Je.PLACEHOLDER=new Je;var eD=function(e,t){this.path=e,this.readTime=t},tD=function(e,t){this.path=e,this.version=t},me=function(e,t,n,r,i,o){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};me.store="remoteDocuments",me.readTimeIndex="readTimeIndex",me.readTimeIndexPath="readTime",me.collectionReadTimeIndex="collectionReadTimeIndex",me.collectionReadTimeIndexPath=["parentPath","readTime"];var dn=function(e){this.byteSize=e};dn.store="remoteDocumentGlobal",dn.key="remoteDocumentGlobalKey";var mt=function(e,t,n,r,i,o,u){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=u};mt.store="targets",mt.keyPath="targetId",mt.queryTargetsIndexName="queryTargetsIndex",mt.queryTargetsKeyPath=["canonicalId","targetId"];var Ve=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};Ve.store="targetDocuments",Ve.keyPath=["targetId","path"],Ve.documentTargetsIndex="documentTargetsIndex",Ve.documentTargetsKeyPath=["path","targetId"];var kt=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};kt.key="targetGlobalKey",kt.store="targetGlobal";var Qr=function(e,t){this.collectionId=e,this.parent=t};Qr.store="collectionParents",Qr.keyPath=["collectionId","parent"];var Pn=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};Pn.store="clientMetadata",Pn.keyPath="clientId";var po=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};po.store="bundles",po.keyPath="bundleId";var vo=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};vo.store="namedQueries",vo.keyPath="name";var nD=ge(ge([],ge(ge([],ge(ge([],ge(ge([],[pr.store,se.store,Je.store,me.store,mt.store,bt.store,kt.store,Ve.store]),[Pn.store])),[dn.store])),[Qr.store])),[po.store,vo.store]),CE="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",bE=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},e}(),It=function(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})},k=function(){function e(t){var n=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(r){n.isDone=!0,n.result=r,n.nextCallback&&n.nextCallback(r)},function(r){n.isDone=!0,n.error=r,n.catchCallback&&n.catchCallback(r)})}return e.prototype.catch=function(t){return this.next(void 0,t)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&M(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(function(i,o){r.nextCallback=function(u){r.wrapSuccess(t,u).next(i,o)},r.catchCallback=function(u){r.wrapFailure(n,u).next(i,o)}})},e.prototype.toPromise=function(){var t=this;return new Promise(function(n,r){t.next(n,r)})},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(r){return e.reject(r)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.reject(n)},e.resolve=function(t){return new e(function(n,r){n(t)})},e.reject=function(t){return new e(function(n,r){r(t)})},e.waitFor=function(t){return new e(function(n,r){var i=0,o=0,u=!1;t.forEach(function(s){++i,s.next(function(){++o,u&&o===i&&n()},function(a){return r(a)})}),u=!0,o===i&&n()})},e.or=function(t){for(var n=e.resolve(!1),r=function(u){n=n.next(function(s){return s?e.resolve(s):u()})},i=0,o=t;i<o.length;i++)r(o[i]);return n},e.forEach=function(t,n){var r=this,i=[];return t.forEach(function(o,u){i.push(n.call(r,o,u))}),this.waitFor(i)},e}(),kE=function(){function e(t,n){var r=this;this.action=t,this.transaction=n,this.aborted=!1,this.ft=new It,this.transaction.oncomplete=function(){r.ft.resolve()},this.transaction.onabort=function(){n.error?r.ft.reject(new pu(t,n.error)):r.ft.resolve()},this.transaction.onerror=function(i){var o=wv(i.target.error);r.ft.reject(new pu(t,o))}}return e.open=function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(o){throw new pu(n,o)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(x("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(t){var n=this.transaction.objectStore(t);return new iD(n)},e}(),yo=function(){function e(t,n,r){this.name=t,this.version=n,this.wt=r,e._t(ri())===12.2&&Ce("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(t){return x("SimpleDb","Removing database:",t),Fr(window.indexedDB.deleteDatabase(t)).toPromise()},e.yt=function(){if(typeof indexedDB>"u")return!1;if(e.gt())return!0;var t=ri(),n=e._t(t),r=0<n&&n<10,i=e.Et(t),o=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||o)},e.gt=function(){var t;return typeof process<"u"&&((t=process.env)===null||t===void 0?void 0:t.Tt)==="YES"},e.It=function(t,n){return t.store(n)},e._t=function(t){var n=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)},e.Et=function(t){var n=t.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)},e.prototype.At=function(t){return T(this,void 0,void 0,function(){var n,r=this;return I(this,function(i){switch(i.label){case 0:return this.db?[3,2]:(x("SimpleDb","Opening database:",this.name),n=this,[4,new Promise(function(o,u){var s=indexedDB.open(r.name,r.version);s.onsuccess=function(a){var l=a.target.result;o(l)},s.onblocked=function(){u(new pu(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=function(a){var l=a.target.error;l.name==="VersionError"?u(new C(E.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):u(new pu(t,l))},s.onupgradeneeded=function(a){x("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',a.oldVersion);var l=a.target.result;r.wt.Rt(l,s.transaction,a.oldVersion,r.version).next(function(){x("SimpleDb","Database upgrade to version "+r.version+" complete")})}})]);case 1:n.db=i.sent(),i.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(o){return r.bt(o)}),this.db)]}})})},e.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(n){return t(n)})},e.prototype.runTransaction=function(t,n,r,i){return T(this,void 0,void 0,function(){var o,u,s,a,l;return I(this,function(c){switch(c.label){case 0:o=n==="readonly",u=0,s=function(){var f,h,d,v,m;return I(this,function(w){switch(w.label){case 0:++u,w.label=1;case 1:return w.trys.push([1,4,,5]),[4,a.At(t)];case 2:return a.db=w.sent(),f=kE.open(a.db,t,o?"readonly":"readwrite",r),h=i(f).catch(function(y){return f.abort(y),k.reject(y)}).toPromise(),d={},h.catch(function(){}),[4,f.dt];case 3:return[2,(d.value=(w.sent(),h),d)];case 4:return v=w.sent(),m=v.name!=="FirebaseError"&&u<3,x("SimpleDb","Transaction failed with error:",v.message,"Retrying:",m),a.close(),m?[3,5]:[2,{value:Promise.reject(v)}];case 5:return[2]}})},a=this,c.label=1;case 1:return[5,s()];case 2:if(typeof(l=c.sent())=="object")return[2,l.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),rD=function(){function e(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(t){this.St=t},e.prototype.delete=function(){return Fr(this.Pt.delete())},e}(),pu=function(e){function t(n,r){var i=this;return(i=e.call(this,E.UNAVAILABLE,"IndexedDB transaction '"+n+"' failed: "+r)||this).name="IndexedDbTransactionError",i}return U(t,e),t}(C);function yi(e){return e.name==="IndexedDbTransactionError"}var iD=function(){function e(t){this.store=t}return e.prototype.put=function(t,n){var r;return n!==void 0?(x("SimpleDb","PUT",this.store.name,t,n),r=this.store.put(n,t)):(x("SimpleDb","PUT",this.store.name,"<auto-key>",t),r=this.store.put(t)),Fr(r)},e.prototype.add=function(t){return x("SimpleDb","ADD",this.store.name,t,t),Fr(this.store.add(t))},e.prototype.get=function(t){var n=this;return Fr(this.store.get(t)).next(function(r){return r===void 0&&(r=null),x("SimpleDb","GET",n.store.name,t,r),r})},e.prototype.delete=function(t){return x("SimpleDb","DELETE",this.store.name,t),Fr(this.store.delete(t))},e.prototype.count=function(){return x("SimpleDb","COUNT",this.store.name),Fr(this.store.count())},e.prototype.Nt=function(t,n){var r=this.cursor(this.options(t,n)),i=[];return this.xt(r,function(o,u){i.push(u)}).next(function(){return i})},e.prototype.kt=function(t,n){x("SimpleDb","DELETE ALL",this.store.name);var r=this.options(t,n);r.Ft=!1;var i=this.cursor(r);return this.xt(i,function(o,u,s){return s.delete()})},e.prototype.$t=function(t,n){var r;n?r=t:(r={},n=t);var i=this.cursor(r);return this.xt(i,n)},e.prototype.Ot=function(t){var n=this.cursor({});return new k(function(r,i){n.onerror=function(o){var u=wv(o.target.error);i(u)},n.onsuccess=function(o){var u=o.target.result;u?t(u.primaryKey,u.value).next(function(s){s?u.continue():r()}):r()}})},e.prototype.xt=function(t,n){var r=[];return new k(function(i,o){t.onerror=function(u){o(u.target.error)},t.onsuccess=function(u){var s=u.target.result;if(s){var a=new rD(s),l=n(s.primaryKey,s.value,a);if(l instanceof k){var c=l.catch(function(f){return a.done(),k.reject(f)});r.push(c)}a.isDone?i():a.Dt===null?s.continue():s.continue(a.Dt)}else i()}}).next(function(){return k.waitFor(r)})},e.prototype.options=function(t,n){var r;return t!==void 0&&(typeof t=="string"?r=t:n=t),{index:r,range:n}},e.prototype.cursor=function(t){var n="next";if(t.reverse&&(n="prev"),t.index){var r=this.store.index(t.index);return t.Ft?r.openKeyCursor(t.range,n):r.openCursor(t.range,n)}return this.store.openCursor(t.range,n)},e}();function Fr(e){return new k(function(t,n){e.onsuccess=function(r){var i=r.target.result;t(i)},e.onerror=function(r){var i=wv(r.target.error);n(i)}})}var pg=!1;function wv(e){var t=yo._t(ri());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new C("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return pg||(pg=!0,setTimeout(function(){throw r},0)),r}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vg=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).Mt=n,i.currentSequenceNumber=r,i}return U(t,e),t}(bE);function Tt(e,t){var n=A(e);return yo.It(n.Mt,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sv=function(){function e(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return e.prototype.applyToRemoteDocument=function(t,n){for(var r=n.mutationResults,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t.key)&&AP(o,t,r[i])}},e.prototype.applyToLocalView=function(t){for(var n=0,r=this.baseMutations;n<r.length;n++)(u=r[n]).key.isEqual(t.key)&&md(u,t,this.localWriteTime);for(var i=0,o=this.mutations;i<o.length;i++){var u;(u=o[i]).key.isEqual(t.key)&&md(u,t,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(t){var n=this;this.mutations.forEach(function(r){var i=t.get(r.key),o=i;n.applyToLocalView(o),i.isValidDocument()||o.convertToNoDocument(W.min())})},e.prototype.keys=function(){return this.mutations.reduce(function(t,n){return t.add(n.key)},oe())},e.prototype.isEqual=function(t){return this.batchId===t.batchId&&uo(this.mutations,t.mutations,function(n,r){return tg(n,r)})&&uo(this.baseMutations,t.baseMutations,function(n,r){return tg(n,r)})},e}(),oD=function(){function e(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return e.from=function(t,n,r){B(t.mutations.length===r.length);for(var i=FP(),o=t.mutations,u=0;u<o.length;u++)i=i.insert(o[u].key,r[u].version);return new e(t,n,r,i)},e}(),Ac=function(){function e(t,n,r,i,o,u,s){o===void 0&&(o=W.min()),u===void 0&&(u=W.min()),s===void 0&&(s=_t.EMPTY_BYTE_STRING),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=s}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),NE=function(e){this.Lt=e};function Sd(e,t){if(t.document)return WP(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=F.fromSegments(t.noDocument.path),r=go(t.noDocument.readTime),i=it.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var o=F.fromSegments(t.unknownDocument.path);return r=go(t.unknownDocument.version),it.newUnknownDocument(o,r)}return M()}function yg(e,t,n){var r=Ev(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var o=function(f,h){return{name:Gu(f,h.key),fields:h.data.value.mapValue.fields,updateTime:Qu(f,h.version.toTimestamp())}}(e.Lt,t),u=t.hasCommittedMutations;return new me(null,null,o,u,r,i)}if(t.isNoDocument()){var s=t.key.path.toArray(),a=mo(t.version);return u=t.hasCommittedMutations,new me(null,new eD(s,a),null,u,r,i)}if(t.isUnknownDocument()){var l=t.key.path.toArray(),c=mo(t.version);return new me(new tD(l,c),null,null,!0,r,i)}return M()}function Ev(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function xE(e){var t=new Et(e[0],e[1]);return W.fromTimestamp(t)}function mo(e){var t=e.toTimestamp();return new ZP(t.seconds,t.nanoseconds)}function go(e){var t=new Et(e.seconds,e.nanoseconds);return W.fromTimestamp(t)}function Ci(e,t){for(var n=(t.baseMutations||[]).map(function(a){return cg(e.Lt,a)}),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&t.mutations[r+1].transform!==void 0){var o=t.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var u=t.mutations.map(function(a){return cg(e.Lt,a)}),s=Et.fromMillis(t.localWriteTimeMs);return new Sv(t.batchId,s,n,u)}function tu(e){var t,n,r=go(e.readTime),i=e.lastLimboFreeSnapshotVersion!==void 0?go(e.lastLimboFreeSnapshotVersion):W.min();return e.query.documents!==void 0?(B((n=e.query).documents.length===1),t=wn(ws(gE(n.documents[0])))):t=function(o){return wn(_E(o))}(e.query),new Ac(t,e.targetId,0,e.lastListenSequenceNumber,r,i,_t.fromBase64String(e.resumeToken))}function PE(e,t){var n,r=mo(t.snapshotVersion),i=mo(t.lastLimboFreeSnapshotVersion);n=pl(t.target)?SE(e.Lt,t.target):EE(e.Lt,t.target);var o=t.resumeToken.toBase64();return new mt(t.targetId,gs(t.target),r,o,t.sequenceNumber,i,n)}function DE(e){var t=_E({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?tE(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uD=function(){function e(){}return e.prototype.getBundleMetadata=function(t,n){return mg(t).get(n).next(function(r){if(r)return{id:(i=r).bundleId,createTime:go(i.createTime),version:i.version};var i})},e.prototype.saveBundleMetadata=function(t,n){return mg(t).put({bundleId:(r=n).id,createTime:mo(ft(r.createTime)),version:r.version});var r},e.prototype.getNamedQuery=function(t,n){return gg(t).get(n).next(function(r){if(r)return{name:(i=r).name,query:DE(i.bundledQuery),readTime:go(i.readTime)};var i})},e.prototype.saveNamedQuery=function(t,n){return gg(t).put(function(r){return{name:r.name,readTime:mo(ft(r.readTime)),bundledQuery:r.bundledQuery}}(n))},e}();function mg(e){return Tt(e,po.store)}function gg(e){return Tt(e,vo.store)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sD=function(){function e(){this.Bt=new _v}return e.prototype.addToCollectionParentIndex=function(t,n){return this.Bt.add(n),k.resolve()},e.prototype.getCollectionParents=function(t,n){return k.resolve(this.Bt.getEntries(n))},e}(),_v=function(){function e(){this.index={}}return e.prototype.add=function(t){var n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new Ae(Z.comparator),o=!i.has(r);return this.index[n]=i.add(r),o},e.prototype.has=function(t){var n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)},e.prototype.getEntries=function(t){return(this.index[t]||new Ae(Z.comparator)).toArray()},e}(),aD=function(){function e(){this.qt=new _v}return e.prototype.addToCollectionParentIndex=function(t,n){var r=this;if(!this.qt.has(n)){var i=n.lastSegment(),o=n.popLast();t.addOnCommittedListener(function(){r.qt.add(n)});var u={collectionId:i,parent:on(o)};return wg(t).put(u)}return k.resolve()},e.prototype.getCollectionParents=function(t,n){var r=[],i=IDBKeyRange.bound([n,""],[HS(n),""],!1,!0);return wg(t).Nt(i).next(function(o){for(var u=0,s=o;u<s.length;u++){var a=s[u];if(a.collectionId!==n)break;r.push(kn(a.parent))}return r})},e}();function wg(e){return Tt(e,Qr.store)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sg={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},fn=function(){function e(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AE(e,t,n){var r=e.store(se.store),i=e.store(Je.store),o=[],u=IDBKeyRange.only(n.batchId),s=0,a=r.$t({range:u},function(v,m,w){return s++,w.delete()});o.push(a.next(function(){B(s===1)}));for(var l=[],c=0,f=n.mutations;c<f.length;c++){var h=f[c],d=Je.key(t,h.key.path,n.batchId);o.push(i.delete(d)),l.push(h.key)}return k.waitFor(o).next(function(){return l})}function gl(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw M();t=e.noDocument}return JSON.stringify(t).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(41943040,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);var lD=function(){function e(t,n,r,i){this.userId=t,this.R=n,this.Ut=r,this.referenceDelegate=i,this.Kt={}}return e.Qt=function(t,n,r,i){return B(t.uid!==""),new e(t.isAuthenticated()?t.uid:"",n,r,i)},e.prototype.checkEmpty=function(t){var n=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Bn(t).$t({index:se.userMutationsIndex,range:r},function(i,o,u){n=!1,u.done()}).next(function(){return n})},e.prototype.addMutationBatch=function(t,n,r,i){var o=this,u=bi(t),s=Bn(t);return s.add({}).next(function(a){B(typeof a=="number");for(var l=new Sv(a,n,r,i),c=function(y,p,g){var S=g.baseMutations.map(function(b){return ml(y.Lt,b)}),_=g.mutations.map(function(b){return ml(y.Lt,b)});return new se(p,g.batchId,g.localWriteTime.toMillis(),S,_)}(o.R,o.userId,l),f=[],h=new Ae(function(y,p){return H(y.canonicalString(),p.canonicalString())}),d=0,v=i;d<v.length;d++){var m=v[d],w=Je.key(o.userId,m.key.path,a);h=h.add(m.key.path.popLast()),f.push(s.put(c)),f.push(u.put(w,Je.PLACEHOLDER))}return h.forEach(function(y){f.push(o.Ut.addToCollectionParentIndex(t,y))}),t.addOnCommittedListener(function(){o.Kt[a]=l.keys()}),k.waitFor(f).next(function(){return l})})},e.prototype.lookupMutationBatch=function(t,n){var r=this;return Bn(t).get(n).next(function(i){return i?(B(i.userId===r.userId),Ci(r.R,i)):null})},e.prototype.jt=function(t,n){var r=this;return this.Kt[n]?k.resolve(this.Kt[n]):this.lookupMutationBatch(t,n).next(function(i){if(i){var o=i.keys();return r.Kt[n]=o,o}return null})},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var r=this,i=n+1,o=IDBKeyRange.lowerBound([this.userId,i]),u=null;return Bn(t).$t({index:se.userMutationsIndex,range:o},function(s,a,l){a.userId===r.userId&&(B(a.batchId>=i),u=Ci(r.R,a)),l.done()}).next(function(){return u})},e.prototype.getHighestUnacknowledgedBatchId=function(t){var n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return Bn(t).$t({index:se.userMutationsIndex,range:n,reverse:!0},function(i,o,u){r=o.batchId,u.done()}).next(function(){return r})},e.prototype.getAllMutationBatches=function(t){var n=this,r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Bn(t).Nt(se.userMutationsIndex,r).next(function(i){return i.map(function(o){return Ci(n.R,o)})})},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var r=this,i=Je.prefixForPath(this.userId,n.path),o=IDBKeyRange.lowerBound(i),u=[];return bi(t).$t({range:o},function(s,a,l){var c=s[0],f=s[1],h=s[2],d=kn(f);if(c===r.userId&&n.path.isEqual(d))return Bn(t).get(h).next(function(v){if(!v)throw M();B(v.userId===r.userId),u.push(Ci(r.R,v))});l.done()}).next(function(){return u})},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var r=this,i=new Ae(H),o=[];return n.forEach(function(u){var s=Je.prefixForPath(r.userId,u.path),a=IDBKeyRange.lowerBound(s),l=bi(t).$t({range:a},function(c,f,h){var d=c[0],v=c[1],m=c[2],w=kn(v);d===r.userId&&u.path.isEqual(w)?i=i.add(m):h.done()});o.push(l)}),k.waitFor(o).next(function(){return r.Wt(t,i)})},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var r=this,i=n.path,o=i.length+1,u=Je.prefixForPath(this.userId,i),s=IDBKeyRange.lowerBound(u),a=new Ae(H);return bi(t).$t({range:s},function(l,c,f){var h=l[0],d=l[1],v=l[2],m=kn(d);h===r.userId&&i.isPrefixOf(m)?m.length===o&&(a=a.add(v)):f.done()}).next(function(){return r.Wt(t,a)})},e.prototype.Wt=function(t,n){var r=this,i=[],o=[];return n.forEach(function(u){o.push(Bn(t).get(u).next(function(s){if(s===null)throw M();B(s.userId===r.userId),i.push(Ci(r.R,s))}))}),k.waitFor(o).next(function(){return i})},e.prototype.removeMutationBatch=function(t,n){var r=this;return AE(t.Mt,this.userId,n).next(function(i){return t.addOnCommittedListener(function(){r.Gt(n.batchId)}),k.forEach(i,function(o){return r.referenceDelegate.markPotentiallyOrphaned(t,o)})})},e.prototype.Gt=function(t){delete this.Kt[t]},e.prototype.performConsistencyCheck=function(t){var n=this;return this.checkEmpty(t).next(function(r){if(!r)return k.resolve();var i=IDBKeyRange.lowerBound(Je.prefixForUser(n.userId)),o=[];return bi(t).$t({range:i},function(u,s,a){if(u[0]===n.userId){var l=kn(u[1]);o.push(l)}else a.done()}).next(function(){B(o.length===0)})})},e.prototype.containsKey=function(t,n){return RE(t,this.userId,n)},e.prototype.zt=function(t){var n=this;return OE(t).get(this.userId).next(function(r){return r||new pr(n.userId,-1,"")})},e}();function RE(e,t,n){var r=Je.prefixForPath(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),u=!1;return bi(e).$t({range:o,Ft:!0},function(s,a,l){var c=s[0],f=s[1];s[2],c===t&&f===i&&(u=!0),l.done()}).next(function(){return u})}function Bn(e){return Tt(e,se.store)}function bi(e){return Tt(e,Je.store)}function OE(e){return Tt(e,pr.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wl=function(){function e(t){this.Ht=t}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),cD=function(){function e(t,n){this.referenceDelegate=t,this.R=n}return e.prototype.allocateTargetId=function(t){var n=this;return this.Xt(t).next(function(r){var i=new wl(r.highestTargetId);return r.highestTargetId=i.next(),n.Zt(t,r).next(function(){return r.highestTargetId})})},e.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(n){return W.fromTimestamp(new Et(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))})},e.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(n){return n.highestListenSequenceNumber})},e.prototype.setTargetsMetadata=function(t,n,r){var i=this;return this.Xt(t).next(function(o){return o.highestListenSequenceNumber=n,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),n>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=n),i.Zt(t,o)})},e.prototype.addTargetData=function(t,n){var r=this;return this.te(t,n).next(function(){return r.Xt(t).next(function(i){return i.targetCount+=1,r.ee(n,i),r.Zt(t,i)})})},e.prototype.updateTargetData=function(t,n){return this.te(t,n)},e.prototype.removeTargetData=function(t,n){var r=this;return this.removeMatchingKeysForTargetId(t,n.targetId).next(function(){return Ii(t).delete(n.targetId)}).next(function(){return r.Xt(t)}).next(function(i){return B(i.targetCount>0),i.targetCount-=1,r.Zt(t,i)})},e.prototype.removeTargets=function(t,n,r){var i=this,o=0,u=[];return Ii(t).$t(function(s,a){var l=tu(a);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(o++,u.push(i.removeTargetData(t,l)))}).next(function(){return k.waitFor(u)}).next(function(){return o})},e.prototype.forEachTarget=function(t,n){return Ii(t).$t(function(r,i){var o=tu(i);n(o)})},e.prototype.Xt=function(t){return Eg(t).get(kt.key).next(function(n){return B(n!==null),n})},e.prototype.Zt=function(t,n){return Eg(t).put(kt.key,n)},e.prototype.te=function(t,n){return Ii(t).put(PE(this.R,n))},e.prototype.ee=function(t,n){var r=!1;return t.targetId>n.highestTargetId&&(n.highestTargetId=t.targetId,r=!0),t.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=t.sequenceNumber,r=!0),r},e.prototype.getTargetCount=function(t){return this.Xt(t).next(function(n){return n.targetCount})},e.prototype.getTargetData=function(t,n){var r=gs(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),o=null;return Ii(t).$t({range:i,index:mt.queryTargetsIndexName},function(u,s,a){var l=tu(s);Nc(n,l.target)&&(o=l,a.done())}).next(function(){return o})},e.prototype.addMatchingKeys=function(t,n,r){var i=this,o=[],u=Xn(t);return n.forEach(function(s){var a=on(s.path);o.push(u.put(new Ve(r,a))),o.push(i.referenceDelegate.addReference(t,r,s))}),k.waitFor(o)},e.prototype.removeMatchingKeys=function(t,n,r){var i=this,o=Xn(t);return k.forEach(n,function(u){var s=on(u.path);return k.waitFor([o.delete([r,s]),i.referenceDelegate.removeReference(t,r,u)])})},e.prototype.removeMatchingKeysForTargetId=function(t,n){var r=Xn(t),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)},e.prototype.getMatchingKeysForTargetId=function(t,n){var r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Xn(t),o=oe();return i.$t({range:r,Ft:!0},function(u,s,a){var l=kn(u[1]),c=new F(l);o=o.add(c)}).next(function(){return o})},e.prototype.containsKey=function(t,n){var r=on(n.path),i=IDBKeyRange.bound([r],[HS(r)],!1,!0),o=0;return Xn(t).$t({index:Ve.documentTargetsIndex,Ft:!0,range:i},function(u,s,a){var l=u[0];u[1],l!==0&&(o++,a.done())}).next(function(){return o>0})},e.prototype.lt=function(t,n){return Ii(t).get(n).next(function(r){return r?tu(r):null})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ii(e){return Tt(e,mt.store)}function Eg(e){return Tt(e,kt.store)}function Xn(e){return Tt(e,Ve.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mi(e){return T(this,void 0,void 0,function(){return I(this,function(t){if(e.code!==E.FAILED_PRECONDITION||e.message!==CE)throw e;return x("LocalStore","Unexpectedly lost primary lease"),[2]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _g(e,t){var n=e[0],r=e[1],i=t[0],o=t[1],u=H(n,i);return u===0?H(r,o):u}var fD=function(){function e(t){this.ne=t,this.buffer=new Ae(_g),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(t){var n=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(n);else{var r=this.buffer.last();_g(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),hD=function(){function e(t,n){this.garbageCollector=t,this.asyncQueue=n,this.oe=!1,this.ce=null}return e.prototype.start=function(t){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.ue(t)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return this.ce!==null},enumerable:!1,configurable:!0}),e.prototype.ue=function(t){var n=this,r=this.oe?3e5:6e4;x("LruGarbageCollector","Garbage collection scheduled in "+r+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,function(){return T(n,void 0,void 0,function(){var i;return I(this,function(o){switch(o.label){case 0:this.ce=null,this.oe=!0,o.label=1;case 1:return o.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return o.sent(),[3,7];case 3:return yi(i=o.sent())?(x("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i),[3,6]):[3,4];case 4:return[4,mi(i)];case 5:o.sent(),o.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return o.sent(),[2]}})})})},e}(),dD=function(){function e(t,n){this.ae=t,this.params=n}return e.prototype.calculateTargetCount=function(t,n){return this.ae.he(t).next(function(r){return Math.floor(n/100*r)})},e.prototype.nthSequenceNumber=function(t,n){var r=this;if(n===0)return k.resolve(Pt.o);var i=new fD(n);return this.ae.forEachTarget(t,function(o){return i.re(o.sequenceNumber)}).next(function(){return r.ae.le(t,function(o){return i.re(o)})}).next(function(){return i.maxValue})},e.prototype.removeTargets=function(t,n,r){return this.ae.removeTargets(t,n,r)},e.prototype.removeOrphanedDocuments=function(t,n){return this.ae.removeOrphanedDocuments(t,n)},e.prototype.collect=function(t,n){var r=this;return this.params.cacheSizeCollectionThreshold===-1?(x("LruGarbageCollector","Garbage collection skipped; disabled"),k.resolve(Sg)):this.getCacheSize(t).next(function(i){return i<r.params.cacheSizeCollectionThreshold?(x("LruGarbageCollector","Garbage collection skipped; Cache size "+i+" is lower than threshold "+r.params.cacheSizeCollectionThreshold),Sg):r.fe(t,n)})},e.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},e.prototype.fe=function(t,n){var r,i,o,u,s,a,l,c=this,f=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(h){return h>c.params.maximumSequenceNumbersToCollect?(x("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+h),i=c.params.maximumSequenceNumbersToCollect):i=h,u=Date.now(),c.nthSequenceNumber(t,i)}).next(function(h){return r=h,s=Date.now(),c.removeTargets(t,r,n)}).next(function(h){return o=h,a=Date.now(),c.removeOrphanedDocuments(t,r)}).next(function(h){return l=Date.now(),dd()<=J.DEBUG&&x("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in `+(u-f)+`ms
	Determined least recently used `+i+" in "+(s-u)+`ms
	Removed `+o+" targets in "+(a-s)+`ms
	Removed `+h+" documents in "+(l-a)+`ms
Total Duration: `+(l-f)+"ms"),k.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:h})})},e}(),pD=function(){function e(t,n){this.db=t,this.garbageCollector=function(r,i){return new dD(r,i)}(this,n)}return e.prototype.he=function(t){var n=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(r){return n.next(function(i){return r+i})})},e.prototype.de=function(t){var n=0;return this.le(t,function(r){n++}).next(function(){return n})},e.prototype.forEachTarget=function(t,n){return this.db.getTargetCache().forEachTarget(t,n)},e.prototype.le=function(t,n){return this.we(t,function(r,i){return n(i)})},e.prototype.addReference=function(t,n,r){return ea(t,r)},e.prototype.removeReference=function(t,n,r){return ea(t,r)},e.prototype.removeTargets=function(t,n,r){return this.db.getTargetCache().removeTargets(t,n,r)},e.prototype.markPotentiallyOrphaned=function(t,n){return ea(t,n)},e.prototype._e=function(t,n){return function(r,i){var o=!1;return OE(r).Ot(function(u){return RE(r,u,i).next(function(s){return s&&(o=!0),k.resolve(!s)})}).next(function(){return o})}(t,n)},e.prototype.removeOrphanedDocuments=function(t,n){var r=this,i=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[],u=0;return this.we(t,function(s,a){if(a<=n){var l=r._e(t,s).next(function(c){if(!c)return u++,i.getEntry(t,s).next(function(){return i.removeEntry(s),Xn(t).delete([0,on(s.path)])})});o.push(l)}}).next(function(){return k.waitFor(o)}).next(function(){return i.apply(t)}).next(function(){return u})},e.prototype.removeTarget=function(t,n){var r=n.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,r)},e.prototype.updateLimboDocument=function(t,n){return ea(t,n)},e.prototype.we=function(t,n){var r,i=Xn(t),o=Pt.o;return i.$t({index:Ve.documentTargetsIndex},function(u,s){var a=u[0];u[1];var l=s.path,c=s.sequenceNumber;a===0?(o!==Pt.o&&n(new F(kn(r)),o),o=c,r=l):o=Pt.o}).next(function(){o!==Pt.o&&n(new F(kn(r)),o)})},e.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},e}();function ea(e,t){return Xn(e).put(function(n,r){return new Ve(0,on(n.path),r)}(t,e.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ao=function(){function e(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return e.prototype.get=function(t){var n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0)for(var i=0,o=r;i<o.length;i++){var u=o[i],s=u[0],a=u[1];if(this.equalsFn(s,t))return a}},e.prototype.has=function(t){return this.get(t)!==void 0},e.prototype.set=function(t,n){var r=this.mapKeyFn(t),i=this.inner[r];if(i!==void 0){for(var o=0;o<i.length;o++)if(this.equalsFn(i[o][0],t))return void(i[o]=[t,n]);i.push([t,n])}else this.inner[r]=[[t,n]]},e.prototype.delete=function(t){var n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),!0;return!1},e.prototype.forEach=function(t){pi(this.inner,function(n,r){for(var i=0,o=r;i<o.length;i++){var u=o[i],s=u[0],a=u[1];t(s,a)}})},e.prototype.isEmpty=function(){return QS(this.inner)},e}(),LE=function(){function e(){this.changes=new Ao(function(t){return t.toString()},function(t,n){return t.isEqual(n)}),this.changesApplied=!1}return e.prototype.getReadTime=function(t){var n=this.changes.get(t);return n?n.readTime:W.min()},e.prototype.addEntry=function(t,n){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:n})},e.prototype.removeEntry=function(t,n){n===void 0&&(n=null),this.assertNotApplied(),this.changes.set(t,{document:it.newInvalidDocument(t),readTime:n})},e.prototype.getEntry=function(t,n){this.assertNotApplied();var r=this.changes.get(n);return r!==void 0?k.resolve(r.document):this.getFromCache(t,n)},e.prototype.getEntries=function(t,n){return this.getAllFromCache(t,n)},e.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},e.prototype.assertNotApplied=function(){},e}(),vD=function(){function e(t,n){this.R=t,this.Ut=n}return e.prototype.addEntry=function(t,n,r){return Wn(t).put(ta(n),r)},e.prototype.removeEntry=function(t,n){var r=Wn(t),i=ta(n);return r.delete(i)},e.prototype.updateMetadata=function(t,n){var r=this;return this.getMetadata(t).next(function(i){return i.byteSize+=n,r.me(t,i)})},e.prototype.getEntry=function(t,n){var r=this;return Wn(t).get(ta(n)).next(function(i){return r.ye(n,i)})},e.prototype.ge=function(t,n){var r=this;return Wn(t).get(ta(n)).next(function(i){return{document:r.ye(n,i),size:gl(i)}})},e.prototype.getEntries=function(t,n){var r=this,i=rn();return this.pe(t,n,function(o,u){var s=r.ye(o,u);i=i.insert(o,s)}).next(function(){return i})},e.prototype.Ee=function(t,n){var r=this,i=rn(),o=new ot(F.comparator);return this.pe(t,n,function(u,s){var a=r.ye(u,s);i=i.insert(u,a),o=o.insert(u,gl(s))}).next(function(){return{documents:i,Te:o}})},e.prototype.pe=function(t,n,r){if(n.isEmpty())return k.resolve();var i=IDBKeyRange.bound(n.first().path.toArray(),n.last().path.toArray()),o=n.getIterator(),u=o.getNext();return Wn(t).$t({range:i},function(s,a,l){for(var c=F.fromSegments(s);u&&F.comparator(u,c)<0;)r(u,null),u=o.getNext();u&&u.isEqual(c)&&(r(u,a),u=o.hasNext()?o.getNext():null),u?l.Ct(u.path.toArray()):l.done()}).next(function(){for(;u;)r(u,null),u=o.hasNext()?o.getNext():null})},e.prototype.getDocumentsMatchingQuery=function(t,n,r){var i=this,o=rn(),u=n.path.length+1,s={};if(r.isEqual(W.min())){var a=n.path.toArray();s.range=IDBKeyRange.lowerBound(a)}else{var l=n.path.toArray(),c=Ev(r);s.range=IDBKeyRange.lowerBound([l,c],!0),s.index=me.collectionReadTimeIndex}return Wn(t).$t(s,function(f,h,d){if(f.length===u){var v=Sd(i.R,h);n.path.isPrefixOf(v.key.path)?Es(n,v)&&(o=o.insert(v.key,v)):d.done()}}).next(function(){return o})},e.prototype.newChangeBuffer=function(t){return new yD(this,!!t&&t.trackRemovals)},e.prototype.getSize=function(t){return this.getMetadata(t).next(function(n){return n.byteSize})},e.prototype.getMetadata=function(t){return Ig(t).get(dn.key).next(function(n){return B(!!n),n})},e.prototype.me=function(t,n){return Ig(t).put(dn.key,n)},e.prototype.ye=function(t,n){if(n){var r=Sd(this.R,n);if(!r.isNoDocument()||!r.version.isEqual(W.min()))return r}return it.newInvalidDocument(t)},e}(),yD=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).Ie=n,i.trackRemovals=r,i.Ae=new Ao(function(o){return o.toString()},function(o,u){return o.isEqual(u)}),i}return U(t,e),t.prototype.applyChanges=function(n){var r=this,i=[],o=0,u=new Ae(function(s,a){return H(s.canonicalString(),a.canonicalString())});return this.changes.forEach(function(s,a){var l=r.Ae.get(s);if(a.document.isValidDocument()){var c=yg(r.Ie.R,a.document,r.getReadTime(s));u=u.add(s.path.popLast());var f=gl(c);o+=f-l,i.push(r.Ie.addEntry(n,s,c))}else if(o-=l,r.trackRemovals){var h=yg(r.Ie.R,it.newNoDocument(s,W.min()),r.getReadTime(s));i.push(r.Ie.addEntry(n,s,h))}else i.push(r.Ie.removeEntry(n,s))}),u.forEach(function(s){i.push(r.Ie.Ut.addToCollectionParentIndex(n,s))}),i.push(this.Ie.updateMetadata(n,o)),k.waitFor(i)},t.prototype.getFromCache=function(n,r){var i=this;return this.Ie.ge(n,r).next(function(o){return i.Ae.set(r,o.size),o.document})},t.prototype.getAllFromCache=function(n,r){var i=this;return this.Ie.Ee(n,r).next(function(o){var u=o.documents;return o.Te.forEach(function(s,a){i.Ae.set(s,a)}),u})},t}(LE);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ig(e){return Tt(e,dn.store)}function Wn(e){return Tt(e,me.store)}function ta(e){return e.path.toArray()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mD=function(){function e(t){this.R=t}return e.prototype.Rt=function(t,n,r,i){var o=this;B(r<i&&r>=0&&i<=11);var u=new kE("createOrUpgrade",n);r<1&&i>=1&&(function(a){a.createObjectStore(bt.store)}(t),function(a){a.createObjectStore(pr.store,{keyPath:pr.keyPath}),a.createObjectStore(se.store,{keyPath:se.keyPath,autoIncrement:!0}).createIndex(se.userMutationsIndex,se.userMutationsKeyPath,{unique:!0}),a.createObjectStore(Je.store)}(t),Tg(t),function(a){a.createObjectStore(me.store)}(t));var s=k.resolve();return r<3&&i>=3&&(r!==0&&(function(a){a.deleteObjectStore(Ve.store),a.deleteObjectStore(mt.store),a.deleteObjectStore(kt.store)}(t),Tg(t)),s=s.next(function(){return function(a){var l=a.store(kt.store),c=new kt(0,0,W.min().toTimestamp(),0);return l.put(kt.key,c)}(u)})),r<4&&i>=4&&(r!==0&&(s=s.next(function(){return function(a,l){return l.store(se.store).Nt().next(function(c){a.deleteObjectStore(se.store),a.createObjectStore(se.store,{keyPath:se.keyPath,autoIncrement:!0}).createIndex(se.userMutationsIndex,se.userMutationsKeyPath,{unique:!0});var f=l.store(se.store),h=c.map(function(d){return f.put(d)});return k.waitFor(h)})}(t,u)})),s=s.next(function(){(function(a){a.createObjectStore(Pn.store,{keyPath:Pn.keyPath})})(t)})),r<5&&i>=5&&(s=s.next(function(){return o.Re(u)})),r<6&&i>=6&&(s=s.next(function(){return function(a){a.createObjectStore(dn.store)}(t),o.be(u)})),r<7&&i>=7&&(s=s.next(function(){return o.ve(u)})),r<8&&i>=8&&(s=s.next(function(){return o.Pe(t,u)})),r<9&&i>=9&&(s=s.next(function(){(function(a){a.objectStoreNames.contains("remoteDocumentChanges")&&a.deleteObjectStore("remoteDocumentChanges")})(t),function(a){var l=a.objectStore(me.store);l.createIndex(me.readTimeIndex,me.readTimeIndexPath,{unique:!1}),l.createIndex(me.collectionReadTimeIndex,me.collectionReadTimeIndexPath,{unique:!1})}(n)})),r<10&&i>=10&&(s=s.next(function(){return o.Ve(u)})),r<11&&i>=11&&(s=s.next(function(){(function(a){a.createObjectStore(po.store,{keyPath:po.keyPath})})(t),function(a){a.createObjectStore(vo.store,{keyPath:vo.keyPath})}(t)})),s},e.prototype.be=function(t){var n=0;return t.store(me.store).$t(function(r,i){n+=gl(i)}).next(function(){var r=new dn(n);return t.store(dn.store).put(dn.key,r)})},e.prototype.Re=function(t){var n=this,r=t.store(pr.store),i=t.store(se.store);return r.Nt().next(function(o){return k.forEach(o,function(u){var s=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return i.Nt(se.userMutationsIndex,s).next(function(a){return k.forEach(a,function(l){B(l.userId===u.userId);var c=Ci(n.R,l);return AE(t,u.userId,c).next(function(){})})})})})},e.prototype.ve=function(t){var n=t.store(Ve.store),r=t.store(me.store);return t.store(kt.store).get(kt.key).next(function(i){var o=[];return r.$t(function(u,s){var a=new Z(u),l=function(c){return[0,on(c)]}(a);o.push(n.get(l).next(function(c){return c?k.resolve():function(f){return n.put(new Ve(0,on(f),i.highestListenSequenceNumber))}(a)}))}).next(function(){return k.waitFor(o)})})},e.prototype.Pe=function(t,n){t.createObjectStore(Qr.store,{keyPath:Qr.keyPath});var r=n.store(Qr.store),i=new _v,o=function(u){if(i.add(u)){var s=u.lastSegment(),a=u.popLast();return r.put({collectionId:s,parent:on(a)})}};return n.store(me.store).$t({Ft:!0},function(u,s){var a=new Z(u);return o(a.popLast())}).next(function(){return n.store(Je.store).$t({Ft:!0},function(u,s){u[0];var a=u[1];u[2];var l=kn(a);return o(l.popLast())})})},e.prototype.Ve=function(t){var n=this,r=t.store(mt.store);return r.$t(function(i,o){var u=tu(o),s=PE(n.R,u);return r.put(s)})},e}();function Tg(e){e.createObjectStore(Ve.store,{keyPath:Ve.keyPath}).createIndex(Ve.documentTargetsIndex,Ve.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(mt.store,{keyPath:mt.keyPath}).createIndex(mt.queryTargetsIndexName,mt.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(kt.store)}var Bf="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",gD=function(){function e(t,n,r,i,o,u,s,a,l,c){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=u,this.document=s,this.De=l,this.Ce=c,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(f){return Promise.resolve()},!e.yt())throw new C(E.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new pD(this,i),this.Le=n+"main",this.R=new NE(a),this.Be=new yo(this.Le,11,new mD(this.R)),this.qe=new cD(this.referenceDelegate,this.R),this.Ut=new aD,this.Ue=function(f,h){return new vD(f,h)}(this.R,this.Ut),this.Ke=new uD,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,c===!1&&Ce("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new C(E.FAILED_PRECONDITION,Bf);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(n){return t.qe.getHighestSequenceNumber(n)})}).then(function(n){t.Ne=new Pt(n,t.De)}).then(function(){t.xe=!0}).catch(function(n){return t.Be&&t.Be.close(),Promise.reject(n)})},e.prototype.He=function(t){var n=this;return this.Me=function(r){return T(n,void 0,void 0,function(){return I(this,function(i){return this.started?[2,t(r)]:[2]})})},t(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(t){var n=this;this.Be.vt(function(r){return T(n,void 0,void 0,function(){return I(this,function(i){switch(i.label){case 0:return r.newVersion===null?[4,t()]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})})},e.prototype.setNetworkEnabled=function(t){var n=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return T(n,void 0,void 0,function(){return I(this,function(r){switch(r.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})}))},e.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(n){return na(n).put(new Pn(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(n).next(function(r){r||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(n)}).next(function(r){return t.isPrimary&&!r?t.Xe(n).next(function(){return!1}):!!r&&t.Ze(n).next(function(){return!0})})}).catch(function(n){if(yi(n))return x("IndexedDbPersistence","Failed to extend owner lease: ",n),t.isPrimary;if(!t.allowTabSynchronization)throw n;return x("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(function(n){t.isPrimary!==n&&t.Se.enqueueRetryable(function(){return t.Me(n)}),t.isPrimary=n})},e.prototype.Je=function(t){var n=this;return Qo(t).get(bt.key).next(function(r){return k.resolve(n.tn(r))})},e.prototype.en=function(t){return na(t).delete(this.clientId)},e.prototype.nn=function(){return T(this,void 0,void 0,function(){var t,n,r,i,o=this;return I(this,function(u){switch(u.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(s){var a=Tt(s,Pn.store);return a.Nt().next(function(l){var c=o.rn(l,18e5),f=l.filter(function(h){return c.indexOf(h)===-1});return k.forEach(f,function(h){return a.delete(h.clientId)}).next(function(){return f})})}).catch(function(){return[]})]);case 1:if(t=u.sent(),this.Qe)for(n=0,r=t;n<r.length;n++)i=r[n],this.Qe.removeItem(this.on(i.clientId));u.label=2;case 2:return[2]}})})},e.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},e.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},e.prototype.Ye=function(t){var n=this;return this.Ce?k.resolve(!0):Qo(t).get(bt.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)){if(n.tn(r)&&n.networkEnabled)return!0;if(!n.tn(r)){if(!r.allowTabSynchronization)throw new C(E.FAILED_PRECONDITION,Bf);return!1}}return!(!n.networkEnabled||!n.inForeground)||na(t).Nt().next(function(i){return n.rn(i,5e3).find(function(o){if(n.clientId!==o.clientId){var u=!n.networkEnabled&&o.networkEnabled,s=!n.inForeground&&o.inForeground,a=n.networkEnabled===o.networkEnabled;if(u||s&&a)return!0}return!1})===void 0})}).next(function(r){return n.isPrimary!==r&&x("IndexedDbPersistence","Client "+(r?"is":"is not")+" eligible for a primary lease."),r})},e.prototype.shutdown=function(){return T(this,void 0,void 0,function(){var t=this;return I(this,function(n){switch(n.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[bt.store,Pn.store],function(r){var i=new vg(r,Pt.o);return t.Xe(i).next(function(){return t.en(i)})})];case 1:return n.sent(),this.Be.close(),this.ln(),[2]}})})},e.prototype.rn=function(t,n){var r=this;return t.filter(function(i){return r.sn(i.updateTimeMs,n)&&!r.cn(i.clientId)})},e.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(n){return na(n).Nt().next(function(r){return t.rn(r,18e5).map(function(i){return i.clientId})})})},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(t){return lD.Qt(t,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,r){var i=this;x("IndexedDbPersistence","Starting transaction:",t);var o,u=n==="readonly"?"readonly":"readwrite";return this.Be.runTransaction(t,u,nD,function(s){return o=new vg(s,i.Ne?i.Ne.next():Pt.o),n==="readwrite-primary"?i.Je(o).next(function(a){return!!a||i.Ye(o)}).next(function(a){if(!a)throw Ce("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new C(E.FAILED_PRECONDITION,CE);return r(o)}).next(function(a){return i.Ze(o).next(function(){return a})}):i.dn(o).next(function(){return r(o)})}).then(function(s){return o.raiseOnCommittedEvent(),s})},e.prototype.dn=function(t){var n=this;return Qo(t).get(bt.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)&&!n.tn(r)&&!(n.Ce||n.allowTabSynchronization&&r.allowTabSynchronization))throw new C(E.FAILED_PRECONDITION,Bf)})},e.prototype.Ze=function(t){var n=new bt(this.clientId,this.allowTabSynchronization,Date.now());return Qo(t).put(bt.key,n)},e.yt=function(){return yo.yt()},e.prototype.Xe=function(t){var n=this,r=Qo(t);return r.get(bt.key).next(function(i){return n.tn(i)?(x("IndexedDbPersistence","Releasing primary lease."),r.delete(bt.key)):k.resolve()})},e.prototype.sn=function(t,n){var r=Date.now();return!(t<r-n||t>r&&(Ce("Detected an update time that is in the future: "+t+" > "+r),1))},e.prototype.We=function(){var t=this;this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Fe=function(){t.Se.enqueueAndForget(function(){return t.inForeground=t.document.visibilityState==="visible",t.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground=this.document.visibilityState==="visible")},e.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},e.prototype.Ge=function(){var t,n=this;typeof((t=this.window)===null||t===void 0?void 0:t.addEventListener)=="function"&&(this.ke=function(){n.un(),TN()&&navigator.appVersion.match("Version/14")&&n.Se.enterRestrictedMode(!0),n.Se.enqueueAndForget(function(){return n.shutdown()})},this.window.addEventListener("pagehide",this.ke))},e.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},e.prototype.cn=function(t){var n;try{var r=((n=this.Qe)===null||n===void 0?void 0:n.getItem(this.on(t)))!==null;return x("IndexedDbPersistence","Client '"+t+"' "+(r?"is":"is not")+" zombied in LocalStorage"),r}catch(i){return Ce("IndexedDbPersistence","Failed to get zombied client id.",i),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){Ce("Failed to set zombie client id.",t)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch{}},e.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},e}();function Qo(e){return Tt(e,bt.store)}function na(e){return Tt(e,Pn.store)}function Iv(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var $E=function(){function e(t,n,r){this.Ue=t,this._n=n,this.Ut=r}return e.prototype.mn=function(t,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,n).next(function(i){return r.yn(t,n,i)})},e.prototype.yn=function(t,n,r){return this.Ue.getEntry(t,n).next(function(i){for(var o=0,u=r;o<u.length;o++)u[o].applyToLocalView(i);return i})},e.prototype.gn=function(t,n){t.forEach(function(r,i){for(var o=0,u=n;o<u.length;o++)u[o].applyToLocalView(i)})},e.prototype.pn=function(t,n){var r=this;return this.Ue.getEntries(t,n).next(function(i){return r.En(t,i).next(function(){return i})})},e.prototype.En=function(t,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,n).next(function(i){return r.gn(n,i)})},e.prototype.getDocumentsMatchingQuery=function(t,n,r){return function(i){return F.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.Tn(t,n.path):pv(n)?this.In(t,n,r):this.An(t,n,r)},e.prototype.Tn=function(t,n){return this.mn(t,new F(n)).next(function(r){var i=gd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})},e.prototype.In=function(t,n,r){var i=this,o=n.collectionGroup,u=gd();return this.Ut.getCollectionParents(t,o).next(function(s){return k.forEach(s,function(a){var l=function(c,f){return new jn(f,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(n,a.child(o));return i.An(t,l,r).next(function(c){c.forEach(function(f,h){u=u.insert(f,h)})})}).next(function(){return u})})},e.prototype.An=function(t,n,r){var i,o,u=this;return this.Ue.getDocumentsMatchingQuery(t,n,r).next(function(s){return i=s,u._n.getAllMutationBatchesAffectingQuery(t,n)}).next(function(s){return o=s,u.Rn(t,o,i).next(function(a){i=a;for(var l=0,c=o;l<c.length;l++)for(var f=c[l],h=0,d=f.mutations;h<d.length;h++){var v=d[h],m=v.key,w=i.get(m);w==null&&(w=it.newInvalidDocument(m),i=i.insert(m,w)),md(v,w,f.localWriteTime),w.isFoundDocument()||(i=i.remove(m))}})}).next(function(){return i.forEach(function(s,a){Es(n,a)||(i=i.remove(s))}),i})},e.prototype.Rn=function(t,n,r){for(var i=oe(),o=0,u=n;o<u.length;o++)for(var s=0,a=u[o].mutations;s<a.length;s++){var l=a[s];l instanceof kr&&r.get(l.key)===null&&(i=i.add(l.key))}var c=r;return this.Ue.getEntries(t,i).next(function(f){return f.forEach(function(h,d){d.isFoundDocument()&&(c=c.insert(h,d))}),c})},e}(),wD=function(){function e(t,n,r,i){this.targetId=t,this.fromCache=n,this.bn=r,this.vn=i}return e.Pn=function(t,n){for(var r=oe(),i=oe(),o=0,u=n.docChanges;o<u.length;o++){var s=u[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new e(t,n.fromCache,r,i)},e}(),ME=function(){function e(){}return e.prototype.Vn=function(t){this.Sn=t},e.prototype.getDocumentsMatchingQuery=function(t,n,r,i){var o=this;return function(u){return u.filters.length===0&&u.limit===null&&u.startAt==null&&u.endAt==null&&(u.explicitOrderBy.length===0||u.explicitOrderBy.length===1&&u.explicitOrderBy[0].field.isKeyField())}(n)||r.isEqual(W.min())?this.Dn(t,n):this.Sn.pn(t,i).next(function(u){var s=o.Cn(n,u);return(ma(n)||yl(n))&&o.Nn(n.limitType,s,i,r)?o.Dn(t,n):(dd()<=J.DEBUG&&x("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),yd(n)),o.Sn.getDocumentsMatchingQuery(t,n,r).next(function(a){return s.forEach(function(l){a=a.insert(l.key,l)}),a}))})},e.prototype.Cn=function(t,n){var r=new Ae(rE(t));return n.forEach(function(i,o){Es(t,o)&&(r=r.add(o))}),r},e.prototype.Nn=function(t,n,r,i){if(r.size!==n.size)return!0;var o=t==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)},e.prototype.Dn=function(t,n){return dd()<=J.DEBUG&&x("QueryEngine","Using full collection scan to execute query:",yd(n)),this.Sn.getDocumentsMatchingQuery(t,n,W.min())},e}(),SD=function(){function e(t,n,r,i){this.persistence=t,this.xn=n,this.R=i,this.kn=new ot(H),this.Fn=new Ao(function(o){return gs(o)},Nc),this.$n=W.min(),this._n=t.getMutationQueue(r),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new $E(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(t){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(r){return t.collect(r,n.kn)})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FE(e,t,n,r){return new SD(e,t,n,r)}function jE(e,t){return T(this,void 0,void 0,function(){var n,r,i,o;return I(this,function(u){switch(u.label){case 0:return n=A(e),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(s){var a;return n._n.getAllMutationBatches(s).next(function(l){return a=l,r=n.persistence.getMutationQueue(t),i=new $E(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(s)}).next(function(l){for(var c=[],f=[],h=oe(),d=0,v=a;d<v.length;d++){var m=v[d];c.push(m.batchId);for(var w=0,y=m.mutations;w<y.length;w++){var p=y[w];h=h.add(p.key)}}for(var g=0,S=l;g<S.length;g++){var _=S[g];f.push(_.batchId);for(var b=0,P=_.mutations;b<P.length;b++){var $=P[b];h=h.add($.key)}}return i.pn(s,h).next(function(G){return{Ln:G,removedBatchIds:c,addedBatchIds:f}})})})];case 1:return o=u.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}})})}function ED(e,t){var n=A(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(r){var i=t.batch.keys(),o=n.On.newChangeBuffer({trackRemovals:!0});return function(u,s,a,l){var c=a.batch,f=c.keys(),h=k.resolve();return f.forEach(function(d){h=h.next(function(){return l.getEntry(s,d)}).next(function(v){var m=a.docVersions.get(d);B(m!==null),v.version.compareTo(m)<0&&(c.applyToRemoteDocument(v,a),v.isValidDocument()&&l.addEntry(v,a.commitVersion))})}),h.next(function(){return u._n.removeMutationBatch(s,c)})}(n,r,t,o).next(function(){return o.apply(r)}).next(function(){return n._n.performConsistencyCheck(r)}).next(function(){return n.Mn.pn(r,i)})})}function UE(e){var t=A(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",function(n){return t.qe.getLastRemoteSnapshotVersion(n)})}function _D(e,t){var n=A(e),r=t.snapshotVersion,i=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(o){var u=n.On.newChangeBuffer({trackRemovals:!0});i=n.kn;var s=[];t.targetChanges.forEach(function(c,f){var h=i.get(f);if(h){s.push(n.qe.removeMatchingKeys(o,c.removedDocuments,f).next(function(){return n.qe.addMatchingKeys(o,c.addedDocuments,f)}));var d=c.resumeToken;if(d.approximateByteSize()>0){var v=h.withResumeToken(d,r).withSequenceNumber(o.currentSequenceNumber);i=i.insert(f,v),function(m,w,y){return B(w.resumeToken.approximateByteSize()>0),m.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=3e8||y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(h,v,c)&&s.push(n.qe.updateTargetData(o,v))}}});var a=rn();if(t.documentUpdates.forEach(function(c,f){t.resolvedLimboDocuments.has(c)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),s.push(ID(o,u,t.documentUpdates,r,void 0).next(function(c){a=c})),!r.isEqual(W.min())){var l=n.qe.getLastRemoteSnapshotVersion(o).next(function(c){return n.qe.setTargetsMetadata(o,o.currentSequenceNumber,r)});s.push(l)}return k.waitFor(s).next(function(){return u.apply(o)}).next(function(){return n.Mn.En(o,a)}).next(function(){return a})}).then(function(o){return n.kn=i,o})}function ID(e,t,n,r,i){var o=oe();return n.forEach(function(u){return o=o.add(u)}),t.getEntries(e,o).next(function(u){var s=rn();return n.forEach(function(a,l){var c=u.get(a),f=(i==null?void 0:i.get(a))||r;l.isNoDocument()&&l.version.isEqual(W.min())?(t.removeEntry(a,f),s=s.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(t.addEntry(l,f),s=s.insert(a,l)):x("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),s})}function TD(e,t){var n=A(e);return n.persistence.runTransaction("Get next mutation batch","readonly",function(r){return t===void 0&&(t=-1),n._n.getNextMutationBatchAfterBatchId(r,t)})}function Sl(e,t){var n=A(e);return n.persistence.runTransaction("Allocate target","readwrite",function(r){var i;return n.qe.getTargetData(r,t).next(function(o){return o?(i=o,k.resolve(i)):n.qe.allocateTargetId(r).next(function(u){return i=new Ac(t,u,0,r.currentSequenceNumber),n.qe.addTargetData(r,i).next(function(){return i})})})}).then(function(r){var i=n.kn.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.kn=n.kn.insert(r.targetId,r),n.Fn.set(t,r.targetId)),r})}function wo(e,t,n){return T(this,void 0,void 0,function(){var r,i,o,u;return I(this,function(s){switch(s.label){case 0:r=A(e),i=r.kn.get(t),o=n?"readwrite":"readwrite-primary",s.label=1;case 1:return s.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(a){return r.persistence.referenceDelegate.removeTarget(a,i)})];case 2:s.sent(),s.label=3;case 3:return[3,5];case 4:if(!yi(u=s.sent()))throw u;return x("LocalStore","Failed to update sequence numbers for target "+t+": "+u),[3,5];case 5:return r.kn=r.kn.remove(t),r.Fn.delete(i.target),[2]}})})}function El(e,t,n){var r=A(e),i=W.min(),o=oe();return r.persistence.runTransaction("Execute query","readonly",function(u){return function(s,a,l){var c=A(s),f=c.Fn.get(l);return f!==void 0?k.resolve(c.kn.get(f)):c.qe.getTargetData(a,l)}(r,u,wn(t)).next(function(s){if(s)return i=s.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(u,s.targetId).next(function(a){o=a})}).next(function(){return r.xn.getDocumentsMatchingQuery(u,t,n?i:W.min(),n?o:oe())}).next(function(s){return{documents:s,Bn:o}})})}function VE(e,t){var n=A(e),r=A(n.qe),i=n.kn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(o){return r.lt(o,t).next(function(u){return u?u.target:null})})}function BE(e){var t=A(e);return t.persistence.runTransaction("Get new document changes","readonly",function(n){return function(r,i,o){var u=A(r),s=rn(),a=Ev(o),l=Wn(i),c=IDBKeyRange.lowerBound(a,!0);return l.$t({index:me.readTimeIndex,range:c},function(f,h){var d=Sd(u.R,h);s=s.insert(d.key,d),a=h.readTime}).next(function(){return{wn:s,readTime:xE(a)}})}(t.On,n,t.$n)}).then(function(n){var r=n.wn,i=n.readTime;return t.$n=i,r})}function CD(e){return T(this,void 0,void 0,function(){var t;return I(this,function(n){return[2,(t=A(e)).persistence.runTransaction("Synchronize last document change read time","readonly",function(r){return function(i){var o=Wn(i),u=W.min();return o.$t({index:me.readTimeIndex,reverse:!0},function(s,a,l){a.readTime&&(u=xE(a.readTime)),l.done()}).next(function(){return u})}(r)}).then(function(r){t.$n=r})]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bD=function(){function e(t){this.R=t,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(t,n){return k.resolve(this.Qn.get(n))},e.prototype.saveBundleMetadata=function(t,n){var r;return this.Qn.set(n.id,{id:(r=n).id,version:r.version,createTime:ft(r.createTime)}),k.resolve()},e.prototype.getNamedQuery=function(t,n){return k.resolve(this.jn.get(n))},e.prototype.saveNamedQuery=function(t,n){return this.jn.set(n.name,function(r){return{name:r.name,query:DE(r.bundledQuery),readTime:ft(r.readTime)}}(n)),k.resolve()},e}(),Tv=function(){function e(){this.Wn=new Ae(Oe.Gn),this.zn=new Ae(Oe.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(t,n){var r=new Oe(t,n);this.Wn=this.Wn.add(r),this.zn=this.zn.add(r)},e.prototype.Jn=function(t,n){var r=this;t.forEach(function(i){return r.addReference(i,n)})},e.prototype.removeReference=function(t,n){this.Yn(new Oe(t,n))},e.prototype.Xn=function(t,n){var r=this;t.forEach(function(i){return r.removeReference(i,n)})},e.prototype.Zn=function(t){var n=this,r=new F(new Z([])),i=new Oe(r,t),o=new Oe(r,t+1),u=[];return this.zn.forEachInRange([i,o],function(s){n.Yn(s),u.push(s.key)}),u},e.prototype.ts=function(){var t=this;this.Wn.forEach(function(n){return t.Yn(n)})},e.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},e.prototype.es=function(t){var n=new F(new Z([])),r=new Oe(n,t),i=new Oe(n,t+1),o=oe();return this.zn.forEachInRange([r,i],function(u){o=o.add(u.key)}),o},e.prototype.containsKey=function(t){var n=new Oe(t,0),r=this.Wn.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)},e}(),Oe=function(){function e(t,n){this.key=t,this.ns=n}return e.Gn=function(t,n){return F.comparator(t.key,n.key)||H(t.ns,n.ns)},e.Hn=function(t,n){return H(t.ns,n.ns)||F.comparator(t.key,n.key)},e}(),kD=function(){function e(t,n){this.Ut=t,this.referenceDelegate=n,this._n=[],this.ss=1,this.rs=new Ae(Oe.Gn)}return e.prototype.checkEmpty=function(t){return k.resolve(this._n.length===0)},e.prototype.addMutationBatch=function(t,n,r,i){var o=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var u=new Sv(o,n,r,i);this._n.push(u);for(var s=0,a=i;s<a.length;s++){var l=a[s];this.rs=this.rs.add(new Oe(l.key,o)),this.Ut.addToCollectionParentIndex(t,l.key.path.popLast())}return k.resolve(u)},e.prototype.lookupMutationBatch=function(t,n){return k.resolve(this.os(n))},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var r=n+1,i=this.cs(r),o=i<0?0:i;return k.resolve(this._n.length>o?this._n[o]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return k.resolve(this._n.length===0?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(t){return k.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var r=this,i=new Oe(n,0),o=new Oe(n,Number.POSITIVE_INFINITY),u=[];return this.rs.forEachInRange([i,o],function(s){var a=r.os(s.ns);u.push(a)}),k.resolve(u)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var r=this,i=new Ae(H);return n.forEach(function(o){var u=new Oe(o,0),s=new Oe(o,Number.POSITIVE_INFINITY);r.rs.forEachInRange([u,s],function(a){i=i.add(a.ns)})}),k.resolve(this.us(i))},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var r=n.path,i=r.length+1,o=r;F.isDocumentKey(o)||(o=o.child(""));var u=new Oe(new F(o),0),s=new Ae(H);return this.rs.forEachWhile(function(a){var l=a.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(s=s.add(a.ns)),!0)},u),k.resolve(this.us(s))},e.prototype.us=function(t){var n=this,r=[];return t.forEach(function(i){var o=n.os(i);o!==null&&r.push(o)}),r},e.prototype.removeMutationBatch=function(t,n){var r=this;B(this.hs(n.batchId,"removed")===0),this._n.shift();var i=this.rs;return k.forEach(n.mutations,function(o){var u=new Oe(o.key,n.batchId);return i=i.delete(u),r.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(function(){r.rs=i})},e.prototype.Gt=function(t){},e.prototype.containsKey=function(t,n){var r=new Oe(n,0),i=this.rs.firstAfterOrEqual(r);return k.resolve(n.isEqual(i&&i.key))},e.prototype.performConsistencyCheck=function(t){return this._n.length,k.resolve()},e.prototype.hs=function(t,n){return this.cs(t)},e.prototype.cs=function(t){return this._n.length===0?0:t-this._n[0].batchId},e.prototype.os=function(t){var n=this.cs(t);return n<0||n>=this._n.length?null:this._n[n]},e}(),ND=function(){function e(t,n){this.Ut=t,this.ls=n,this.docs=new ot(F.comparator),this.size=0}return e.prototype.addEntry=function(t,n,r){var i=n.key,o=this.docs.get(i),u=o?o.size:0,s=this.ls(n);return this.docs=this.docs.insert(i,{document:n.clone(),size:s,readTime:r}),this.size+=s-u,this.Ut.addToCollectionParentIndex(t,i.path.popLast())},e.prototype.removeEntry=function(t){var n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)},e.prototype.getEntry=function(t,n){var r=this.docs.get(n);return k.resolve(r?r.document.clone():it.newInvalidDocument(n))},e.prototype.getEntries=function(t,n){var r=this,i=rn();return n.forEach(function(o){var u=r.docs.get(o);i=i.insert(o,u?u.document.clone():it.newInvalidDocument(o))}),k.resolve(i)},e.prototype.getDocumentsMatchingQuery=function(t,n,r){for(var i=rn(),o=new F(n.path.child("")),u=this.docs.getIteratorFrom(o);u.hasNext();){var s=u.getNext(),a=s.key,l=s.value,c=l.document,f=l.readTime;if(!n.path.isPrefixOf(a.path))break;f.compareTo(r)<=0||Es(n,c)&&(i=i.insert(c.key,c.clone()))}return k.resolve(i)},e.prototype.fs=function(t,n){return k.forEach(this.docs,function(r){return n(r)})},e.prototype.newChangeBuffer=function(t){return new xD(this)},e.prototype.getSize=function(t){return k.resolve(this.size)},e}(),xD=function(e){function t(n){var r=this;return(r=e.call(this)||this).Ie=n,r}return U(t,e),t.prototype.applyChanges=function(n){var r=this,i=[];return this.changes.forEach(function(o,u){u.document.isValidDocument()?i.push(r.Ie.addEntry(n,u.document,r.getReadTime(o))):r.Ie.removeEntry(o)}),k.waitFor(i)},t.prototype.getFromCache=function(n,r){return this.Ie.getEntry(n,r)},t.prototype.getAllFromCache=function(n,r){return this.Ie.getEntries(n,r)},t}(LE),PD=function(){function e(t){this.persistence=t,this.ds=new Ao(function(n){return gs(n)},Nc),this.lastRemoteSnapshotVersion=W.min(),this.highestTargetId=0,this.ws=0,this._s=new Tv,this.targetCount=0,this.ys=wl.Jt()}return e.prototype.forEachTarget=function(t,n){return this.ds.forEach(function(r,i){return n(i)}),k.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(t){return k.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(t){return k.resolve(this.ws)},e.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),k.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ws&&(this.ws=n),k.resolve()},e.prototype.te=function(t){this.ds.set(t.target,t);var n=t.targetId;n>this.highestTargetId&&(this.ys=new wl(n),this.highestTargetId=n),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},e.prototype.addTargetData=function(t,n){return this.te(n),this.targetCount+=1,k.resolve()},e.prototype.updateTargetData=function(t,n){return this.te(n),k.resolve()},e.prototype.removeTargetData=function(t,n){return this.ds.delete(n.target),this._s.Zn(n.targetId),this.targetCount-=1,k.resolve()},e.prototype.removeTargets=function(t,n,r){var i=this,o=0,u=[];return this.ds.forEach(function(s,a){a.sequenceNumber<=n&&r.get(a.targetId)===null&&(i.ds.delete(s),u.push(i.removeMatchingKeysForTargetId(t,a.targetId)),o++)}),k.waitFor(u).next(function(){return o})},e.prototype.getTargetCount=function(t){return k.resolve(this.targetCount)},e.prototype.getTargetData=function(t,n){var r=this.ds.get(n)||null;return k.resolve(r)},e.prototype.addMatchingKeys=function(t,n,r){return this._s.Jn(n,r),k.resolve()},e.prototype.removeMatchingKeys=function(t,n,r){this._s.Xn(n,r);var i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(function(u){o.push(i.markPotentiallyOrphaned(t,u))}),k.waitFor(o)},e.prototype.removeMatchingKeysForTargetId=function(t,n){return this._s.Zn(n),k.resolve()},e.prototype.getMatchingKeysForTargetId=function(t,n){var r=this._s.es(n);return k.resolve(r)},e.prototype.containsKey=function(t,n){return k.resolve(this._s.containsKey(n))},e}(),DD=function(){function e(t,n){var r=this;this.gs={},this.Ne=new Pt(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new PD(this),this.Ut=new sD,this.Ue=function(i,o){return new ND(i,function(u){return r.referenceDelegate.ps(u)})}(this.Ut),this.R=new NE(n),this.Ke=new bD(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(t){var n=this.gs[t.toKey()];return n||(n=new kD(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=n),n},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,r){var i=this;x("MemoryPersistence","Starting transaction:",t);var o=new AD(this.Ne.next());return this.referenceDelegate.Es(),r(o).next(function(u){return i.referenceDelegate.Ts(o).next(function(){return u})}).toPromise().then(function(u){return o.raiseOnCommittedEvent(),u})},e.prototype.Is=function(t,n){return k.or(Object.values(this.gs).map(function(r){return function(){return r.containsKey(t,n)}}))},e}(),AD=function(e){function t(n){var r=this;return(r=e.call(this)||this).currentSequenceNumber=n,r}return U(t,e),t}(bE),RD=function(){function e(t){this.persistence=t,this.As=new Tv,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw M()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(t,n,r){return this.As.addReference(r,n),this.vs.delete(r.toString()),k.resolve()},e.prototype.removeReference=function(t,n,r){return this.As.removeReference(r,n),this.vs.add(r.toString()),k.resolve()},e.prototype.markPotentiallyOrphaned=function(t,n){return this.vs.add(n.toString()),k.resolve()},e.prototype.removeTarget=function(t,n){var r=this;this.As.Zn(n.targetId).forEach(function(o){return r.vs.add(o.toString())});var i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(function(o){o.forEach(function(u){return r.vs.add(u.toString())})}).next(function(){return i.removeTargetData(t,n)})},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(t){var n=this,r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return k.forEach(this.vs,function(i){var o=F.fromPath(i);return n.Ps(t,o).next(function(u){u||r.removeEntry(o)})}).next(function(){return n.Rs=null,r.apply(t)})},e.prototype.updateLimboDocument=function(t,n){var r=this;return this.Ps(t,n).next(function(i){i?r.vs.delete(n.toString()):r.vs.add(n.toString())})},e.prototype.ps=function(t){return 0},e.prototype.Ps=function(t,n){var r=this;return k.or([function(){return k.resolve(r.As.containsKey(n))},function(){return r.persistence.getTargetCache().containsKey(t,n)},function(){return r.persistence.Is(t,n)}])},e}(),Ue=function(){function e(t){this.uid=t}return e.prototype.isAuthenticated=function(){return this.uid!=null},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(t){return t.uid===this.uid},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cg(e,t){return"firestore_clients_"+e+"_"+t}function bg(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function zf(e,t){return"firestore_targets_"+e+"_"+t}Ue.UNAUTHENTICATED=new Ue(null),Ue.GOOGLE_CREDENTIALS=new Ue("google-credentials-uid"),Ue.FIRST_PARTY=new Ue("first-party-uid"),Ue.MOCK_USER=new Ue("mock-user");var kg=function(){function e(t,n,r,i){this.user=t,this.batchId=n,this.state=r,this.error=i}return e.Vs=function(t,n,r){var i,o=JSON.parse(r),u=typeof o=="object"&&["pending","acknowledged","rejected"].indexOf(o.state)!==-1&&(o.error===void 0||typeof o.error=="object");return u&&o.error&&(u=typeof o.error.message=="string"&&typeof o.error.code=="string")&&(i=new C(o.error.code,o.error.message)),u?new e(t,n,o.state,i):(Ce("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),qf=function(){function e(t,n,r){this.targetId=t,this.state=n,this.error=r}return e.Vs=function(t,n){var r,i=JSON.parse(n),o=typeof i=="object"&&["not-current","current","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string")&&(r=new C(i.error.code,i.error.message)),o?new e(t,i.state,r):(Ce("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),Ng=function(){function e(t,n){this.clientId=t,this.activeTargetIds=n}return e.Vs=function(t,n){for(var r=JSON.parse(n),i=typeof r=="object"&&r.activeTargetIds instanceof Array,o=Dc(),u=0;i&&u<r.activeTargetIds.length;++u)i=XS(r.activeTargetIds[u]),o=o.add(r.activeTargetIds[u]);return i?new e(t,o):(Ce("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),OD=function(){function e(t,n){this.clientId=t,this.onlineState=n}return e.Vs=function(t){var n=JSON.parse(t);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new e(n.clientId,n.onlineState):(Ce("SharedClientState","Failed to parse online state: "+t),null)},e}(),Ed=function(){function e(){this.activeTargetIds=Dc()}return e.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},e.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},e.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},e}(),Kf=function(){function e(t,n,r,i,o){this.window=t,this.Se=n,this.persistenceKey=r,this.Ns=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new ot(H),this.started=!1,this.$s=[];var u=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.Os=Cg(this.persistenceKey,this.Ns),this.Ms=function(s){return"firestore_sequence_number_"+s}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new Ed),this.Ls=new RegExp("^firestore_clients_"+u+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+u+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+u+"_(\\d+)$"),this.Us=function(s){return"firestore_online_state_"+s}(this.persistenceKey),this.Ks=function(s){return"firestore_bundle_loaded_"+s}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(t){return!(!t||!t.localStorage)},e.prototype.start=function(){return T(this,void 0,void 0,function(){var t,n,r,i,o,u,s,a,l,c,f,h=this;return I(this,function(d){switch(d.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=d.sent(),n=0,r=t;n<r.length;n++)(i=r[n])!==this.Ns&&(o=this.getItem(Cg(this.persistenceKey,i)))&&(u=Ng.Vs(i,o))&&(this.Fs=this.Fs.insert(u.clientId,u));for(this.Qs(),(s=this.storage.getItem(this.Us))&&(a=this.js(s))&&this.Ws(a),l=0,c=this.$s;l<c.length;l++)f=c[l],this.ks(f);return this.$s=[],this.window.addEventListener("pagehide",function(){return h.shutdown()}),this.started=!0,[2]}})})},e.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},e.prototype.isActiveQueryTarget=function(t){var n=!1;return this.Fs.forEach(function(r,i){i.activeTargetIds.has(t)&&(n=!0)}),n},e.prototype.addPendingMutation=function(t){this.zs(t,"pending")},e.prototype.updateMutationState=function(t,n,r){this.zs(t,n,r),this.Hs(t)},e.prototype.addLocalQueryTarget=function(t){var n="not-current";if(this.isActiveQueryTarget(t)){var r=this.storage.getItem(zf(this.persistenceKey,t));if(r){var i=qf.Vs(t,r);i&&(n=i.state)}}return this.Js.Ds(t),this.Qs(),n},e.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},e.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){this.removeItem(zf(this.persistenceKey,t))},e.prototype.updateQueryState=function(t,n,r){this.Ys(t,n,r)},e.prototype.handleUserChange=function(t,n,r){var i=this;n.forEach(function(o){i.Hs(o)}),this.currentUser=t,r.forEach(function(o){i.addPendingMutation(o)})},e.prototype.setOnlineState=function(t){this.Xs(t)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(t){var n=this.storage.getItem(t);return x("SharedClientState","READ",t,n),n},e.prototype.setItem=function(t,n){x("SharedClientState","SET",t,n),this.storage.setItem(t,n)},e.prototype.removeItem=function(t){x("SharedClientState","REMOVE",t),this.storage.removeItem(t)},e.prototype.ks=function(t){var n=this,r=t;if(r.storageArea===this.storage){if(x("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Os)return void Ce("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return T(n,void 0,void 0,function(){var i,o,u,s,a,l;return I(this,function(c){if(this.started){if(r.key!==null){if(this.Ls.test(r.key)){if(r.newValue==null)return i=this.ti(r.key),[2,this.ei(i,null)];if(o=this.ni(r.key,r.newValue))return[2,this.ei(o.clientId,o)]}else if(this.Bs.test(r.key)){if(r.newValue!==null&&(u=this.si(r.key,r.newValue)))return[2,this.ii(u)]}else if(this.qs.test(r.key)){if(r.newValue!==null&&(s=this.ri(r.key,r.newValue)))return[2,this.oi(s)]}else if(r.key===this.Us){if(r.newValue!==null&&(a=this.js(r.newValue)))return[2,this.Ws(a)]}else if(r.key===this.Ms)(l=function(f){var h=Pt.o;if(f!=null)try{var d=JSON.parse(f);B(typeof d=="number"),h=d}catch(v){Ce("SharedClientState","Failed to read sequence number from WebStorage",v)}return h}(r.newValue))!==Pt.o&&this.sequenceNumberHandler(l);else if(r.key===this.Ks)return[2,this.syncEngine.ci()]}}else this.$s.push(r);return[2]})})})}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(t,n,r){var i=new kg(this.currentUser,t,n,r),o=bg(this.persistenceKey,this.currentUser,t);this.setItem(o,i.Ss())},e.prototype.Hs=function(t){var n=bg(this.persistenceKey,this.currentUser,t);this.removeItem(n)},e.prototype.Xs=function(t){var n={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(n))},e.prototype.Ys=function(t,n,r){var i=zf(this.persistenceKey,t),o=new qf(t,n,r);this.setItem(i,o.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(t){var n=this.Ls.exec(t);return n?n[1]:null},e.prototype.ni=function(t,n){var r=this.ti(t);return Ng.Vs(r,n)},e.prototype.si=function(t,n){var r=this.Bs.exec(t),i=Number(r[1]),o=r[2]!==void 0?r[2]:null;return kg.Vs(new Ue(o),i,n)},e.prototype.ri=function(t,n){var r=this.qs.exec(t),i=Number(r[1]);return qf.Vs(i,n)},e.prototype.js=function(t){return OD.Vs(t)},e.prototype.ii=function(t){return T(this,void 0,void 0,function(){return I(this,function(n){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(x("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},e.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},e.prototype.ei=function(t,n){var r=this,i=n?this.Fs.insert(t,n):this.Fs.remove(t),o=this.Gs(this.Fs),u=this.Gs(i),s=[],a=[];return u.forEach(function(l){o.has(l)||s.push(l)}),o.forEach(function(l){u.has(l)||a.push(l)}),this.syncEngine.hi(s,a).then(function(){r.Fs=i})},e.prototype.Ws=function(t){this.Fs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},e.prototype.Gs=function(t){var n=Dc();return t.forEach(function(r,i){n=n.unionWith(i.activeTargetIds)}),n},e}(),zE=function(){function e(){this.li=new Ed,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(t){},e.prototype.updateMutationState=function(t,n,r){},e.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},e.prototype.updateQueryState=function(t,n,r){this.fi[t]=n},e.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},e.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){delete this.fi[t]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.start=function(){return this.li=new Ed,Promise.resolve()},e.prototype.handleUserChange=function(t,n,r){},e.prototype.setOnlineState=function(t){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(t){},e.prototype.notifyBundleLoaded=function(){},e}(),LD=function(){function e(){}return e.prototype.di=function(t){},e.prototype.shutdown=function(){},e}(),xg=function(){function e(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return e.prototype.di=function(t){this.gi.push(t)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){x("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(0)},e.prototype.yi=function(){x("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(1)},e.yt=function(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0},e}(),$D={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},MD=function(){function e(t){this.Ei=t.Ei,this.Ti=t.Ti}return e.prototype.Ii=function(t){this.Ai=t},e.prototype.Ri=function(t){this.bi=t},e.prototype.onMessage=function(t){this.vi=t},e.prototype.close=function(){this.Ti()},e.prototype.send=function(t){this.Ei(t)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(t){this.bi(t)},e.prototype.Si=function(t){this.vi(t)},e}(),FD=function(e){function t(n){var r=this;return(r=e.call(this,n)||this).forceLongPolling=n.forceLongPolling,r.autoDetectLongPolling=n.autoDetectLongPolling,r.useFetchStreams=n.useFetchStreams,r}return U(t,e),t.prototype.Fi=function(n,r,i,o){return new Promise(function(u,s){var a=new vP;a.listenOnce(hP.COMPLETE,function(){try{switch(a.getLastErrorCode()){case Vf.NO_ERROR:var c=a.getResponseJson();x("Connection","XHR received:",JSON.stringify(c)),u(c);break;case Vf.TIMEOUT:x("Connection",'RPC "'+n+'" timed out'),s(new C(E.DEADLINE_EXCEEDED,"Request time out"));break;case Vf.HTTP_ERROR:var f=a.getStatus();if(x("Connection",'RPC "'+n+'" failed with status:',f,"response text:",a.getResponseText()),f>0){var h=a.getResponseJson().error;if(h&&h.status&&h.message){var d=function(v){var m=v.toLowerCase().replace(/_/g,"-");return Object.values(E).indexOf(m)>=0?m:E.UNKNOWN}(h.status);s(new C(d,h.message))}else s(new C(E.UNKNOWN,"Server responded with status "+a.getStatus()))}else s(new C(E.UNAVAILABLE,"Connection failed."));break;default:M()}}finally{x("Connection",'RPC "'+n+'" completed.')}});var l=JSON.stringify(o);a.send(r,"POST",l,i,15)})},t.prototype.Oi=function(n,r){var i=[this.Di,"/","google.firestore.v1.Firestore","/",n,"/channel"],o=cP(),u=fP(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(s.xmlHttpFactory=new pP({})),this.ki(s.initMessageHeaders,r),mN()||SN()||EN()||_N()||IN()||wN()||(s.httpHeadersOverwriteParam="$httpHeaders");var a=i.join("");x("Connection","Creating WebChannel: "+a,s);var l=o.createWebChannel(a,s),c=!1,f=!1,h=new MD({Ei:function(v){f?x("Connection","Not sending because WebChannel is closed:",v):(c||(x("Connection","Opening WebChannel transport."),l.open(),c=!0),x("Connection","WebChannel sending:",v),l.send(v))},Ti:function(){return l.close()}}),d=function(v,m,w){v.listen(m,function(y){try{w(y)}catch(p){setTimeout(function(){throw p},0)}})};return d(l,Js.EventType.OPEN,function(){f||x("Connection","WebChannel transport opened.")}),d(l,Js.EventType.CLOSE,function(){f||(f=!0,x("Connection","WebChannel transport closed"),h.Vi())}),d(l,Js.EventType.ERROR,function(v){f||(f=!0,fl("Connection","WebChannel transport errored:",v),h.Vi(new C(E.UNAVAILABLE,"The operation could not be completed")))}),d(l,Js.EventType.MESSAGE,function(v){var m;if(!f){var w=v.data[0];B(!!w);var y=w,p=y.error||((m=y[0])===null||m===void 0?void 0:m.error);if(p){x("Connection","WebChannel received error:",p);var g=p.status,S=function(b){var P=_e[b];if(P!==void 0)return dE(P)}(g),_=p.message;S===void 0&&(S=E.INTERNAL,_="Unknown error status: "+g+" with message "+p.message),f=!0,h.Vi(new C(S,_)),l.close()}else x("Connection","WebChannel received:",w),h.Si(w)}}),d(u,dP.STAT_EVENT,function(v){v.stat===Wm.PROXY?x("Connection","Detected buffering proxy"):v.stat===Wm.NOPROXY&&x("Connection","Detected no buffering proxy")}),setTimeout(function(){h.Pi()},0),h},t}(function(){function e(t){this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Di=n+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(t,n,r,i){var o=this.xi(t,n);x("RestConnection","Sending: ",o,r);var u={};return this.ki(u,i),this.Fi(t,o,u,r).then(function(s){return x("RestConnection","Received: ",s),s},function(s){throw fl("RestConnection",t+" failed with error: ",s,"url: ",o,"request:",r),s})},e.prototype.$i=function(t,n,r,i){return this.Ni(t,n,r,i)},e.prototype.ki=function(t,n){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n)for(var r in n.authHeaders)n.authHeaders.hasOwnProperty(r)&&(t[r]=n.authHeaders[r])},e.prototype.xi=function(t,n){var r=$D[t];return this.Di+"/v1/"+n+":"+r},e}());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qE(){return typeof window<"u"?window:null}function Sa(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rc(e){return new qP(e,!0)}var Cv=function(){function e(t,n,r,i,o){r===void 0&&(r=1e3),i===void 0&&(i=1.5),o===void 0&&(o=6e4),this.Se=t,this.timerId=n,this.Mi=r,this.Li=i,this.Bi=o,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(t){var n=this;this.cancel();var r=Math.floor(this.qi+this.Wi()),i=Math.max(0,Date.now()-this.Ki),o=Math.max(0,r-i);o>0&&x("ExponentialBackoff","Backing off for "+o+" ms (base delay: "+this.qi+" ms, delay with jitter: "+r+" ms, last attempt: "+i+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,o,function(){return n.Ki=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){this.Ui!==null&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){this.Ui!==null&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),KE=function(){function e(t,n,r,i,o,u){this.Se=t,this.zi=r,this.Hi=i,this.Ji=o,this.listener=u,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Cv(t,n)}return e.prototype.tr=function(){return this.state===1||this.state===2||this.state===4},e.prototype.er=function(){return this.state===2},e.prototype.start=function(){this.state!==3?this.auth():this.nr()},e.prototype.stop=function(){return T(this,void 0,void 0,function(){return I(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var t=this;this.er()&&this.Xi===null&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},e.prototype.cr=function(t){this.ur(),this.stream.send(t)},e.prototype.rr=function(){return T(this,void 0,void 0,function(){return I(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(t,n){return T(this,void 0,void 0,function(){return I(this,function(r){switch(r.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,t!==3?this.Zi.reset():n&&n.code===E.RESOURCE_EXHAUSTED?(Ce(n.toString()),Ce("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):n&&n.code===E.UNAUTHENTICATED&&this.Ji.invalidateToken(),this.stream!==null&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(n)];case 1:return r.sent(),[2]}})})},e.prototype.ar=function(){},e.prototype.auth=function(){var t=this;this.state=1;var n=this.hr(this.Yi),r=this.Yi;this.Ji.getToken().then(function(i){t.Yi===r&&t.lr(i)},function(i){n(function(){var o=new C(E.UNKNOWN,"Fetching auth token failed: "+i.message);return t.dr(o)})})},e.prototype.lr=function(t){var n=this,r=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){r(function(){return n.state=2,n.listener.Ii()})}),this.stream.Ri(function(i){r(function(){return n.dr(i)})}),this.stream.onMessage(function(i){r(function(){return n.onMessage(i)})})},e.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return T(t,void 0,void 0,function(){return I(this,function(n){return this.state=0,this.start(),[2]})})})},e.prototype.dr=function(t){return x("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},e.prototype.hr=function(t){var n=this;return function(r){n.Se.enqueueAndForget(function(){return n.Yi===t?r():(x("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},e}(),jD=function(e){function t(n,r,i,o,u){var s=this;return(s=e.call(this,n,"listen_stream_connection_backoff","listen_stream_idle",r,i,u)||this).R=o,s}return U(t,e),t.prototype.wr=function(n){return this.Hi.Oi("Listen",n)},t.prototype.onMessage=function(n){this.Zi.reset();var r=function(o,u){var s;if("targetChange"in u){u.targetChange;var a=function(w){return w==="NO_CHANGE"?0:w==="ADD"?1:w==="REMOVE"?2:w==="CURRENT"?3:w==="RESET"?4:M()}(u.targetChange.targetChangeType||"NO_CHANGE"),l=u.targetChange.targetIds||[],c=function(w,y){return w.I?(B(y===void 0||typeof y=="string"),_t.fromBase64String(y||"")):(B(y===void 0||y instanceof Uint8Array),_t.fromUint8Array(y||new Uint8Array))}(o,u.targetChange.resumeToken),f=(h=u.targetChange.cause)&&function(w){var y=w.code===void 0?E.UNKNOWN:dE(w.code);return new C(y,w.message||"")}(h);s=new vE(a,l,c,f||null)}else if("documentChange"in u){u.documentChange,(a=u.documentChange).document,a.document.name,a.document.updateTime,l=xn(o,a.document.name),c=ft(a.document.updateTime);var h=new Nt({mapValue:{fields:a.document.fields}}),d=(f=it.newFoundDocument(l,c,h),a.targetIds||[]),v=a.removedTargetIds||[];s=new wa(d,v,f.key,f)}else if("documentDelete"in u)u.documentDelete,(a=u.documentDelete).document,l=xn(o,a.document),c=a.readTime?ft(a.readTime):W.min(),h=it.newNoDocument(l,c),f=a.removedTargetIds||[],s=new wa([],f,h.key,h);else if("documentRemove"in u)u.documentRemove,(a=u.documentRemove).document,l=xn(o,a.document),c=a.removedTargetIds||[],s=new wa([],c,l,null);else{if(!("filter"in u))return M();u.filter;var m=u.filter;m.targetId,a=m.count||0,l=new OP(a),c=m.targetId,s=new pE(c,l)}return s}(this.R,n),i=function(o){if(!("targetChange"in o))return W.min();var u=o.targetChange;return u.targetIds&&u.targetIds.length?W.min():u.readTime?ft(u.readTime):W.min()}(n);return this.listener._r(r,i)},t.prototype.mr=function(n){var r={};r.database=Yu(this.R),r.addTarget=function(o,u){var s,a=u.target;return(s=pl(a)?{documents:SE(o,a)}:{query:EE(o,a)}).targetId=u.targetId,u.resumeToken.approximateByteSize()>0?s.resumeToken=yE(o,u.resumeToken):u.snapshotVersion.compareTo(W.min())>0&&(s.readTime=Qu(o,u.snapshotVersion.toTimestamp())),s}(this.R,n);var i=function(o,u){var s=function(a,l){switch(l){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return M()}}(0,u.purpose);return s==null?null:{"goog-listen-tags":s}}(this.R,n);i&&(r.labels=i),this.cr(r)},t.prototype.yr=function(n){var r={};r.database=Yu(this.R),r.removeTarget=n,this.cr(r)},t}(KE),UD=function(e){function t(n,r,i,o,u){var s=this;return(s=e.call(this,n,"write_stream_connection_backoff","write_stream_idle",r,i,u)||this).R=o,s.gr=!1,s}return U(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(n){return this.Hi.Oi("Write",n)},t.prototype.onMessage=function(n){if(B(!!n.streamToken),this.lastStreamToken=n.streamToken,this.gr){this.Zi.reset();var r=function(o,u){return o&&o.length>0?(B(u!==void 0),o.map(function(s){return function(a,l){var c=a.updateTime?ft(a.updateTime):ft(l);return c.isEqual(W.min())&&(c=ft(l)),new DP(c,a.transformResults||[])}(s,u)})):[]}(n.writeResults,n.commitTime),i=ft(n.commitTime);return this.listener.Tr(i,r)}return B(!n.writeResults||n.writeResults.length===0),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var n={};n.database=Yu(this.R),this.cr(n)},t.prototype.Er=function(n){var r=this,i={streamToken:this.lastStreamToken,writes:n.map(function(o){return ml(r.R,o)})};this.cr(i)},t}(KE),VD=function(e){function t(n,r,i){var o=this;return(o=e.call(this)||this).credentials=n,o.Hi=r,o.R=i,o.Rr=!1,o}return U(t,e),t.prototype.br=function(){if(this.Rr)throw new C(E.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(n,r,i){var o=this;return this.br(),this.credentials.getToken().then(function(u){return o.Hi.Ni(n,r,i,u)}).catch(function(u){throw u.name==="FirebaseError"?(u.code===E.UNAUTHENTICATED&&o.credentials.invalidateToken(),u):new C(E.UNKNOWN,u.toString())})},t.prototype.$i=function(n,r,i){var o=this;return this.br(),this.credentials.getToken().then(function(u){return o.Hi.$i(n,r,i,u)}).catch(function(u){throw u.name==="FirebaseError"?(u.code===E.UNAUTHENTICATED&&o.credentials.invalidateToken(),u):new C(E.UNKNOWN,u.toString())})},t.prototype.terminate=function(){this.Rr=!0},t}(function(){}),BD=function(){function e(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var t=this;this.vr===0&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},e.prototype.Nr=function(t){this.state==="Online"?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},e.prototype.set=function(t){this.kr(),this.vr=0,t==="Online"&&(this.Vr=!1),this.Dr(t)},e.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},e.prototype.Cr=function(t){var n="Could not reach Cloud Firestore backend. "+t+`
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Vr?(Ce(n),this.Vr=!1):x("OnlineStateTracker",n)},e.prototype.kr=function(){this.Pr!==null&&(this.Pr.cancel(),this.Pr=null)},e}(),zD=function(e,t,n,r,i){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(u){n.enqueueAndForget(function(){return T(o,void 0,void 0,function(){return I(this,function(s){switch(s.label){case 0:return Nr(this)?(x("RemoteStore","Restarting streams for network reachability change."),[4,function(a){return T(this,void 0,void 0,function(){var l;return I(this,function(c){switch(c.label){case 0:return(l=A(a)).Or.add(4),[4,Ro(l)];case 1:return c.sent(),l.Br.set("Unknown"),l.Or.delete(4),[4,Cs(l)];case 2:return c.sent(),[2]}})})}(this)]):[3,2];case 1:s.sent(),s.label=2;case 2:return[2]}})})})}),this.Br=new BD(n,r)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cs(e){return T(this,void 0,void 0,function(){var t,n;return I(this,function(r){switch(r.label){case 0:if(!Nr(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function Ro(e){return T(this,void 0,void 0,function(){var t,n;return I(this,function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function Oc(e,t){var n=A(e);n.$r.has(t.targetId)||(n.$r.set(t.targetId,t),Nv(n)?kv(n):Lo(n).er()&&bv(n,t))}function Xu(e,t){var n=A(e),r=Lo(n);n.$r.delete(t),r.er()&&WE(n,t),n.$r.size===0&&(r.er()?r.ir():Nr(n)&&n.Br.set("Unknown"))}function bv(e,t){e.qr.U(t.targetId),Lo(e).mr(t)}function WE(e,t){e.qr.U(t),Lo(e).yr(t)}function kv(e){e.qr=new VP({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),Lo(e).start(),e.Br.Sr()}function Nv(e){return Nr(e)&&!Lo(e).tr()&&e.$r.size>0}function Nr(e){return A(e).Or.size===0}function HE(e){e.qr=void 0}function qD(e){return T(this,void 0,void 0,function(){return I(this,function(t){return e.$r.forEach(function(n,r){bv(e,n)}),[2]})})}function KD(e,t){return T(this,void 0,void 0,function(){return I(this,function(n){return HE(e),Nv(e)?(e.Br.Nr(t),kv(e)):e.Br.set("Unknown"),[2]})})}function WD(e,t,n){return T(this,void 0,void 0,function(){var r,i,o;return I(this,function(u){switch(u.label){case 0:if(e.Br.set("Online"),!(t instanceof vE&&t.state===2&&t.cause))return[3,6];u.label=1;case 1:return u.trys.push([1,3,,5]),[4,function(s,a){return T(this,void 0,void 0,function(){var l,c,f,h;return I(this,function(d){switch(d.label){case 0:l=a.cause,c=0,f=a.targetIds,d.label=1;case 1:return c<f.length?(h=f[c],s.$r.has(h)?[4,s.remoteSyncer.rejectListen(h,l)]:[3,3]):[3,5];case 2:d.sent(),s.$r.delete(h),s.qr.removeTarget(h),d.label=3;case 3:d.label=4;case 4:return c++,[3,1];case 5:return[2]}})})}(e,t)];case 2:return u.sent(),[3,5];case 3:return r=u.sent(),x("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,_l(e,r)];case 4:return u.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof wa?e.qr.X(t):t instanceof pE?e.qr.rt(t):e.qr.et(t),n.isEqual(W.min()))return[3,13];u.label=7;case 7:return u.trys.push([7,11,,13]),[4,UE(e.localStore)];case 8:return i=u.sent(),n.compareTo(i)>=0?[4,function(s,a){var l=s.qr.ut(a);return l.targetChanges.forEach(function(c,f){if(c.resumeToken.approximateByteSize()>0){var h=s.$r.get(f);h&&s.$r.set(f,h.withResumeToken(c.resumeToken,a))}}),l.targetMismatches.forEach(function(c){var f=s.$r.get(c);if(f){s.$r.set(c,f.withResumeToken(_t.EMPTY_BYTE_STRING,f.snapshotVersion)),WE(s,c);var h=new Ac(f.target,c,1,f.sequenceNumber);bv(s,h)}}),s.remoteSyncer.applyRemoteEvent(l)}(e,n)]:[3,10];case 9:u.sent(),u.label=10;case 10:return[3,13];case 11:return x("RemoteStore","Failed to raise snapshot:",o=u.sent()),[4,_l(e,o)];case 12:return u.sent(),[3,13];case 13:return[2]}})})}function _l(e,t,n){return T(this,void 0,void 0,function(){var r=this;return I(this,function(i){switch(i.label){case 0:if(!yi(t))throw t;return e.Or.add(1),[4,Ro(e)];case 1:return i.sent(),e.Br.set("Offline"),n||(n=function(){return UE(e.localStore)}),e.asyncQueue.enqueueRetryable(function(){return T(r,void 0,void 0,function(){return I(this,function(o){switch(o.label){case 0:return x("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return o.sent(),e.Or.delete(1),[4,Cs(e)];case 2:return o.sent(),[2]}})})}),[2]}})})}function QE(e,t){return t().catch(function(n){return _l(e,n,t)})}function Oo(e){return T(this,void 0,void 0,function(){var t,n,r,i,o;return I(this,function(u){switch(u.label){case 0:t=A(e),n=Er(t),r=t.Fr.length>0?t.Fr[t.Fr.length-1].batchId:-1,u.label=1;case 1:if(!function(s){return Nr(s)&&s.Fr.length<10}(t))return[3,7];u.label=2;case 2:return u.trys.push([2,4,,6]),[4,TD(t.localStore,r)];case 3:return(i=u.sent())===null?(t.Fr.length===0&&n.ir(),[3,7]):(r=i.batchId,function(s,a){s.Fr.push(a);var l=Er(s);l.er()&&l.pr&&l.Er(a.mutations)}(t,i),[3,6]);case 4:return o=u.sent(),[4,_l(t,o)];case 5:return u.sent(),[3,6];case 6:return[3,1];case 7:return GE(t)&&YE(t),[2]}})})}function GE(e){return Nr(e)&&!Er(e).tr()&&e.Fr.length>0}function YE(e){Er(e).start()}function HD(e){return T(this,void 0,void 0,function(){return I(this,function(t){return Er(e).Ar(),[2]})})}function QD(e){return T(this,void 0,void 0,function(){var t,n,r,i;return I(this,function(o){for(t=Er(e),n=0,r=e.Fr;n<r.length;n++)i=r[n],t.Er(i.mutations);return[2]})})}function GD(e,t,n){return T(this,void 0,void 0,function(){var r,i;return I(this,function(o){switch(o.label){case 0:return r=e.Fr.shift(),i=oD.from(r,t,n),[4,QE(e,function(){return e.remoteSyncer.applySuccessfulWrite(i)})];case 1:return o.sent(),[4,Oo(e)];case 2:return o.sent(),[2]}})})}function YD(e,t){return T(this,void 0,void 0,function(){return I(this,function(n){switch(n.label){case 0:return t&&Er(e).pr?[4,function(r,i){return T(this,void 0,void 0,function(){var o,u;return I(this,function(s){switch(s.label){case 0:return hE(u=i.code)&&u!==E.ABORTED?(o=r.Fr.shift(),Er(r).sr(),[4,QE(r,function(){return r.remoteSyncer.rejectFailedWrite(o.batchId,i)})]):[3,3];case 1:return s.sent(),[4,Oo(r)];case 2:s.sent(),s.label=3;case 3:return[2]}})})}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return GE(e)&&YE(e),[2]}})})}function _d(e,t){return T(this,void 0,void 0,function(){var n;return I(this,function(r){switch(r.label){case 0:return n=A(e),t?(n.Or.delete(2),[4,Cs(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,Ro(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function Lo(e){var t=this;return e.Ur||(e.Ur=function(n,r,i){var o=A(n);return o.br(),new jD(r,o.Hi,o.credentials,o.R,i)}(e.datastore,e.asyncQueue,{Ii:qD.bind(null,e),Ri:KD.bind(null,e),_r:WD.bind(null,e)}),e.Mr.push(function(n){return T(t,void 0,void 0,function(){return I(this,function(r){switch(r.label){case 0:return n?(e.Ur.sr(),Nv(e)?kv(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:r.sent(),HE(e),r.label=3;case 3:return[2]}})})})),e.Ur}function Er(e){var t=this;return e.Kr||(e.Kr=function(n,r,i){var o=A(n);return o.br(),new UD(r,o.Hi,o.credentials,o.R,i)}(e.datastore,e.asyncQueue,{Ii:HD.bind(null,e),Ri:YD.bind(null,e),Ir:QD.bind(null,e),Tr:GD.bind(null,e)}),e.Mr.push(function(n){return T(t,void 0,void 0,function(){return I(this,function(r){switch(r.label){case 0:return n?(e.Kr.sr(),[4,Oo(e)]):[3,2];case 1:return r.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:r.sent(),e.Fr.length>0&&(x("RemoteStore","Stopping write stream with "+e.Fr.length+" pending writes"),e.Fr=[]),r.label=4;case 4:return[2]}})})})),e.Kr}var XD=function(){function e(t,n,r,i,o){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new It,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(u){})}return e.createAndSchedule=function(t,n,r,i,o){var u=new e(t,n,Date.now()+r,i,o);return u.start(r),u},e.prototype.start=function(t){var n=this;this.timerHandle=setTimeout(function(){return n.handleDelayElapsed()},t)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new C(E.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},e.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return t.timerHandle!==null?(t.clearTimeout(),t.op().then(function(n){return t.deferred.resolve(n)})):Promise.resolve()})},e.prototype.clearTimeout=function(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function $o(e,t){if(Ce("AsyncQueue",t+": "+e),yi(e))return new C(E.UNAVAILABLE,t+": "+e);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var XE=function(){function e(t){this.comparator=t?function(n,r){return t(n,r)||F.comparator(n.key,r.key)}:function(n,r){return F.comparator(n.key,r.key)},this.keyedMap=gd(),this.sortedSet=new ot(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(t){return this.keyedMap.get(t)!=null},e.prototype.get=function(t){return this.keyedMap.get(t)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(t){var n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(n,r){return t(n),!1})},e.prototype.add=function(t){var n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))},e.prototype.delete=function(t){var n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},e.prototype.toString=function(){var t=[];return this.forEach(function(n){t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),Pg=function(){function e(){this.Qr=new ot(F.comparator)}return e.prototype.track=function(t){var n=t.doc.key,r=this.Qr.get(n);r?t.type!==0&&r.type===3?this.Qr=this.Qr.insert(n,t):t.type===3&&r.type!==1?this.Qr=this.Qr.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.Qr=this.Qr.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.Qr=this.Qr.remove(n):t.type===1&&r.type===2?this.Qr=this.Qr.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):M():this.Qr=this.Qr.insert(n,t)},e.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal(function(n,r){t.push(r)}),t},e}(),Il=function(){function e(t,n,r,i,o,u,s,a){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=s,this.excludesMetadataChanges=a}return e.fromInitialDocuments=function(t,n,r,i){var o=[];return n.forEach(function(u){o.push({type:0,doc:u})}),new e(t,n,XE.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Ss(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0},e}(),JD=function(){this.Wr=void 0,this.listeners=[]},ZD=function(){this.queries=new Ao(function(e){return nE(e)},Ss),this.onlineState="Unknown",this.Gr=new Set};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xv(e,t){return T(this,void 0,void 0,function(){var n,r,i,o,u,s,a;return I(this,function(l){switch(l.label){case 0:if(n=A(e),r=t.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new JD),!i)return[3,4];l.label=1;case 1:return l.trys.push([1,3,,4]),u=o,[4,n.onListen(r)];case 2:return u.Wr=l.sent(),[3,4];case 3:return s=l.sent(),a=$o(s,"Initialization of query '"+yd(t.query)+"' failed"),[2,void t.onError(a)];case 4:return n.queries.set(r,o),o.listeners.push(t),t.zr(n.onlineState),o.Wr&&t.Hr(o.Wr)&&Dv(n),[2]}})})}function Pv(e,t){return T(this,void 0,void 0,function(){var n,r,i,o,u;return I(this,function(s){return n=A(e),r=t.query,i=!1,(o=n.queries.get(r))&&(u=o.listeners.indexOf(t))>=0&&(o.listeners.splice(u,1),i=o.listeners.length===0),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function e2(e,t){for(var n=A(e),r=!1,i=0,o=t;i<o.length;i++){var u=o[i],s=u.query,a=n.queries.get(s);if(a){for(var l=0,c=a.listeners;l<c.length;l++)c[l].Hr(u)&&(r=!0);a.Wr=u}}r&&Dv(n)}function t2(e,t,n){var r=A(e),i=r.queries.get(t);if(i)for(var o=0,u=i.listeners;o<u.length;o++)u[o].onError(n);r.queries.delete(t)}function Dv(e){e.Gr.forEach(function(t){t.next()})}var Av=function(){function e(t,n,r){this.query=t,this.Jr=n,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=r||{}}return e.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var n=[],r=0,i=t.docChanges;r<i.length;r++){var o=i[r];o.type!==3&&n.push(o)}t=new Il(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var u=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),u=!0):this.eo(t,this.onlineState)&&(this.no(t),u=!0),this.Xr=t,u},e.prototype.onError=function(t){this.Jr.error(t)},e.prototype.zr=function(t){this.onlineState=t;var n=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),n=!0),n},e.prototype.eo=function(t,n){if(!t.fromCache)return!0;var r=n!=="Offline";return!(this.options.so&&r||t.docs.isEmpty()&&n!=="Offline")},e.prototype.Zr=function(t){if(t.docChanges.length>0)return!0;var n=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0},e.prototype.no=function(t){t=Il.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var JE=function(e){this.key=e},ZE=function(e){this.key=e},e_=function(){function e(t,n){this.query=t,this.uo=n,this.ao=null,this.current=!1,this.ho=oe(),this.mutatedKeys=oe(),this.lo=rE(t),this.fo=new XE(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(t,n){var r=this,i=n?n.mo:new Pg,o=n?n.fo:this.fo,u=n?n.mutatedKeys:this.mutatedKeys,s=o,a=!1,l=ma(this.query)&&o.size===this.query.limit?o.last():null,c=yl(this.query)&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(function(h,d){var v=o.get(h),m=Es(r.query,d)?d:null,w=!!v&&r.mutatedKeys.has(v.key),y=!!m&&(m.hasLocalMutations||r.mutatedKeys.has(m.key)&&m.hasCommittedMutations),p=!1;v&&m?v.data.isEqual(m.data)?w!==y&&(i.track({type:3,doc:m}),p=!0):r.yo(v,m)||(i.track({type:2,doc:m}),p=!0,(l&&r.lo(m,l)>0||c&&r.lo(m,c)<0)&&(a=!0)):!v&&m?(i.track({type:0,doc:m}),p=!0):v&&!m&&(i.track({type:1,doc:v}),p=!0,(l||c)&&(a=!0)),p&&(m?(s=s.add(m),u=y?u.add(h):u.delete(h)):(s=s.delete(h),u=u.delete(h)))}),ma(this.query)||yl(this.query))for(;s.size>this.query.limit;){var f=ma(this.query)?s.last():s.first();s=s.delete(f.key),u=u.delete(f.key),i.track({type:1,doc:f})}return{fo:s,mo:i,Nn:a,mutatedKeys:u}},e.prototype.yo=function(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations},e.prototype.applyChanges=function(t,n,r){var i=this,o=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var u=t.mo.jr();u.sort(function(c,f){return function(h,d){var v=function(m){switch(m){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return M()}};return v(h)-v(d)}(c.type,f.type)||i.lo(c.doc,f.doc)}),this.po(r);var s=n?this.Eo():[],a=this.ho.size===0&&this.current?1:0,l=a!==this.ao;return this.ao=a,u.length!==0||l?{snapshot:new Il(this.query,t.fo,o,u,t.mutatedKeys,a===0,l,!1),To:s}:{To:s}},e.prototype.zr=function(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({fo:this.fo,mo:new Pg,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},e.prototype.po=function(t){var n=this;t&&(t.addedDocuments.forEach(function(r){return n.uo=n.uo.add(r)}),t.modifiedDocuments.forEach(function(r){}),t.removedDocuments.forEach(function(r){return n.uo=n.uo.delete(r)}),this.current=t.current)},e.prototype.Eo=function(){var t=this;if(!this.current)return[];var n=this.ho;this.ho=oe(),this.fo.forEach(function(i){t.Io(i.key)&&(t.ho=t.ho.add(i.key))});var r=[];return n.forEach(function(i){t.ho.has(i)||r.push(new ZE(i))}),this.ho.forEach(function(i){n.has(i)||r.push(new JE(i))}),r},e.prototype.Ao=function(t){this.uo=t.Bn,this.ho=oe();var n=this._o(t.documents);return this.applyChanges(n,!0)},e.prototype.Ro=function(){return Il.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,this.ao===0)},e}(),n2=function(e,t,n){this.query=e,this.targetId=t,this.view=n},r2=function(e){this.key=e,this.bo=!1},i2=function(){function e(t,n,r,i,o,u){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.vo={},this.Po=new Ao(function(s){return nE(s)},Ss),this.Vo=new Map,this.So=new Set,this.Do=new ot(F.comparator),this.Co=new Map,this.No=new Tv,this.xo={},this.ko=new Map,this.Fo=wl.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return this.$o===!0},enumerable:!1,configurable:!0}),e}();function o2(e,t){return T(this,void 0,void 0,function(){var n,r,i,o,u,s;return I(this,function(a){switch(a.label){case 0:return n=Mv(e),(o=n.Po.get(t))?(r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Ro(),[3,4]):[3,1];case 1:return[4,Sl(n.localStore,wn(t))];case 2:return u=a.sent(),s=n.sharedClientState.addLocalQueryTarget(u.targetId),r=u.targetId,[4,Rv(n,t,r,s==="current")];case 3:i=a.sent(),n.isPrimaryClient&&Oc(n.remoteStore,u),a.label=4;case 4:return[2,i]}})})}function Rv(e,t,n,r){return T(this,void 0,void 0,function(){var i,o,u,s,a,l;return I(this,function(c){switch(c.label){case 0:return e.Oo=function(f,h,d){return function(v,m,w,y){return T(this,void 0,void 0,function(){var p,g,S;return I(this,function(_){switch(_.label){case 0:return p=m.view._o(w),p.Nn?[4,El(v.localStore,m.query,!1).then(function(b){var P=b.documents;return m.view._o(P,p)})]:[3,2];case 1:p=_.sent(),_.label=2;case 2:return g=y&&y.targetChanges.get(m.targetId),S=m.view.applyChanges(p,v.isPrimaryClient,g),[2,(Id(v,m.targetId,S.To),S.snapshot)]}})})}(e,f,h,d)},[4,El(e.localStore,t,!0)];case 1:return i=c.sent(),o=new e_(t,i.Bn),u=o._o(i.documents),s=mv.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline"),a=o.applyChanges(u,e.isPrimaryClient,s),Id(e,n,a.To),l=new n2(t,n,o),[2,(e.Po.set(t,l),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),a.snapshot)]}})})}function u2(e,t){return T(this,void 0,void 0,function(){var n,r,i;return I(this,function(o){switch(o.label){case 0:return n=A(e),r=n.Po.get(t),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(u){return!Ss(u,t)})),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,wo(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),Xu(n.remoteStore,r.targetId),So(n,r.targetId)}).catch(mi)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return So(n,r.targetId),[4,wo(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function s2(e,t,n){return T(this,void 0,void 0,function(){var r,i,o,u;return I(this,function(s){switch(s.label){case 0:r=Fv(e),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,function(a,l){var c,f=A(a),h=Et.now(),d=l.reduce(function(v,m){return v.add(m.key)},oe());return f.persistence.runTransaction("Locally write mutations","readwrite",function(v){return f.Mn.pn(v,d).next(function(m){c=m;for(var w=[],y=0,p=l;y<p.length;y++){var g=p[y],S=RP(g,c.get(g.key));S!=null&&w.push(new kr(g.key,S,JS(S.value.mapValue),tt.exists(!0)))}return f._n.addMutationBatch(v,h,w,l)})}).then(function(v){return v.applyToLocalDocumentSet(c),{batchId:v.batchId,changes:c}})}(r.localStore,t)];case 2:return i=s.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(a,l,c){var f=a.xo[a.currentUser.toKey()];f||(f=new ot(H)),f=f.insert(l,c),a.xo[a.currentUser.toKey()]=f}(r,i.batchId,n),[4,xr(r,i.changes)];case 3:return s.sent(),[4,Oo(r.remoteStore)];case 4:return s.sent(),[3,6];case 5:return o=s.sent(),u=$o(o,"Failed to persist write"),n.reject(u),[3,6];case 6:return[2]}})})}function t_(e,t){return T(this,void 0,void 0,function(){var n,r;return I(this,function(i){switch(i.label){case 0:n=A(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,_D(n.localStore,t)];case 2:return r=i.sent(),t.targetChanges.forEach(function(o,u){var s=n.Co.get(u);s&&(B(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?s.bo=!0:o.modifiedDocuments.size>0?B(s.bo):o.removedDocuments.size>0&&(B(s.bo),s.bo=!1))}),[4,xr(n,r,t)];case 3:return i.sent(),[3,6];case 4:return[4,mi(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function Dg(e,t,n){var r=A(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){var i=[];r.Po.forEach(function(o,u){var s=u.view.zr(t);s.snapshot&&i.push(s.snapshot)}),function(o,u){var s=A(o);s.onlineState=u;var a=!1;s.queries.forEach(function(l,c){for(var f=0,h=c.listeners;f<h.length;f++)h[f].zr(u)&&(a=!0)}),a&&Dv(s)}(r.eventManager,t),i.length&&r.vo._r(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function a2(e,t,n){return T(this,void 0,void 0,function(){var r,i,o,u,s,a;return I(this,function(l){switch(l.label){case 0:return(r=A(e)).sharedClientState.updateQueryState(t,"rejected",n),i=r.Co.get(t),(o=i&&i.key)?(u=(u=new ot(F.comparator)).insert(o,it.newNoDocument(o,W.min())),s=oe().add(o),a=new yv(W.min(),new Map,new Ae(H),u,s),[4,t_(r,a)]):[3,2];case 1:return l.sent(),r.Do=r.Do.remove(o),r.Co.delete(t),$v(r),[3,4];case 2:return[4,wo(r.localStore,t,!1).then(function(){return So(r,t,n)}).catch(mi)];case 3:l.sent(),l.label=4;case 4:return[2]}})})}function l2(e,t){return T(this,void 0,void 0,function(){var n,r,i;return I(this,function(o){switch(o.label){case 0:n=A(e),r=t.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,ED(n.localStore,t)];case 2:return i=o.sent(),Lv(n,r,null),Ov(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,xr(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,mi(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function c2(e,t,n){return T(this,void 0,void 0,function(){var r,i;return I(this,function(o){switch(o.label){case 0:r=A(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(u,s){var a=A(u);return a.persistence.runTransaction("Reject batch","readwrite-primary",function(l){var c;return a._n.lookupMutationBatch(l,s).next(function(f){return B(f!==null),c=f.keys(),a._n.removeMutationBatch(l,f)}).next(function(){return a._n.performConsistencyCheck(l)}).next(function(){return a.Mn.pn(l,c)})})}(r.localStore,t)];case 2:return i=o.sent(),Lv(r,t,n),Ov(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,xr(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,mi(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function f2(e,t){return T(this,void 0,void 0,function(){var n,r,i,o,u;return I(this,function(s){switch(s.label){case 0:Nr((n=A(e)).remoteStore)||x("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,function(a){var l=A(a);return l.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(c){return l._n.getHighestUnacknowledgedBatchId(c)})}(n.localStore)];case 2:return(r=s.sent())===-1?[2,void t.resolve()]:((i=n.ko.get(r)||[]).push(t),n.ko.set(r,i),[3,4]);case 3:return o=s.sent(),u=$o(o,"Initialization of waitForPendingWrites() operation failed"),t.reject(u),[3,4];case 4:return[2]}})})}function Ov(e,t){(e.ko.get(t)||[]).forEach(function(n){n.resolve()}),e.ko.delete(t)}function Lv(e,t,n){var r=A(e),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.xo[r.currentUser.toKey()]=i}}function So(e,t,n){n===void 0&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,i=e.Vo.get(t);r<i.length;r++){var o=i[r];e.Po.delete(o),n&&e.vo.Mo(o,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach(function(u){e.No.containsKey(u)||n_(e,u)})}function n_(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);n!==null&&(Xu(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),$v(e))}function Id(e,t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof JE?(e.No.addReference(o.key,t),h2(e,o)):o instanceof ZE?(x("SyncEngine","Document no longer in limbo: "+o.key),e.No.removeReference(o.key,t),e.No.containsKey(o.key)||n_(e,o.key)):M()}}function h2(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(x("SyncEngine","New document in limbo: "+n),e.So.add(r),$v(e))}function $v(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new F(Z.fromString(t)),r=e.Fo.next();e.Co.set(r,new r2(n)),e.Do=e.Do.insert(n,r),Oc(e.remoteStore,new Ac(wn(ws(n.path)),r,2,Pt.o))}}function xr(e,t,n){return T(this,void 0,void 0,function(){var r,i,o,u;return I(this,function(s){switch(s.label){case 0:return r=A(e),i=[],o=[],u=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(a,l){u.push(r.Oo(l,t,n).then(function(c){if(c){r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c.fromCache?"not-current":"current"),i.push(c);var f=wD.Pn(l.targetId,c);o.push(f)}}))}),[4,Promise.all(u)]);case 1:return s.sent(),r.vo._r(i),[4,function(a,l){return T(this,void 0,void 0,function(){var c,f,h,d,v,m,w,y,p;return I(this,function(g){switch(g.label){case 0:c=A(a),g.label=1;case 1:return g.trys.push([1,3,,4]),[4,c.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(S){return k.forEach(l,function(_){return k.forEach(_.bn,function(b){return c.persistence.referenceDelegate.addReference(S,_.targetId,b)}).next(function(){return k.forEach(_.vn,function(b){return c.persistence.referenceDelegate.removeReference(S,_.targetId,b)})})})})];case 2:return g.sent(),[3,4];case 3:if(!yi(f=g.sent()))throw f;return x("LocalStore","Failed to update sequence numbers: "+f),[3,4];case 4:for(h=0,d=l;h<d.length;h++)v=d[h],m=v.targetId,v.fromCache||(w=c.kn.get(m),y=w.snapshotVersion,p=w.withLastLimboFreeSnapshotVersion(y),c.kn=c.kn.insert(m,p));return[2]}})})}(r.localStore,o)];case 2:s.sent(),s.label=3;case 3:return[2]}})})}function d2(e,t){return T(this,void 0,void 0,function(){var n,r;return I(this,function(i){switch(i.label){case 0:return(n=A(e)).currentUser.isEqual(t)?[3,3]:(x("SyncEngine","User change. New user:",t.toKey()),[4,jE(n.localStore,t)]);case 1:return r=i.sent(),n.currentUser=t,function(o,u){o.ko.forEach(function(s){s.forEach(function(a){a.reject(new C(E.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.ko.clear()}(n),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,xr(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function p2(e,t){var n=A(e),r=n.Co.get(t);if(r&&r.bo)return oe().add(r.key);var i=oe(),o=n.Vo.get(t);if(!o)return i;for(var u=0,s=o;u<s.length;u++){var a=s[u],l=n.Po.get(a);i=i.unionWith(l.view.wo)}return i}function v2(e,t){return T(this,void 0,void 0,function(){var n,r,i;return I(this,function(o){switch(o.label){case 0:return[4,El((n=A(e)).localStore,t.query,!0)];case 1:return r=o.sent(),i=t.view.Ao(r),[2,(n.isPrimaryClient&&Id(n,t.targetId,i.To),i)]}})})}function y2(e){return T(this,void 0,void 0,function(){var t;return I(this,function(n){return[2,BE((t=A(e)).localStore).then(function(r){return xr(t,r)})]})})}function m2(e,t,n,r){return T(this,void 0,void 0,function(){var i,o;return I(this,function(u){switch(u.label){case 0:return[4,function(s,a){var l=A(s),c=A(l._n);return l.persistence.runTransaction("Lookup mutation documents","readonly",function(f){return c.jt(f,a).next(function(h){return h?l.Mn.pn(f,h):k.resolve(null)})})}((i=A(e)).localStore,t)];case 1:return(o=u.sent())===null?[3,6]:n!=="pending"?[3,3]:[4,Oo(i.remoteStore)];case 2:return u.sent(),[3,4];case 3:n==="acknowledged"||n==="rejected"?(Lv(i,t,r||null),Ov(i,t),function(s,a){A(A(s)._n).Gt(a)}(i.localStore,t)):M(),u.label=4;case 4:return[4,xr(i,o)];case 5:return u.sent(),[3,7];case 6:x("SyncEngine","Cannot apply mutation batch with id: "+t),u.label=7;case 7:return[2]}})})}function g2(e,t){return T(this,void 0,void 0,function(){var n,r,i,o,u,s,a,l;return I(this,function(c){switch(c.label){case 0:return Mv(n=A(e)),Fv(n),t!==!0||n.$o===!0?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,Ag(n,r.toArray())]);case 1:return i=c.sent(),n.$o=!0,[4,_d(n.remoteStore,!0)];case 2:for(c.sent(),o=0,u=i;o<u.length;o++)s=u[o],Oc(n.remoteStore,s);return[3,7];case 3:return t!==!1||n.$o===!1?[3,7]:(a=[],l=Promise.resolve(),n.Vo.forEach(function(f,h){n.sharedClientState.isLocalQueryTarget(h)?a.push(h):l=l.then(function(){return So(n,h),wo(n.localStore,h,!0)}),Xu(n.remoteStore,h)}),[4,l]);case 4:return c.sent(),[4,Ag(n,a)];case 5:return c.sent(),function(f){var h=A(f);h.Co.forEach(function(d,v){Xu(h.remoteStore,v)}),h.No.ts(),h.Co=new Map,h.Do=new ot(F.comparator)}(n),n.$o=!1,[4,_d(n.remoteStore,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function Ag(e,t,n){return T(this,void 0,void 0,function(){var r,i,o,u,s,a,l,c,f,h,d,v,m,w;return I(this,function(y){switch(y.label){case 0:r=A(e),i=[],o=[],u=0,s=t,y.label=1;case 1:return u<s.length?(a=s[u],l=void 0,(c=r.Vo.get(a))&&c.length!==0?[4,Sl(r.localStore,wn(c[0]))]:[3,7]):[3,13];case 2:l=y.sent(),f=0,h=c,y.label=3;case 3:return f<h.length?(d=h[f],v=r.Po.get(d),[4,v2(r,v)]):[3,6];case 4:(m=y.sent()).snapshot&&o.push(m.snapshot),y.label=5;case 5:return f++,[3,3];case 6:return[3,11];case 7:return[4,VE(r.localStore,a)];case 8:return w=y.sent(),[4,Sl(r.localStore,w)];case 9:return l=y.sent(),[4,Rv(r,r_(w),a,!1)];case 10:y.sent(),y.label=11;case 11:i.push(l),y.label=12;case 12:return u++,[3,1];case 13:return[2,(r.vo._r(o),i)]}})})}function r_(e){return eE(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function w2(e){var t=A(e);return A(A(t.localStore).persistence).fn()}function S2(e,t,n,r){return T(this,void 0,void 0,function(){var i,o,u;return I(this,function(s){switch(s.label){case 0:return(i=A(e)).$o?(x("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,BE(i.localStore)];case 3:return o=s.sent(),u=yv.createSynthesizedRemoteEventForCurrentChange(t,n==="current"),[4,xr(i,o,u)];case 4:return s.sent(),[3,8];case 5:return[4,wo(i.localStore,t,!0)];case 6:return s.sent(),So(i,t,r),[3,8];case 7:M(),s.label=8;case 8:return[2]}})})}function E2(e,t,n){return T(this,void 0,void 0,function(){var r,i,o,u,s,a,l,c,f,h;return I(this,function(d){switch(d.label){case 0:if(!(r=Mv(e)).$o)return[3,10];i=0,o=t,d.label=1;case 1:return i<o.length?(u=o[i],r.Vo.has(u)?(x("SyncEngine","Adding an already active target "+u),[3,5]):[4,VE(r.localStore,u)]):[3,6];case 2:return s=d.sent(),[4,Sl(r.localStore,s)];case 3:return a=d.sent(),[4,Rv(r,r_(s),a.targetId,!1)];case 4:d.sent(),Oc(r.remoteStore,a),d.label=5;case 5:return i++,[3,1];case 6:l=function(v){return I(this,function(m){switch(m.label){case 0:return r.Vo.has(v)?[4,wo(r.localStore,v,!1).then(function(){Xu(r.remoteStore,v),So(r,v)}).catch(mi)]:[3,2];case 1:m.sent(),m.label=2;case 2:return[2]}})},c=0,f=n,d.label=7;case 7:return c<f.length?(h=f[c],[5,l(h)]):[3,10];case 8:d.sent(),d.label=9;case 9:return c++,[3,7];case 10:return[2]}})})}function Mv(e){var t=A(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=t_.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=p2.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=a2.bind(null,t),t.vo._r=e2.bind(null,t.eventManager),t.vo.Mo=t2.bind(null,t.eventManager),t}function Fv(e){var t=A(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=l2.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=c2.bind(null,t),t}var i_=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(t){return T(this,void 0,void 0,function(){return I(this,function(n){switch(n.label){case 0:return this.R=Rc(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return n.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}})})},e.prototype.Uo=function(t){return null},e.prototype.Ko=function(t){return FE(this.persistence,new ME,t.initialUser,this.R)},e.prototype.qo=function(t){return new DD(RD.bs,this.R)},e.prototype.Bo=function(t){return new zE},e.prototype.terminate=function(){return T(this,void 0,void 0,function(){return I(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},e}(),o_=function(e){function t(n,r,i){var o=this;return(o=e.call(this)||this).Qo=n,o.cacheSizeBytes=r,o.forceOwnership=i,o.synchronizeTabs=!1,o}return U(t,e),t.prototype.initialize=function(n){return T(this,void 0,void 0,function(){var r=this;return I(this,function(i){switch(i.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return i.sent(),[4,CD(this.localStore)];case 2:return i.sent(),[4,this.Qo.initialize(this,n)];case 3:return i.sent(),[4,Fv(this.Qo.syncEngine)];case 4:return i.sent(),[4,Oo(this.Qo.remoteStore)];case 5:return i.sent(),[4,this.persistence.He(function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()})];case 6:return i.sent(),[2]}})})},t.prototype.Ko=function(n){return FE(this.persistence,new ME,n.initialUser,this.R)},t.prototype.Uo=function(n){var r=this.persistence.referenceDelegate.garbageCollector;return new hD(r,n.asyncQueue)},t.prototype.qo=function(n){var r=Iv(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),i=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new gD(this.synchronizeTabs,r,n.clientId,i,n.asyncQueue,qE(),Sa(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(n){return new zE},t}(i_),_2=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r,!1)||this).Qo=n,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return U(t,e),t.prototype.initialize=function(n){return T(this,void 0,void 0,function(){var r,i=this;return I(this,function(o){switch(o.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return o.sent(),r=this.Qo.syncEngine,this.sharedClientState instanceof Kf?(this.sharedClientState.syncEngine={ui:m2.bind(null,r),ai:S2.bind(null,r),hi:E2.bind(null,r),fn:w2.bind(null,r),ci:y2.bind(null,r)},[4,this.sharedClientState.start()]):[3,3];case 2:o.sent(),o.label=3;case 3:return[4,this.persistence.He(function(u){return T(i,void 0,void 0,function(){return I(this,function(s){switch(s.label){case 0:return[4,g2(this.Qo.syncEngine,u)];case 1:return s.sent(),this.gcScheduler&&(u&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):u||this.gcScheduler.stop()),[2]}})})})];case 4:return o.sent(),[2]}})})},t.prototype.Bo=function(n){var r=qE();if(!Kf.yt(r))throw new C(E.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var i=Iv(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new Kf(r,n.asyncQueue,i,n.clientId,n.initialUser)},t}(o_),Td=function(){function e(){}return e.prototype.initialize=function(t,n){return T(this,void 0,void 0,function(){var r=this;return I(this,function(i){switch(i.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(o){return Dg(r.syncEngine,o,1)},this.remoteStore.remoteSyncer.handleCredentialChange=d2.bind(null,this.syncEngine),[4,_d(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.createEventManager=function(t){return new ZD},e.prototype.createDatastore=function(t){var n,r=Rc(t.databaseInfo.databaseId),i=(n=t.databaseInfo,new FD(n));return function(o,u,s){return new VD(o,u,s)}(t.credentials,i,r)},e.prototype.createRemoteStore=function(t){var n,r,i,o,u,s=this;return n=this.localStore,r=this.datastore,i=t.asyncQueue,o=function(a){return Dg(s.syncEngine,a,0)},u=xg.yt()?new xg:new LD,new zD(n,r,i,o,u)},e.prototype.createSyncEngine=function(t,n){return function(r,i,o,u,s,a,l){var c=new i2(r,i,o,u,s,a);return l&&(c.$o=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)},e.prototype.terminate=function(){return function(t){return T(this,void 0,void 0,function(){var n;return I(this,function(r){switch(r.label){case 0:return n=A(t),x("RemoteStore","RemoteStore shutting down."),n.Or.add(5),[4,Ro(n)];case 1:return r.sent(),n.Lr.shutdown(),n.Br.set("Unknown"),[2]}})})}(this.remoteStore)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lc=function(){function e(t){this.observer=t,this.muted=!1}return e.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},e.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(t,n){var r=this;this.muted||setTimeout(function(){r.muted||t(n)},0)},e}(),I2=function(){function e(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(t){return T(this,void 0,void 0,function(){var n,r=this;return I(this,function(i){switch(i.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new C(E.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(o,u){return T(this,void 0,void 0,function(){var s,a,l,c,f,h;return I(this,function(d){switch(d.label){case 0:return s=A(o),a=Yu(s.R)+"/documents",l={documents:u.map(function(v){return Gu(s.R,v)})},[4,s.$i("BatchGetDocuments",a,l)];case 1:return c=d.sent(),f=new Map,c.forEach(function(v){var m=function(w,y){return"found"in y?function(p,g){B(!!g.found),g.found.name,g.found.updateTime;var S=xn(p,g.found.name),_=ft(g.found.updateTime),b=new Nt({mapValue:{fields:g.found.fields}});return it.newFoundDocument(S,_,b)}(w,y):"missing"in y?function(p,g){B(!!g.missing),B(!!g.readTime);var S=xn(p,g.missing),_=ft(g.readTime);return it.newNoDocument(S,_)}(w,y):M()}(s.R,v);f.set(m.key.toString(),m)}),h=[],[2,(u.forEach(function(v){var m=f.get(v.toString());B(!!m),h.push(m)}),h)]}})})}(this.datastore,t)];case 1:return[2,((n=i.sent()).forEach(function(o){return r.recordVersion(o)}),n)]}})})},e.prototype.set=function(t,n){this.write(n.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.update=function(t,n){try{this.write(n.toMutation(t,this.preconditionForUpdate(t)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(t.toString())},e.prototype.delete=function(t){this.write(new Ts(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.commit=function(){return T(this,void 0,void 0,function(){var t,n=this;return I(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(i){t.delete(i.key.toString())}),t.forEach(function(i,o){var u=F.fromPath(o);n.mutations.push(new vv(u,n.precondition(u)))}),[4,function(i,o){return T(this,void 0,void 0,function(){var u,s,a;return I(this,function(l){switch(l.label){case 0:return u=A(i),s=Yu(u.R)+"/documents",a={writes:o.map(function(c){return ml(u.R,c)})},[4,u.Ni("Commit",s,a)];case 1:return l.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return r.sent(),this.committed=!0,[2]}})})},e.prototype.recordVersion=function(t){var n;if(t.isFoundDocument())n=t.version;else{if(!t.isNoDocument())throw M();n=W.min()}var r=this.readVersions.get(t.key.toString());if(r){if(!n.isEqual(r))throw new C(E.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),n)},e.prototype.precondition=function(t){var n=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&n?tt.updateTime(n):tt.none()},e.prototype.preconditionForUpdate=function(t){var n=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&n){if(n.isEqual(W.min()))throw new C(E.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return tt.updateTime(n)}return tt.exists(!0)},e.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},e.prototype.ensureCommitNotCalled=function(){},e}(),T2=function(){function e(t,n,r,i){this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.ec=5,this.Zi=new Cv(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var t=this;this.Zi.ji(function(){return T(t,void 0,void 0,function(){var n,r,i=this;return I(this,function(o){return n=new I2(this.datastore),(r=this.sc(n))&&r.then(function(u){i.asyncQueue.enqueueAndForget(function(){return n.commit().then(function(){i.deferred.resolve(u)}).catch(function(s){i.ic(s)})})}).catch(function(u){i.ic(u)}),[2]})})})},e.prototype.sc=function(t){try{var n=this.updateFunction(t);return!vi(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}},e.prototype.ic=function(t){var n=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return n.nc(),Promise.resolve()})):this.deferred.reject(t)},e.prototype.rc=function(t){if(t.name==="FirebaseError"){var n=t.code;return n==="aborted"||n==="failed-precondition"||!hE(n)}return!1},e}(),C2=function(){function e(t,n,r){var i=this;this.credentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Ue.UNAUTHENTICATED,this.clientId=WS.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(n,function(o){return T(i,void 0,void 0,function(){return I(this,function(u){switch(u.label){case 0:return x("FirestoreClient","Received user=",o.uid),[4,this.credentialListener(o)];case 1:return u.sent(),this.user=o,[2]}})})})}return e.prototype.getConfiguration=function(){return T(this,void 0,void 0,function(){return I(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},e.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new C(E.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var n=new It;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return T(t,void 0,void 0,function(){var r,i;return I(this,function(o){switch(o.label){case 0:return o.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:o.sent(),o.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:o.sent(),o.label=4;case 4:return this.credentials.removeChangeListener(),n.resolve(),[3,6];case 5:return r=o.sent(),i=$o(r,"Failed to shutdown persistence"),n.reject(i),[3,6];case 6:return[2]}})})}),n.promise},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u_(e,t){return T(this,void 0,void 0,function(){var n,r,i=this;return I(this,function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),x("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=o.sent(),[4,t.initialize(n)];case 2:return o.sent(),r=n.initialUser,e.setCredentialChangeListener(function(u){return T(i,void 0,void 0,function(){return I(this,function(s){switch(s.label){case 0:return r.isEqual(u)?[3,2]:[4,jE(t.localStore,u)];case 1:s.sent(),r=u,s.label=2;case 2:return[2]}})})}),t.persistence.setDatabaseDeletedListener(function(){return e.terminate()}),e.offlineComponents=t,[2]}})})}function s_(e,t){return T(this,void 0,void 0,function(){var n,r;return I(this,function(i){switch(i.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,jv(e)];case 1:return n=i.sent(),x("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=i.sent(),[4,t.initialize(n,r)];case 3:return i.sent(),e.setCredentialChangeListener(function(o){return function(u,s){return T(this,void 0,void 0,function(){var a,l;return I(this,function(c){switch(c.label){case 0:return(a=A(u)).asyncQueue.verifyOperationInProgress(),x("RemoteStore","RemoteStore received new credentials"),l=Nr(a),a.Or.add(3),[4,Ro(a)];case 1:return c.sent(),l&&a.Br.set("Unknown"),[4,a.remoteSyncer.handleCredentialChange(s)];case 2:return c.sent(),a.Or.delete(3),[4,Cs(a)];case 3:return c.sent(),[2]}})})}(t.remoteStore,o)}),e.onlineComponents=t,[2]}})})}function jv(e){return T(this,void 0,void 0,function(){return I(this,function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(x("FirestoreClient","Using default OfflineComponentProvider"),[4,u_(e,new i_)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}})})}function $c(e){return T(this,void 0,void 0,function(){return I(this,function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(x("FirestoreClient","Using default OnlineComponentProvider"),[4,s_(e,new Td)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}})})}function Rg(e){return jv(e).then(function(t){return t.persistence})}function a_(e){return jv(e).then(function(t){return t.localStore})}function Og(e){return $c(e).then(function(t){return t.remoteStore})}function l_(e){return $c(e).then(function(t){return t.syncEngine})}function Eo(e){return T(this,void 0,void 0,function(){var t,n;return I(this,function(r){switch(r.label){case 0:return[4,$c(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=o2.bind(null,t.syncEngine),n.onUnlisten=u2.bind(null,t.syncEngine),n)]}})})}function Lg(e,t,n){var r=this;n===void 0&&(n={});var i=new It;return e.asyncQueue.enqueueAndForget(function(){return T(r,void 0,void 0,function(){var o;return I(this,function(u){switch(u.label){case 0:return o=function(s,a,l,c,f){var h=new Lc({next:function(v){a.enqueueAndForget(function(){return Pv(s,d)});var m=v.docs.has(l);!m&&v.fromCache?f.reject(new C(E.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&v.fromCache&&c&&c.source==="server"?f.reject(new C(E.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(v)},error:function(v){return f.reject(v)}}),d=new Av(ws(l.path),h,{includeMetadataChanges:!0,so:!0});return xv(s,d)},[4,Eo(e)];case 1:return[2,o.apply(void 0,[u.sent(),e.asyncQueue,t,n,i])]}})})}),i.promise}function $g(e,t,n){var r=this;n===void 0&&(n={});var i=new It;return e.asyncQueue.enqueueAndForget(function(){return T(r,void 0,void 0,function(){var o;return I(this,function(u){switch(u.label){case 0:return o=function(s,a,l,c,f){var h=new Lc({next:function(v){a.enqueueAndForget(function(){return Pv(s,d)}),v.fromCache&&c.source==="server"?f.reject(new C(E.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(v)},error:function(v){return f.reject(v)}}),d=new Av(l,h,{includeMetadataChanges:!0,so:!0});return xv(s,d)},[4,Eo(e)];case 1:return[2,o.apply(void 0,[u.sent(),e.asyncQueue,t,n,i])]}})})}),i.promise}var b2=function(e,t,n,r,i,o,u,s){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s},Tl=function(){function e(t,n){this.projectId=t,this.database=n||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return this.database==="(default)"},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),Mg=new Map,c_=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},Fg=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){this.changeListener=n,t.enqueueRetryable(function(){return n(Ue.UNAUTHENTICATED)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),k2=function(){function e(t){this.token=t,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){var r=this;this.changeListener=n,t.enqueueRetryable(function(){return n(r.token.user)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),N2=function(){function e(t){var n=this;this.currentUser=Ue.UNAUTHENTICATED,this.oc=new It,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){n.cc++,n.currentUser=n.ac(),n.oc.resolve(),n.changeListener&&n.asyncQueue.enqueueRetryable(function(){return n.changeListener(n.currentUser)})};var r=function(i){x("FirebaseCredentialsProvider","Auth detected"),n.auth=i,n.auth.addAuthTokenListener(n.uc)};t.onInit(function(i){return r(i)}),setTimeout(function(){if(!n.auth){var i=t.getImmediate({optional:!0});i?r(i):(x("FirebaseCredentialsProvider","Auth not yet detected"),n.oc.resolve())}},0)}return e.prototype.getToken=function(){var t=this,n=this.cc,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(function(i){return t.cc!==n?(x("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):i?(B(typeof i.accessToken=="string"),new c_(i.accessToken,t.currentUser)):null}):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(t,n){var r=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable(function(){return T(r,void 0,void 0,function(){return I(this,function(i){switch(i.label){case 0:return[4,this.oc.promise];case 1:return i.sent(),[4,n(this.currentUser)];case 2:return i.sent(),this.changeListener=n,[2]}})})})},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return B(t===null||typeof t=="string"),new Ue(t)},e}(),x2=function(){function e(t,n,r){this.hc=t,this.lc=n,this.fc=r,this.type="FirstParty",this.user=Ue.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},n=this.hc.auth.getAuthHeaderValueForFirstParty([]);return n&&(t.Authorization=n),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),e}(),P2=function(){function e(t,n,r){this.hc=t,this.lc=n,this.fc=r}return e.prototype.getToken=function(){return Promise.resolve(new x2(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(t,n){t.enqueueRetryable(function(){return n(Ue.FIRST_PARTY)})},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uv(e,t,n){if(!n)throw new C(E.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function Vv(e,t){if(t===void 0)return{merge:!1};if(t.mergeFields!==void 0&&t.merge!==void 0)throw new C(E.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function f_(e,t,n,r){if(t===!0&&r===!0)throw new C(E.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function jg(e){if(!F.isDocumentKey(e))throw new C(E.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function Ug(e){if(F.isDocumentKey(e))throw new C(E.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function Mc(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";var t=function(n){if(n.constructor){var r=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(r&&r.length>1)return r[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return typeof e=="function"?"a function":M()}function ee(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new C(E.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Mc(e);throw new C(E.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function Vg(e,t){if(t<=0)throw new C(E.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bg=function(){function e(t){var n;if(t.host===void 0){if(t.ssl!==void 0)throw new C(E.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new C(E.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,f_("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},e}(),Ju=function(){function e(t,n){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Bg({}),this._settingsFrozen=!1,t instanceof Tl?(this._databaseId=t,this._credentials=new Fg):(this._app=t,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new C(E.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Tl(r.options.projectId)}(t),this._credentials=new N2(n))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new C(E.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return this._terminateTask!==void 0},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(t){if(this._settingsFrozen)throw new C(E.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Bg(t),t.credentials!==void 0&&(this._credentials=function(n){if(!n)return new Fg;switch(n.type){case"gapi":var r=n.client;return B(!(typeof r!="object"||r===null||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new P2(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new C(E.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return t=this,(n=Mg.get(t))&&(x("ComponentProvider","Removing Datastore"),Mg.delete(t),n.terminate()),Promise.resolve();var t,n},e}(),de=function(){function e(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new vr(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),Rt=function(){function e(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),vr=function(e){function t(n,r,i){var o=this;return(o=e.call(this,n,r,ws(i))||this)._path=i,o.type="collection",o}return U(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._path.popLast();return n.isEmpty()?null:new de(this.firestore,null,new F(n))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(n){return new t(this.firestore,n,this._path)},t}(Rt);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h_(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=be(e),Uv("collection","path",t),e instanceof Ju)return Ug(n=Z.fromString.apply(Z,ge([t],r))),new vr(e,null,n);if(!(e instanceof de||e instanceof vr))throw new C(E.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Ug(n=Z.fromString.apply(Z,ge([e.path],r)).child(Z.fromString(t))),new vr(e.firestore,null,n)}function Ea(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=be(e),arguments.length===1&&(t=WS.u()),Uv("doc","path",t),e instanceof Ju)return jg(n=Z.fromString.apply(Z,ge([t],r))),new de(e,null,new F(n));if(!(e instanceof de||e instanceof vr))throw new C(E.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return jg(n=e._path.child(Z.fromString.apply(Z,ge([t],r)))),new de(e.firestore,e instanceof vr?e.converter:null,new F(n))}function d_(e,t){return e=be(e),t=be(t),(e instanceof de||e instanceof vr)&&(t instanceof de||t instanceof vr)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function p_(e,t){return e=be(e),t=be(t),e instanceof Rt&&t instanceof Rt&&e.firestore===t.firestore&&Ss(e._query,t._query)&&e.converter===t.converter}var D2=function(){function e(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new Cv(this,"async_queue_retry"),this.Ic=function(){var r=Sa();r&&x("AsyncQueue","Visibility state changed to "+r.visibilityState),t.Zi.Gi()};var n=Sa();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(t){this.enqueue(t)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},e.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var n=Sa();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Ic)}},e.prototype.enqueue=function(t){var n=this;if(this.Ac(),this._c)return new Promise(function(){});var r=new It;return this.Rc(function(){return n._c&&n.Ec?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)}).then(function(){return r.promise})},e.prototype.enqueueRetryable=function(t){var n=this;this.enqueueAndForget(function(){return n.wc.push(t),n.bc()})},e.prototype.bc=function(){return T(this,void 0,void 0,function(){var t,n=this;return I(this,function(r){switch(r.label){case 0:if(this.wc.length===0)return[3,5];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return r.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!yi(t=r.sent()))throw t;return x("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return n.bc()}),r.label=5;case 5:return[2]}})})},e.prototype.Rc=function(t){var n=this,r=this.dc.then(function(){return n.gc=!0,t().catch(function(i){throw n.yc=i,n.gc=!1,Ce("INTERNAL UNHANDLED ERROR: ",function(o){var u=o.message||"";return o.stack&&(u=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),u}(i)),i}).then(function(i){return n.gc=!1,i})});return this.dc=r,r},e.prototype.enqueueAfterDelay=function(t,n,r){var i=this;this.Ac(),this.Tc.indexOf(t)>-1&&(n=0);var o=XD.createAndSchedule(this,t,n,r,function(u){return i.vc(u)});return this.mc.push(o),o},e.prototype.Ac=function(){this.yc&&M()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Pc=function(){return T(this,void 0,void 0,function(){var t;return I(this,function(n){switch(n.label){case 0:return[4,t=this.dc];case 1:n.sent(),n.label=2;case 2:if(t!==this.dc)return[3,0];n.label=3;case 3:return[2]}})})},e.prototype.Vc=function(t){for(var n=0,r=this.mc;n<r.length;n++)if(r[n].timerId===t)return!0;return!1},e.prototype.Sc=function(t){var n=this;return this.Pc().then(function(){n.mc.sort(function(u,s){return u.targetTimeMs-s.targetTimeMs});for(var r=0,i=n.mc;r<i.length;r++){var o=i[r];if(o.skipDelay(),t!=="all"&&o.timerId===t)break}return n.Pc()})},e.prototype.Dc=function(t){this.Tc.push(t)},e.prototype.vc=function(t){var n=this.mc.indexOf(t);this.mc.splice(n,1)},e}();function _o(e){return function(t,n){if(typeof t!="object"||t===null)return!1;for(var r=t,i=0,o=["next","error","complete"];i<o.length;i++){var u=o[i];if(u in r&&typeof r[u]=="function")return!0}return!1}(e)}var A2=-1,Pe=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r)||this).type="firestore",i._queue=new D2,i._persistenceKey="name"in n?n.name:"[DEFAULT]",i}return U(t,e),t.prototype._terminate=function(){return this._firestoreClient||v_(this),this._firestoreClient.terminate()},t}(Ju);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ze(e){return e._firestoreClient||v_(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function v_(e){var t,n=e._freezeSettings(),r=function(i,o,u,s){return new b2(i,o,u,s.host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling,s.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new C2(e._credentials,e._queue,r)}function zg(e,t,n){var r=this,i=new It;return e.asyncQueue.enqueue(function(){return T(r,void 0,void 0,function(){var o;return I(this,function(u){switch(u.label){case 0:return u.trys.push([0,3,,4]),[4,u_(e,n)];case 1:return u.sent(),[4,s_(e,t)];case 2:return u.sent(),i.resolve(),[3,4];case 3:if(!function(s){return s.name==="FirebaseError"?s.code===E.FAILED_PRECONDITION||s.code===E.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(o=u.sent()))throw o;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+o),i.reject(o),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function qg(e){if(e._initialized||e._terminated)throw new C(E.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mn=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=0;r<t.length;++r)if(t[r].length===0)throw new C(E.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sn(t)}return e.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},e}(),li=function(){function e(t){this._byteString=t}return e.fromBase64String=function(t){try{return new e(_t.fromBase64String(t))}catch(n){throw new C(E.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},e.fromUint8Array=function(t){return new e(_t.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},e}(),gi=function(e){this._methodName=e},Fc=function(){function e(t,n){if(!isFinite(t)||t<-90||t>90)throw new C(E.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new C(E.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(t){return H(this._lat,t._lat)||H(this._long,t._long)},e}(),R2=/^__.*__$/,O2=function(){function e(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}return e.prototype.toMutation=function(t,n){return this.fieldMask!==null?new kr(t,this.data,this.fieldMask,n,this.fieldTransforms):new Is(t,this.data,n,this.fieldTransforms)},e}(),y_=function(){function e(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}return e.prototype.toMutation=function(t,n){return new kr(t,this.data,this.fieldMask,n,this.fieldTransforms)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m_(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw M()}}var g_=function(){function e(t,n,r,i,o,u){this.settings=t,this.databaseId=n,this.R=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Cc(),this.fieldTransforms=o||[],this.fieldMask=u||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),e.prototype.xc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.kc=function(t){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.xc({path:r,Fc:!1});return i.$c(t),i},e.prototype.Oc=function(t){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.xc({path:r,Fc:!1});return i.Cc(),i},e.prototype.Mc=function(t){return this.xc({path:void 0,Fc:!0})},e.prototype.Lc=function(t){return Cl(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},e.prototype.contains=function(t){return this.fieldMask.find(function(n){return t.isPrefixOf(n)})!==void 0||this.fieldTransforms.find(function(n){return t.isPrefixOf(n.field)})!==void 0},e.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},e.prototype.$c=function(t){if(t.length===0)throw this.Lc("Document fields must not be empty");if(m_(this.Nc)&&R2.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},e}(),L2=function(){function e(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.R=r||Rc(t)}return e.prototype.Uc=function(t,n,r,i){return i===void 0&&(i=!1),new g_({Nc:t,methodName:n,qc:r,path:sn.emptyPath(),Fc:!1,Bc:i},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function wi(e){var t=e._freezeSettings(),n=Rc(e._databaseId);return new L2(e._databaseId,!!t.ignoreUndefinedProperties,n)}function jc(e,t,n,r,i,o){o===void 0&&(o={});var u=e.Uc(o.merge||o.mergeFields?2:0,t,n,i);Kv("Data must be an object, but it was:",u,r);var s,a,l=E_(r,u);if(o.merge)s=new so(u.fieldMask),a=u.fieldTransforms;else if(o.mergeFields){for(var c=[],f=0,h=o.mergeFields;f<h.length;f++){var d=Cd(t,h[f],n);if(!u.contains(d))throw new C(E.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");I_(c,d)||c.push(d)}s=new so(c),a=u.fieldTransforms.filter(function(v){return s.covers(v.field)})}else s=null,a=u.fieldTransforms;return new O2(new Nt(l),s,a)}var Bv=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return U(t,e),t.prototype._toFieldTransform=function(n){if(n.Nc!==2)throw n.Nc===1?n.Lc(this._methodName+"() can only appear at the top level of your update data"):n.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return n.fieldMask.push(n.path),null},t.prototype.isEqual=function(n){return n instanceof t},t}(gi);function w_(e,t,n){return new g_({Nc:3,qc:t.settings.qc,methodName:e._methodName,Fc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var $2=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return U(t,e),t.prototype._toFieldTransform=function(n){return new _s(n.path,new fo)},t.prototype.isEqual=function(n){return n instanceof t},t}(gi),M2=function(e){function t(n,r){var i=this;return(i=e.call(this,n)||this).Kc=r,i}return U(t,e),t.prototype._toFieldTransform=function(n){var r=w_(this,n,!0),i=this.Kc.map(function(u){return Si(u,r)}),o=new si(i);return new _s(n.path,o)},t.prototype.isEqual=function(n){return this===n},t}(gi),F2=function(e){function t(n,r){var i=this;return(i=e.call(this,n)||this).Kc=r,i}return U(t,e),t.prototype._toFieldTransform=function(n){var r=w_(this,n,!0),i=this.Kc.map(function(u){return Si(u,r)}),o=new ai(i);return new _s(n.path,o)},t.prototype.isEqual=function(n){return this===n},t}(gi),j2=function(e){function t(n,r){var i=this;return(i=e.call(this,n)||this).Qc=r,i}return U(t,e),t.prototype._toFieldTransform=function(n){var r=new ho(n.R,uE(n.R,this.Qc));return new _s(n.path,r)},t.prototype.isEqual=function(n){return this===n},t}(gi);function zv(e,t,n,r){var i=e.Uc(1,t,n);Kv("Data must be an object, but it was:",i,r);var o=[],u=Nt.empty();pi(r,function(a,l){var c=Wv(t,a,n);l=be(l);var f=i.Oc(c);if(l instanceof Bv)o.push(c);else{var h=Si(l,f);h!=null&&(o.push(c),u.set(c,h))}});var s=new so(o);return new y_(u,s,i.fieldTransforms)}function qv(e,t,n,r,i,o){var u=e.Uc(1,t,n),s=[Cd(t,r,n)],a=[i];if(o.length%2!=0)throw new C(E.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var l=0;l<o.length;l+=2)s.push(Cd(t,o[l])),a.push(o[l+1]);for(var c=[],f=Nt.empty(),h=s.length-1;h>=0;--h)if(!I_(c,s[h])){var d=s[h],v=a[h];v=be(v);var m=u.Oc(d);if(v instanceof Bv)c.push(d);else{var w=Si(v,m);w!=null&&(c.push(d),f.set(d,w))}}var y=new so(c);return new y_(f,y,u.fieldTransforms)}function S_(e,t,n,r){return r===void 0&&(r=!1),Si(n,e.Uc(r?4:3,t))}function Si(e,t){if(__(e=be(e)))return Kv("Unsupported field value:",t,e),E_(e,t);if(e instanceof gi)return function(n,r){if(!m_(r.Nc))throw r.Lc(n._methodName+"() can only be used with update() and set()");if(!r.path)throw r.Lc(n._methodName+"() is not currently supported inside arrays");var i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&t.Nc!==4)throw t.Lc("Nested arrays are not supported");return function(n,r){for(var i=[],o=0,u=0,s=n;u<s.length;u++){var a=Si(s[u],r.Mc(o));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),o++}return{arrayValue:{values:i}}}(e,t)}return function(n,r){if((n=be(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return uE(r.R,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){var i=Et.fromDate(n);return{timestampValue:Qu(r.R,i)}}if(n instanceof Et)return i=new Et(n.seconds,1e3*Math.floor(n.nanoseconds/1e3)),{timestampValue:Qu(r.R,i)};if(n instanceof Fc)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof li)return{bytesValue:yE(r.R,n._byteString)};if(n instanceof de){i=r.databaseId;var o=n.firestore._databaseId;if(!o.isEqual(i))throw r.Lc("Document reference is for database "+o.projectId+"/"+o.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:gv(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.Lc("Unsupported field value: "+Mc(n))}(e,t)}function E_(e,t){var n={};return QS(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):pi(e,function(r,i){var o=Si(i,t.kc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function __(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Et||e instanceof Fc||e instanceof li||e instanceof de||e instanceof gi)}function Kv(e,t,n){if(!__(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){var r=Mc(n);throw r==="an object"?t.Lc(e+" a custom object"):t.Lc(e+" "+r)}}function Cd(e,t,n){if((t=be(t))instanceof mn)return t._internalPath;if(typeof t=="string")return Wv(e,t);throw Cl("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var U2=new RegExp("[~\\*/\\[\\]]");function Wv(e,t,n){if(t.search(U2)>=0)throw Cl("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return new(mn.bind.apply(mn,ge([void 0],t.split("."))))()._internalPath}catch{throw Cl("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function Cl(e,t,n,r,i){var o=r&&!r.isEmpty(),u=i!==void 0,s="Function "+t+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var a="";return(o||u)&&(a+=" (found",o&&(a+=" in field "+r),u&&(a+=" in document "+i),a+=")"),new C(E.INVALID_ARGUMENT,(s+=". ")+e+a)}function I_(e,t){return e.some(function(n){return n.isEqual(t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zu=function(){function e(t,n,r,i,o){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new de(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return this._document!==null},e.prototype.data=function(){if(this._document){if(this._converter){var t=new V2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(t){if(this._document){var n=this._document.data.field(bl("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}},e}(),V2=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return U(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(Zu);function bl(e,t){return typeof t=="string"?Wv(e,t):t instanceof mn?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qr=function(){function e(t,n){this.hasPendingWrites=t,this.fromCache=n}return e.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},e}(),Dn=function(e){function t(n,r,i,o,u,s){var a=this;return(a=e.call(this,n,r,i,o,s)||this)._firestore=n,a._firestoreImpl=n,a.metadata=u,a}return U(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(n){if(n===void 0&&(n={}),this._document){if(this._converter){var r=new vu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}},t.prototype.get=function(n,r){if(r===void 0&&(r={}),this._document){var i=this._document.data.field(bl("DocumentSnapshot.get",n));if(i!==null)return this._userDataWriter.convertValue(i,r.serverTimestamps)}},t}(Zu),vu=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return U(t,e),t.prototype.data=function(n){return n===void 0&&(n={}),e.prototype.data.call(this,n)},t}(Dn),Jn=function(){function e(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new qr(i.hasPendingWrites,i.fromCache),this.query=r}return Object.defineProperty(e.prototype,"docs",{get:function(){var t=[];return this.forEach(function(n){return t.push(n)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.size===0},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t,n){var r=this;this._snapshot.docs.forEach(function(i){t.call(n,new vu(r._firestore,r._userDataWriter,i.key,i,new qr(r._snapshot.mutatedKeys.has(i.key),r._snapshot.fromCache),r.query.converter))})},e.prototype.docChanges=function(t){t===void 0&&(t={});var n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new C(E.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){var o=0;return r._snapshot.docChanges.map(function(s){return{type:"added",doc:new vu(r._firestore,r._userDataWriter,s.doc.key,s.doc,new qr(r._snapshot.mutatedKeys.has(s.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:o++}})}var u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(function(s){return i||s.type!==3}).map(function(s){var a=new vu(r._firestore,r._userDataWriter,s.doc.key,s.doc,new qr(r._snapshot.mutatedKeys.has(s.doc.key),r._snapshot.fromCache),r.query.converter),l=-1,c=-1;return s.type!==0&&(l=u.indexOf(s.doc.key),u=u.delete(s.doc.key)),s.type!==1&&(c=(u=u.add(s.doc)).indexOf(s.doc.key)),{type:B2(s.type),doc:a,oldIndex:l,newIndex:c}})}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges},e}();function B2(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return M()}}function T_(e,t){return e instanceof Dn&&t instanceof Dn?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(e._document===null?t._document===null:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Jn&&t instanceof Jn&&e._firestore===t._firestore&&p_(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C_(e){if(yl(e)&&e.explicitOrderBy.length===0)throw new C(E.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var bs=function(){};function zn(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){var o=i[r];e=o._apply(e)}return e}var z2=function(e){function t(n,r,i){var o=this;return(o=e.call(this)||this).jc=n,o.Wc=r,o.Gc=i,o.type="where",o}return U(t,e),t.prototype._apply=function(n){var r=wi(n.firestore),i=function(o,u,s,a,l,c,f){var h;if(l.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new C(E.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+c+"' queries on FieldPath.documentId().");if(c==="in"||c==="not-in"){Gg(f,c);for(var d=[],v=0,m=f;v<m.length;v++){var w=m[v];d.push(Qg(a,o,w))}h={arrayValue:{values:d}}}else h=Qg(a,o,f)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||Gg(f,c),h=S_(s,"where",f,c==="in"||c==="not-in");var y=Dt.create(l,c,h);return function(p,g){if(g.g()){var S=dv(p);if(S!==null&&!S.isEqual(g.field))throw new C(E.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+S.toString()+"' and '"+g.field.toString()+"'");var _=hv(p);_!==null&&k_(p,g.field,_)}var b=function(P,$){for(var G=0,V=P.filters;G<V.length;G++){var Ee=V[G];if($.indexOf(Ee.op)>=0)return Ee.op}return null}(p,function(P){switch(P){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(g.op));if(b!==null)throw b===g.op?new C(E.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+g.op.toString()+"' filter."):new C(E.INVALID_ARGUMENT,"Invalid query. You cannot use '"+g.op.toString()+"' filters with '"+b.toString()+"' filters.")}(o,y),y}(n._query,0,r,n.firestore._databaseId,this.jc,this.Wc,this.Gc);return new Rt(n.firestore,n.converter,function(o,u){var s=o.filters.concat([u]);return new jn(o.path,o.collectionGroup,o.explicitOrderBy.slice(),s,o.limit,o.limitType,o.startAt,o.endAt)}(n._query,i))},t}(bs),q2=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).jc=n,i.zc=r,i.type="orderBy",i}return U(t,e),t.prototype._apply=function(n){var r=function(i,o,u){if(i.startAt!==null)throw new C(E.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new C(E.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var s=new Gi(o,u);return function(a,l){if(hv(a)===null){var c=dv(a);c!==null&&k_(a,c,l.field)}}(i,s),s}(n._query,this.jc,this.zc);return new Rt(n.firestore,n.converter,function(i,o){var u=i.explicitOrderBy.concat([o]);return new jn(i.path,i.collectionGroup,u,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(n._query,r))},t}(bs),Kg=function(e){function t(n,r,i){var o=this;return(o=e.call(this)||this).type=n,o.Hc=r,o.Jc=i,o}return U(t,e),t.prototype._apply=function(n){return new Rt(n.firestore,n.converter,tE(n._query,this.Hc,this.Jc))},t}(bs),Wg=function(e){function t(n,r,i){var o=this;return(o=e.call(this)||this).type=n,o.Yc=r,o.Xc=i,o}return U(t,e),t.prototype._apply=function(n){var r=b_(n,this.type,this.Yc,this.Xc);return new Rt(n.firestore,n.converter,function(i,o){return new jn(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)}(n._query,r))},t}(bs),Hg=function(e){function t(n,r,i){var o=this;return(o=e.call(this)||this).type=n,o.Yc=r,o.Xc=i,o}return U(t,e),t.prototype._apply=function(n){var r=b_(n,this.type,this.Yc,this.Xc);return new Rt(n.firestore,n.converter,function(i,o){return new jn(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,o)}(n._query,r))},t}(bs);function b_(e,t,n,r){if(n[0]=be(n[0]),n[0]instanceof Zu)return function(o,u,s,a,l){if(!a)throw new C(E.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+s+"().");for(var c=[],f=0,h=co(o);f<h.length;f++){var d=h[f];if(d.field.isKeyField())c.push(dl(u,a.key));else{var v=a.data.field(d.field);if(lv(v))throw new C(E.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+d.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(v===null){var m=d.field.canonicalString();throw new C(E.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+m+"' (used as the orderBy) does not exist.")}c.push(v)}}return new Hu(c,l)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=wi(e.firestore);return function(o,u,s,a,l,c){var f=o.explicitOrderBy;if(l.length>f.length)throw new C(E.INVALID_ARGUMENT,"Too many arguments provided to "+a+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var h=[],d=0;d<l.length;d++){var v=l[d];if(f[d].field.isKeyField()){if(typeof v!="string")throw new C(E.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+a+"(), but got a "+typeof v);if(!pv(o)&&v.indexOf("/")!==-1)throw new C(E.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+a+"() must be a plain document ID, but '"+v+"' contains a slash.");var m=o.path.child(Z.fromString(v));if(!F.isDocumentKey(m))throw new C(E.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+a+"() must result in a valid document path, but '"+m+"' is not because it contains an odd number of segments.");var w=new F(m);h.push(dl(u,w))}else{var y=S_(s,a,v);h.push(y)}}return new Hu(h,c)}(e._query,e.firestore._databaseId,i,t,n,r)}function Qg(e,t,n){if(typeof(n=be(n))=="string"){if(n==="")throw new C(E.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!pv(t)&&n.indexOf("/")!==-1)throw new C(E.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(Z.fromString(n));if(!F.isDocumentKey(r))throw new C(E.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return dl(e,new F(r))}if(n instanceof de)return dl(e,n._key);throw new C(E.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Mc(n)+".")}function Gg(e,t){if(!Array.isArray(e)||e.length===0)throw new C(E.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new C(E.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function k_(e,t,n){if(!n.isEqual(t))throw new C(E.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hv=function(){function e(){}return e.prototype.convertValue=function(t,n){switch(n===void 0&&(n="none"),ui(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ie(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(ao(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw M()}},e.prototype.convertObject=function(t,n){var r=this,i={};return pi(t.fields,function(o,u){i[o]=r.convertValue(u,n)}),i},e.prototype.convertGeoPoint=function(t){return new Fc(Ie(t.latitude),Ie(t.longitude))},e.prototype.convertArray=function(t,n){var r=this;return(t.values||[]).map(function(i){return r.convertValue(i,n)})},e.prototype.convertServerTimestamp=function(t,n){switch(n){case"previous":var r=YS(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ku(t));default:return null}},e.prototype.convertTimestamp=function(t){var n=Sr(t);return new Et(n.seconds,n.nanos)},e.prototype.convertDocumentKey=function(t,n){var r=Z.fromString(t);B(TE(r));var i=new Tl(r.get(1),r.get(3)),o=new F(r.popFirst(5));return i.isEqual(n)||Ce("Document "+o+" contains a document reference within a different database ("+i.projectId+"/"+i.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),o},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uc(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var K2=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return U(t,e),t.prototype.convertBytes=function(n){return new li(n)},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new de(this.firestore,null,r)},t}(Hv),W2=function(){function e(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=wi(t)}return e.prototype.set=function(t,n,r){this._verifyNotCommitted();var i=Zn(t,this._firestore),o=Uc(i.converter,n,r),u=jc(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(u.toMutation(i._key,tt.none())),this},e.prototype.update=function(t,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];this._verifyNotCommitted();var u,s=Zn(t,this._firestore);return u=typeof(n=be(n))=="string"||n instanceof mn?qv(this._dataReader,"WriteBatch.update",s._key,n,r,i):zv(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(u.toMutation(s._key,tt.exists(!0))),this},e.prototype.delete=function(t){this._verifyNotCommitted();var n=Zn(t,this._firestore);return this._mutations=this._mutations.concat(new Ts(n._key,tt.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new C(E.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zn(e,t){if((e=be(e)).firestore!==t)throw new C(E.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gr=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return U(t,e),t.prototype.convertBytes=function(n){return new li(n)},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new de(this.firestore,null,r)},t}(Hv);function Yg(e,t,n){e=ee(e,de);var r=ee(e.firestore,Pe),i=Uc(e.converter,t,n);return ks(r,[jc(wi(r),"setDoc",e._key,i,e.converter!==null,n).toMutation(e._key,tt.none())])}function Xg(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];e=ee(e,de);var o=ee(e.firestore,Pe),u=wi(o);return ks(o,[(typeof(t=be(t))=="string"||t instanceof mn?qv(u,"updateDoc",e._key,t,n,r):zv(u,"updateDoc",e._key,t)).toMutation(e._key,tt.exists(!0))])}function N_(e){for(var t,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];e=be(e);var u={includeMetadataChanges:!1},s=0;typeof i[s]!="object"||_o(i[s])||(u=i[s],s++);var a,l,c,f={includeMetadataChanges:u.includeMetadataChanges};if(_o(i[s])){var h=i[s];i[s]=(t=h.next)===null||t===void 0?void 0:t.bind(h),i[s+1]=(n=h.error)===null||n===void 0?void 0:n.bind(h),i[s+2]=(r=h.complete)===null||r===void 0?void 0:r.bind(h)}if(e instanceof de)l=ee(e.firestore,Pe),c=ws(e._key.path),a={next:function(m){i[s]&&i[s](bd(l,e,m))},error:i[s+1],complete:i[s+2]};else{var d=ee(e,Rt);l=ee(d.firestore,Pe),c=d._query;var v=new Gr(l);a={next:function(m){i[s]&&i[s](new Jn(l,v,d,m))},error:i[s+1],complete:i[s+2]},C_(e._query)}return function(m,w,y,p){var g=this,S=new Lc(p),_=new Av(w,S,y);return m.asyncQueue.enqueueAndForget(function(){return T(g,void 0,void 0,function(){var b;return I(this,function(P){switch(P.label){case 0:return b=xv,[4,Eo(m)];case 1:return[2,b.apply(void 0,[P.sent(),_])]}})})}),function(){S.Wo(),m.asyncQueue.enqueueAndForget(function(){return T(g,void 0,void 0,function(){var b;return I(this,function(P){switch(P.label){case 0:return b=Pv,[4,Eo(m)];case 1:return[2,b.apply(void 0,[P.sent(),_])]}})})})}}(Ze(l),c,f,a)}function ks(e,t){return function(n,r){var i=this,o=new It;return n.asyncQueue.enqueueAndForget(function(){return T(i,void 0,void 0,function(){var u;return I(this,function(s){switch(s.label){case 0:return u=s2,[4,l_(n)];case 1:return[2,u.apply(void 0,[s.sent(),r,o])]}})})}),o.promise}(Ze(e),t)}function bd(e,t,n){var r=n.docs.get(t._key),i=new Gr(e);return new Dn(e,i,t._key,r,new qr(n.hasPendingWrites,n.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var H2=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r)||this)._firestore=n,i}return U(t,e),t.prototype.get=function(n){var r=this,i=Zn(n,this._firestore),o=new Gr(this._firestore);return e.prototype.get.call(this,n).then(function(u){return new Dn(r._firestore,o,i._key,u._document,new qr(!1,!1),i.converter)})},t}(function(){function e(t,n){this._firestore=t,this._transaction=n,this._dataReader=wi(t)}return e.prototype.get=function(t){var n=this,r=Zn(t,this._firestore),i=new K2(this._firestore);return this._transaction.lookup([r._key]).then(function(o){if(!o||o.length!==1)return M();var u=o[0];if(u.isFoundDocument())return new Zu(n._firestore,i,u.key,u,r.converter);if(u.isNoDocument())return new Zu(n._firestore,i,r._key,null,r.converter);throw M()})},e.prototype.set=function(t,n,r){var i=Zn(t,this._firestore),o=Uc(i.converter,n,r),u=jc(this._dataReader,"Transaction.set",i._key,o,i.converter!==null,r);return this._transaction.set(i._key,u),this},e.prototype.update=function(t,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var u,s=Zn(t,this._firestore);return u=typeof(n=be(n))=="string"||n instanceof mn?qv(this._dataReader,"Transaction.update",s._key,n,r,i):zv(this._dataReader,"Transaction.update",s._key,n),this._transaction.update(s._key,u),this},e.prototype.delete=function(t){var n=Zn(t,this._firestore);return this._transaction.delete(n._key),this},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jg(){if(typeof Uint8Array>"u")throw new C(E.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Zg(){if(typeof atob>"u")throw new C(E.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var x_=function(){function e(t){this._delegate=t}return e.fromBase64String=function(t){return Zg(),new e(li.fromBase64String(t))},e.fromUint8Array=function(t){return Jg(),new e(li.fromUint8Array(t))},e.prototype.toBase64=function(){return Zg(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return Jg(),this._delegate.toUint8Array()},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),Q2=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(t,n){return function(r,i){qg(r=ee(r,Pe));var o=Ze(r),u=r._freezeSettings(),s=new Td;return zg(o,s,new o_(s,u.cacheSizeBytes,i==null?void 0:i.forceOwnership))}(t._delegate,{forceOwnership:n})},e.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(n){qg(n=ee(n,Pe));var r=Ze(n),i=n._freezeSettings(),o=new Td;return zg(r,o,new _2(o,i.cacheSizeBytes))}(t._delegate)},e.prototype.clearIndexedDbPersistence=function(t){return function(n){var r=this;if(n._initialized&&!n._terminated)throw new C(E.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var i=new It;return n._queue.enqueueAndForgetEvenWhileRestricted(function(){return T(r,void 0,void 0,function(){var o;return I(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,function(s){return T(this,void 0,void 0,function(){var a;return I(this,function(l){switch(l.label){case 0:return yo.yt()?(a=s+"main",[4,yo.delete(a)]):[2,Promise.resolve()];case 1:return l.sent(),[2]}})})}(Iv(n._databaseId,n._persistenceKey))];case 1:return u.sent(),i.resolve(),[3,3];case 2:return o=u.sent(),i.reject(o),[3,3];case 3:return[2]}})})}),i.promise}(t._delegate)},e}(),P_=function(){function e(t,n,r){var i=this;this._delegate=n,this.Zc=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof Tl||(this.tu=t)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){var n=this._delegate._getSettings();t.merge||n.host===t.host||fl("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},n),t)).merge,this._delegate._setSettings(t)},e.prototype.useEmulator=function(t,n,r){r===void 0&&(r={}),function(i,o,u,s){var a;s===void 0&&(s={});var l=(i=ee(i,Ju))._getSettings();if(l.host!=="firestore.googleapis.com"&&l.host!==o&&fl("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},l),{host:o+":"+u,ssl:!1})),s.mockUserToken){var c,f;if(typeof s.mockUserToken=="string")c=s.mockUserToken,f=Ue.MOCK_USER;else{c=yN(s.mockUserToken,(a=i._app)===null||a===void 0?void 0:a.options.projectId);var h=s.mockUserToken.sub||s.mockUserToken.user_id;if(!h)throw new C(E.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Ue(h)}i._credentials=new k2(new c_(c,f))}}(this._delegate,t,n,r)},e.prototype.enableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return T(n,void 0,void 0,function(){var r,i;return I(this,function(o){switch(o.label){case 0:return[4,Rg(t)];case 1:return r=o.sent(),[4,Og(t)];case 2:return i=o.sent(),[2,(r.setNetworkEnabled(!0),function(u){var s=A(u);return s.Or.delete(0),Cs(s)}(i))]}})})})}(Ze(ee(this._delegate,Pe)))},e.prototype.disableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return T(n,void 0,void 0,function(){var r,i;return I(this,function(o){switch(o.label){case 0:return[4,Rg(t)];case 1:return r=o.sent(),[4,Og(t)];case 2:return i=o.sent(),[2,(r.setNetworkEnabled(!1),function(u){return T(this,void 0,void 0,function(){var s;return I(this,function(a){switch(a.label){case 0:return(s=A(u)).Or.add(0),[4,Ro(s)];case 1:return a.sent(),s.Br.set("Offline"),[2]}})})}(i))]}})})})}(Ze(ee(this._delegate,Pe)))},e.prototype.enablePersistence=function(t){var n=!1,r=!1;return t&&f_("synchronizeTabs",n=!!t.synchronizeTabs,"experimentalForceOwningTab",r=!!t.experimentalForceOwningTab),n?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,r)},e.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var n=this,r=new It;return t.asyncQueue.enqueueAndForget(function(){return T(n,void 0,void 0,function(){var i;return I(this,function(o){switch(o.label){case 0:return i=f2,[4,l_(t)];case 1:return[2,i.apply(void 0,[o.sent(),r])]}})})}),r.promise}(Ze(ee(this._delegate,Pe)))},e.prototype.onSnapshotsInSync=function(t){return function(n,r){return function(i,o){var u=this,s=new Lc(o);return i.asyncQueue.enqueueAndForget(function(){return T(u,void 0,void 0,function(){var a;return I(this,function(l){switch(l.label){case 0:return a=function(c,f){A(c).Gr.add(f),f.next()},[4,Eo(i)];case 1:return[2,a.apply(void 0,[l.sent(),s])]}})})}),function(){s.Wo(),i.asyncQueue.enqueueAndForget(function(){return T(u,void 0,void 0,function(){var a;return I(this,function(l){switch(l.label){case 0:return a=function(c,f){A(c).Gr.delete(f)},[4,Eo(i)];case 1:return[2,a.apply(void 0,[l.sent(),s])]}})})})}}(Ze(n=ee(n,Pe)),_o(r)?r:{next:r})}(this._delegate,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.tu)throw new C(E.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new kl(this,h_(this._delegate,t))}catch(n){throw st(n,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new Yr(this,Ea(this._delegate,t))}catch(n){throw st(n,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new zc(this,function(n,r){if(n=ee(n,Ju),Uv("collectionGroup","collection id",r),r.indexOf("/")>=0)throw new C(E.INVALID_ARGUMENT,"Invalid collection ID '"+r+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Rt(n,null,function(i){return new jn(Z.emptyPath(),i)}(r))}(this._delegate,t))}catch(n){throw st(n,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var n=this;return function(r,i){return function(o,u){var s=this,a=new It;return o.asyncQueue.enqueueAndForget(function(){return T(s,void 0,void 0,function(){var l;return I(this,function(c){switch(c.label){case 0:return[4,function(f){return $c(f).then(function(h){return h.datastore})}(o)];case 1:return l=c.sent(),new T2(o.asyncQueue,l,u,a).run(),[2]}})})}),a.promise}(Ze(r),function(o){return i(new H2(r,o))})}(this._delegate,function(r){return t(new D_(n,r))})},e.prototype.batch=function(){var t=this;return Ze(this._delegate),new A_(new W2(this._delegate,function(n){return ks(t._delegate,n)}))},e.prototype.loadBundle=function(t){throw new C(E.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new C(E.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),Vc=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return U(t,e),t.prototype.convertBytes=function(n){return new x_(new li(n))},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return Yr.eu(r,this.firestore,null)},t}(Hv);function G2(e){var t;t=e,nn.setLogLevel(t)}var D_=function(){function e(t,n){this._firestore=t,this._delegate=n,this._userDataWriter=new Vc(t)}return e.prototype.get=function(t){var n=this,r=Kr(t);return this._delegate.get(r).then(function(i){return new es(n._firestore,new Dn(n._firestore._delegate,n._userDataWriter,i._key,i._document,i.metadata,r.converter))})},e.prototype.set=function(t,n,r){var i=Kr(t);return r?(Vv("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this},e.prototype.update=function(t,n,r){for(var i,o=[],u=3;u<arguments.length;u++)o[u-3]=arguments[u];var s=Kr(t);return arguments.length===2?this._delegate.update(s,n):(i=this._delegate).update.apply(i,ge([s,n,r],o)),this},e.prototype.delete=function(t){var n=Kr(t);return this._delegate.delete(n),this},e}(),A_=function(){function e(t){this._delegate=t}return e.prototype.set=function(t,n,r){var i=Kr(t);return r?(Vv("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this},e.prototype.update=function(t,n,r){for(var i,o=[],u=3;u<arguments.length;u++)o[u-3]=arguments[u];var s=Kr(t);return arguments.length===2?this._delegate.update(s,n):(i=this._delegate).update.apply(i,ge([s,n,r],o)),this},e.prototype.delete=function(t){var n=Kr(t);return this._delegate.delete(n),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),Bc=function(){function e(t,n,r){this._firestore=t,this._userDataWriter=n,this._delegate=r}return e.prototype.fromFirestore=function(t,n){var r=new vu(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new ts(this._firestore,r),n??{})},e.prototype.toFirestore=function(t,n){return n?this._delegate.toFirestore(t,n):this._delegate.toFirestore(t)},e.nu=function(t,n){var r=e.su,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new Vc(t),n),i.set(n,o)),o},e}();Bc.su=new WeakMap;var Yr=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new Vc(t)}return e.iu=function(t,n,r){if(t.length%2!=0)throw new C(E.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new de(n._delegate,r,new F(t)))},e.eu=function(t,n,r){return new e(n,new de(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new kl(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new kl(this.firestore,h_(this._delegate,t))}catch(n){throw st(n,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return(t=be(t))instanceof de&&d_(this._delegate,t)},e.prototype.set=function(t,n){n=Vv("DocumentReference.set",n);try{return n?Yg(this._delegate,t,n):Yg(this._delegate,t)}catch(r){throw st(r,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];try{return arguments.length===1?Xg(this._delegate,t):Xg.apply(void 0,ge([this._delegate,t,n],r))}catch(o){throw st(o,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return ks(ee((t=this._delegate).firestore,Pe),[new Ts(t._key,tt.none())]);var t},e.prototype.onSnapshot=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=R_(n),o=O_(n,function(u){return new es(t.firestore,new Dn(t.firestore._delegate,t._userDataWriter,u._key,u._document,u.metadata,t._delegate.converter))});return N_(this._delegate,i,o)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(r){r=ee(r,de);var i=ee(r.firestore,Pe),o=Ze(i),u=new Gr(i);return function(s,a){var l=this,c=new It;return s.asyncQueue.enqueueAndForget(function(){return T(l,void 0,void 0,function(){var f;return I(this,function(h){switch(h.label){case 0:return f=function(d,v,m){return T(this,void 0,void 0,function(){var w,y;return I(this,function(p){switch(p.label){case 0:return p.trys.push([0,2,,3]),[4,function(g,S){var _=A(g);return _.persistence.runTransaction("read document","readonly",function(b){return _.Mn.mn(b,S)})}(d,v)];case 1:return(y=p.sent()).isFoundDocument()?m.resolve(y):y.isNoDocument()?m.resolve(null):m.reject(new C(E.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return w=p.sent(),y=$o(w,"Failed to get document '"+v+" from cache"),m.reject(y),[3,3];case 3:return[2]}})})},[4,a_(s)];case 1:return[2,f.apply(void 0,[h.sent(),a,c])]}})})}),c.promise}(o,r._key).then(function(s){return new Dn(i,u,r._key,s,new qr(s!==null&&s.hasLocalMutations,!0),r.converter)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(r){r=ee(r,de);var i=ee(r.firestore,Pe);return Lg(Ze(i),r._key,{source:"server"}).then(function(o){return bd(i,r,o)})}(this._delegate):function(r){r=ee(r,de);var i=ee(r.firestore,Pe);return Lg(Ze(i),r._key).then(function(o){return bd(i,r,o)})}(this._delegate)).then(function(r){return new es(n.firestore,new Dn(n.firestore._delegate,n._userDataWriter,r._key,r._document,r.metadata,n._delegate.converter))})},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Bc.nu(this.firestore,t)):this._delegate.withConverter(null))},e}();function st(e,t,n){return e.message=e.message.replace(t,n),e}function R_(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if(typeof r=="object"&&!_o(r))return r}return{}}function O_(e,t){var n,r,i;return{next:function(o){i.next&&i.next(t(o))},error:(n=(i=_o(e[0])?e[0]:_o(e[1])?e[1]:typeof e[0]=="function"?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}var es=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"ref",{get:function(){return new Yr(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._delegate.data(t)},e.prototype.get=function(t,n){return this._delegate.get(t,n)},e.prototype.isEqual=function(t){return T_(this._delegate,t._delegate)},e}(),ts=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return U(t,e),t.prototype.data=function(n){return this._delegate.data(n)},t}(es),zc=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new Vc(t)}return e.prototype.where=function(t,n,r){try{return new e(this.firestore,zn(this._delegate,function(i,o,u){var s=o,a=bl("where",i);return new z2(a,s,u)}(t,n,r)))}catch(i){throw st(i,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,zn(this._delegate,function(r,i){i===void 0&&(i="asc");var o=i,u=bl("orderBy",r);return new q2(u,o)}(t,n)))}catch(r){throw st(r,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,zn(this._delegate,function(n){return Vg("limit",n),new Kg("limit",n,"F")}(t)))}catch(n){throw st(n,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,zn(this._delegate,function(n){return Vg("limitToLast",n),new Kg("limitToLast",n,"L")}(t)))}catch(n){throw st(n,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,zn(this._delegate,function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new Wg("startAt",r,!0)}.apply(void 0,t)))}catch(r){throw st(r,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,zn(this._delegate,function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new Wg("startAfter",r,!1)}.apply(void 0,t)))}catch(r){throw st(r,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,zn(this._delegate,function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new Hg("endBefore",r,!0)}.apply(void 0,t)))}catch(r){throw st(r,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,zn(this._delegate,function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new Hg("endAt",r,!1)}.apply(void 0,t)))}catch(r){throw st(r,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return p_(this._delegate,t._delegate)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(r){r=ee(r,Rt);var i=ee(r.firestore,Pe),o=Ze(i),u=new Gr(i);return function(s,a){var l=this,c=new It;return s.asyncQueue.enqueueAndForget(function(){return T(l,void 0,void 0,function(){var f;return I(this,function(h){switch(h.label){case 0:return f=function(d,v,m){return T(this,void 0,void 0,function(){var w,y,p,g,S;return I(this,function(_){switch(_.label){case 0:return _.trys.push([0,2,,3]),[4,El(d,v,!0)];case 1:return S=_.sent(),w=new e_(v,S.Bn),y=w._o(S.documents),p=w.applyChanges(y,!1),m.resolve(p.snapshot),[3,3];case 2:return g=_.sent(),S=$o(g,"Failed to execute query '"+v+" against cache"),m.reject(S),[3,3];case 3:return[2]}})})},[4,a_(s)];case 1:return[2,f.apply(void 0,[h.sent(),a,c])]}})})}),c.promise}(o,r._query).then(function(s){return new Jn(i,u,r,s)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(r){r=ee(r,Rt);var i=ee(r.firestore,Pe),o=Ze(i),u=new Gr(i);return $g(o,r._query,{source:"server"}).then(function(s){return new Jn(i,u,r,s)})}(this._delegate):function(r){r=ee(r,Rt);var i=ee(r.firestore,Pe),o=Ze(i),u=new Gr(i);return C_(r._query),$g(o,r._query).then(function(s){return new Jn(i,u,r,s)})}(this._delegate)).then(function(r){return new kd(n.firestore,new Jn(n.firestore._delegate,n._userDataWriter,n._delegate,r._snapshot))})},e.prototype.onSnapshot=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=R_(n),o=O_(n,function(u){return new kd(t.firestore,new Jn(t.firestore._delegate,t._userDataWriter,t._delegate,u._snapshot))});return N_(this._delegate,i,o)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Bc.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(),Y2=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new ts(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),kd=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"query",{get:function(){return new zc(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(n){return new ts(t._firestore,n)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var n=this;return this._delegate.docChanges(t).map(function(r){return new Y2(n._firestore,r)})},e.prototype.forEach=function(t,n){var r=this;this._delegate.forEach(function(i){t.call(n,new ts(r._firestore,i))})},e.prototype.isEqual=function(t){return T_(this._delegate,t._delegate)},e}(),kl=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r)||this).firestore=n,i._delegate=r,i}return U(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._delegate.parent;return n?new Yr(this.firestore,n):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(n){try{return new Yr(this.firestore,n===void 0?Ea(this._delegate):Ea(this._delegate,n))}catch(r){throw st(r,"doc()","CollectionReference.doc()")}},t.prototype.add=function(n){var r=this;return function(i,o){var u=ee(i.firestore,Pe),s=Ea(i),a=Uc(i.converter,o);return ks(u,[jc(wi(i.firestore),"addDoc",s._key,a,i.converter!==null,{}).toMutation(s._key,tt.exists(!1))]).then(function(){return s})}(this._delegate,n).then(function(i){return new Yr(r.firestore,i)})},t.prototype.isEqual=function(n){return d_(this._delegate,n._delegate)},t.prototype.withConverter=function(n){return new t(this.firestore,n?this._delegate.withConverter(Bc.nu(this.firestore,n)):this._delegate.withConverter(null))},t}(zc);function Kr(e){return ee(e,de)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var X2=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._delegate=new(mn.bind.apply(mn,ge([void 0],t)))}return e.documentId=function(){return new e(sn.keyField().canonicalString())},e.prototype.isEqual=function(t){return(t=be(t))instanceof mn&&this._delegate._internalPath.isEqual(t._internalPath)},e}(),J2=function(){function e(t){this._delegate=t}return e.serverTimestamp=function(){var t=new $2("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new Bv("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new M2("arrayUnion",i)}.apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new F2("arrayRemove",i)}.apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(r){return new j2("increment",r)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e}(),Z2={Firestore:P_,GeoPoint:Fc,Timestamp:Et,Blob:x_,Transaction:D_,WriteBatch:A_,DocumentReference:Yr,DocumentSnapshot:es,Query:zc,QueryDocumentSnapshot:ts,QuerySnapshot:kd,CollectionReference:kl,FieldPath:X2,FieldValue:J2,setLogLevel:G2,CACHE_SIZE_UNLIMITED:A2};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eA(e){(function(t,n){t.INTERNAL.registerComponent(new pc("firestore",function(r){var i=r.getProvider("app").getImmediate();return n(i,r.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},Z2)))})(e,function(t,n){return new P_(t,new Pe(t,n),new Q2)}),e.registerVersion("@firebase/firestore","2.4.1")}eA(No);var tA={apiKey:"AIzaSyD6DnGbVfdJlDJ_pEOUfDfTDJrA8j3lIs8",authDomain:"dv-inventory.firebaseapp.com",databaseURL:"https://dv-inventory.firebaseio.com",projectId:"dv-inventory",storageBucket:"dv-inventory.appspot.com",messagingSenderId:"130062240176",appId:"1:130062240176:web:ecbca5d29b37d25c6cee75"};No.initializeApp(tA);const Ns=No.firestore();async function nA(){return(await Ns.collection("places").get()).docs.map(n=>({id:n.id,data:n.data(),parts:n.data().parts&&n.data().parts.map(r=>r.id)}))}async function rA(){return(await Ns.collection("inventory").get()).docs.map(r=>({id:r.id,data:r.data(),placeId:r.data().place})).filter(r=>r.placeId==="main-101"||r.placeId==="main-102"||r.placeId==="production-1"||r.placeId==="production-2"||r.placeId==="main-head")}async function iA(e){const{place:t,name:n,count:r}=e;return{id:(await Ns.collection("inventory").add({name:n,count:r,place:t})).id,data:{count:r,name:n,place:t},placeId:t}}async function oA(e){return await Ns.collection("inventory").doc(e).delete(),!0}async function uA(e){const t=e.el.id,{name:n,count:r,el:i}=e;return await Ns.collection("inventory").doc(t).update({name:n,count:r,place:i.placeId}),{id:t,data:{count:r,name:n,place:i.placeId},placeId:i.placeId}}const sA={places:[],inventory:[]},aA=as("placesLoaded",async()=>await nA()),L_=as("inventoryLoaded",async()=>await rA()),$_=as("productCreated",async e=>await iA(e)),M_=as("inventoryDeleted",async e=>(await oA(e),e)),F_=as("inventoryChange",async e=>await uA(e)),lA=rN({name:"app",initialState:sA,reducers:{},extraReducers:e=>{e.addCase(aA.fulfilled,(t,n)=>{const r=n.payload;t.places=r}).addCase(L_.fulfilled,(t,n)=>{const r=n.payload;t.inventory=r}).addCase($_.fulfilled,(t,n)=>{const r=n.payload;t.inventory.push(r)}).addCase(M_.fulfilled,(t,n)=>{const r=n.payload;t.inventory=t.inventory.filter(i=>i.id!==r)}).addCase(F_.fulfilled,(t,n)=>{const r=n.payload;t.inventory=t.inventory.map(i=>i.id===r.id?r:i)})}}),cA=lA.reducer,fA="_card_r7s33_1",hA="_buttonBox_r7s33_13",e0={card:fA,buttonBox:hA};function dA(e){const{el:t,onDelete:n,onChange:r}=e,[i,o]=D.useState(!1),[u,s]=D.useState(t.data.name),[a,l]=D.useState(t.data.count),c=v=>{v.preventDefault(),n(t.id)},f=v=>{v.preventDefault(),i&&r({name:u,count:a,el:t}),o(!i)},h=v=>{s(v.target.value)},d=v=>{l(v.target.value)};return j(Qc,{children:t.data.name&&et("div",{className:e0.card,children:[i?et(Qc,{children:[j("input",{type:"text",value:u,onChange:h}),j("input",{type:"text",value:a,onChange:d})]}):et(Qc,{children:[j("div",{children:t.data.name}),et("div",{children:[t.data.count," "]})]}),et("div",{className:e0.buttonBox,children:[j("button",{onClick:f,children:i?"":"."}),j("button",{onClick:c,children:""})]})]})})}const pA=e=>e.app.inventory,vA=Zk({reducer:{app:cA}}),yA=ub,mA="_containerRoom_oz5pf_1",gA="_title_oz5pf_10",wA="_buttonAdd_oz5pf_16",SA="_form_oz5pf_21",EA="_inputBox_oz5pf_44",_A="_buttonBox_oz5pf_48",IA="_containerItem_oz5pf_55",Rr={containerRoom:mA,title:gA,buttonAdd:wA,form:SA,inputBox:EA,buttonBox:_A,containerItem:IA};function En(e){const{type:t,add:n}=e,[r,i]=D.useState(""),[o,u]=D.useState(""),[s,a]=D.useState(!1),l=yA();let c;D.useEffect(()=>{l(L_())},[]);const f=VC(pA);if(t==="main"){const p=["main-101","main-102","main-head"];c=f.filter(g=>g.placeId===p[1]||g.placeId===p[0]||g.placeId===p[2])}else if(t==="production"){const p=["production-1","production-2"];c=f.filter(g=>g.placeId===p[0]||g.placeId===p[1])}else if(t==="main-left"){const p=["main-101","main-102"];c=f.filter(g=>g.placeId===p[0]||g.placeId===p[1])}else if(t==="main-right"){const p=["main-head"];c=f.filter(g=>g.placeId===p[0])}else c=f.filter(p=>p.placeId===t);const h=p=>{i(p.target.value)},d=p=>{u(p.target.value)},v=p=>{a(!s)},m=p=>{p.preventDefault(),l($_({name:r,count:o,place:t})),a(!s)},w=p=>{l(M_(p))},y=p=>{l(F_(p))};return et("div",{className:Rr.containerRoom,children:[j("div",{className:Rr.title,children:"  "}),n&&j("button",{className:Rr.buttonAdd,onClick:v,children:" "}),s&&et("form",{className:Rr.form,onSubmit:m,children:[et("div",{className:Rr.inputBox,children:[j("input",{type:"text",placeholder:"",name:"nameInventory",value:r,onChange:h}),j("input",{type:"text",placeholder:"",name:"countInventory",value:o,onChange:d})]}),et("div",{className:Rr.buttonBox,children:[j("button",{type:"submit",children:""}),j("button",{onClick:v,children:""})]})]}),j("div",{className:Rr.containerItem,children:c.map(p=>j(dA,{el:p,onDelete:w,onChange:y},p.id))})]})}function TA(){return j(ik,{children:et(Qt,{path:"/",element:j(Sk,{}),children:[j(Qt,{path:"/main",element:j(En,{type:"main",add:!1})}),j(Qt,{path:"/main-left",element:j(En,{type:"main-left",add:!1})}),j(Qt,{path:"/main-right",element:j(En,{type:"main-right",add:!1})}),j(Qt,{path:"/production",element:j(En,{type:"production",add:!1})}),j(Qt,{path:"/main-101",element:j(En,{type:"main-101",add:!0})}),j(Qt,{path:"/main-102",element:j(En,{type:"main-102",add:!0})}),j(Qt,{path:"/main-head",element:j(En,{type:"main-head",add:!0})}),j(Qt,{path:"/production-1",element:j(En,{type:"production-1",add:!0})}),j(Qt,{path:"/production-2",element:j(En,{type:"production-2",add:!0})})]})})}Hf.createRoot(document.getElementById("root")).render(j(rb,{store:vA,children:j(lk,{children:j(TA,{})})}));
